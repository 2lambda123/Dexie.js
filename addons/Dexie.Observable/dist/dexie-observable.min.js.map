{"version":3,"sources":["dexie-observable.js"],"names":["global","factory","exports","module","require","define","amd","globalThis","self","Dexie","Observable","this","_interopDefaultLegacy","e","default","Dexie__default","nop","promisableChain","f1","f2","res","apply","arguments","then","thiz","args","CREATE","UPDATE","DELETE","initCrudMonitor","db","table","hook","_observing","tableName","name","subscribe","primKey","obj","trans","rv","undefined","schema","uuid","createUUID","keyPath","setByKeyPath","change","source","key","type","promise","_changes","add","rev","_lastWrittenRevision","Math","max","onsuccess","resultKey","_then","put","onerror","delete","initCreatingHook","mods","oldObj","modsWithoutUndefined","anythingChanged","newObj","deepClone","propPath","mod","delByKeyPath","currentValue","getByKeyPath","JSON","stringify","initUpdatingHook","catch","console","log","stack","initDeletingHook","Promise$2","Promise","initIntercomm","SyncNode","mySyncNode","localStorage","requestsWaitingForReply","consumeIntercommMessages","node","ignoreTransaction","transaction","_intercomm","where","destinationNode","id","toArray","messages","forEach","msg","request","requestId","toString","isFailure","reject","message","error","resolve","result","observable","sendMessage","sender","on","fire","consumeMessage","anyOf","map","DatabaseClosedError","options","wantReply","extend","tables","push","_syncNodes","equals","count","receiverAlive","above","first","masterNode","messageId","setItem","intercomm","broadcastMessage","bIncludeSelf","mySyncNodeId","nodes","all","filter","onIntercomm","dbname","overrideParseStoresSpec","origFunc","stores","dbSchema","call","Object","keys","indexOf","substr","DatabaseChange","defineClass","Number","String","override","Promise$1","browserIsShuttingDown","test","version","Error","NODE_TIMEOUT","HIBERNATE_GRACE_PERIOD","LOCAL_POLL","HEARTBEAT_INTERVAL","localStorageImpl","myRevision","lastHeartBeat","deleteTimeStamp","url","isMaster","syncProtocol","syncContext","syncOptions","connected","status","appliedRemoteRevision","remoteBaseRevisions","local","remote","dbUploadState","tablesToUpload","currentTable","currentKey","localBaseRevision","wakeupObservers","lastWrittenRevision","latestRevision","initWakeupObservers","overrideCreateTransaction","mode","storenames","dbschema","parent","dynamicallyOpened","addChanges","some","storeName","slice","rootTransaction","findRootTransaction","timeoutHandle","clearTimeout","setTimeout","initOverrideCreateTransaction","crudMonitor","overrideOpen","origOpen","_allTables","mapToClass","initOverrideOpen","defineProperty","get","pollHandle","heartbeatHandle","fake","_uncommittedChanges","Date","now","Version","prototype","_parseStoresSpec","addEventType","changes","cleanup","_createTransaction","open","close","origClose","unsubscribe","onLatestRevisionIncremented","onSuicide","onBeforeUnload","suicideNurseCall","origDelete","orderBy","last","lastChange","latestRevisionIncremented","mySyncNodeShouldBecomeMaster","reverse","modify","existingNode","poll","heartbeat","handledRevision","vip","readChanges","recursion","wasPartial","ongoingOperation","partial","ourSyncNode","limit","length","ourNodeStillExists","syncNode","location","reload","finally","currentInstance","isOpen","weBecameMaster","below","value","removeItem","update","deleteOldChanges","wereTheOneDying","nodeID","Events","d","replace","c","r","random","floor","oldestNode","primaryKeys","keysToDelete","bulkDelete","_onStorage","event","parts","split","prop","parseInt","newValue","isNaN","_onBeforeUnload","beforeunload","ex","addEventListener","addons"],"mappings":"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"}