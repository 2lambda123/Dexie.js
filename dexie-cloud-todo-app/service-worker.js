/*! For license information please see service-worker.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=222)}([function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"i",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t,n,r){return new(n||(n=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,a)}c((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(c){a=[6,c],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}Object.create;function a(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}function s(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function f(e){return this instanceof f?(this.v=e,this):new f(e)}function l(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof f?Promise.resolve(n.value.v).then(c,s):l(i[0][2],n)}catch(r){l(i[0][3],r)}var n}function c(e){a("next",e)}function s(e){a("throw",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function d(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=a(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}Object.create},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(0);function o(e,t,n,r,o){return new i(e,t,n,r,o)}var i=function(e){function t(t,n,r,o,i,u){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=u,a._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return Object(r.e)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(n(27).b)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(4);function o(e){return Object(r.a)(null===e||void 0===e?void 0:e.lift)}function i(e){return function(t){if(o(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(0),o=n(76),i=n(174),u=n(5),a=n(173),c=n(175),s=n(178),f=n(176),l=n(53),d=n(4),h=n(171),p=n(46);function v(e){if(e instanceof u.a)return e;if(null!=e){if(Object(a.a)(e))return m=e,new u.a((function(e){var t=m[p.a]();if(Object(d.a)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Object(o.a)(e))return y=e,new u.a((function(e){for(var t=0;t<y.length&&!e.closed;t++)e.next(y[t]);e.complete()}));if(Object(i.a)(e))return v=e,new u.a((function(e){v.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,h.a)}));if(Object(c.a)(e))return b(e);if(Object(f.a)(e))return n=e,new u.a((function(e){var t,o;try{for(var i=Object(r.i)(n),u=i.next();!u.done;u=i.next()){var a=u.value;if(e.next(a),e.closed)return}}catch(c){t={error:c}}finally{try{u&&!u.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}e.complete()}));if(Object(l.a)(e))return t=e,b(Object(l.b)(t))}var t,n,v,y,m;throw Object(s.a)(e)}function b(e){return new u.a((function(t){(function(e,t){var n,o,i,u;return Object(r.d)(this,void 0,void 0,(function(){var a,c;return Object(r.f)(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),n=Object(r.b)(e),s.label=1;case 1:return[4,n.next()];case 2:if((o=s.sent()).done)return[3,4];if(a=o.value,t.next(a),t.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=s.sent(),i={error:c},[3,11];case 6:return s.trys.push([6,,9,10]),o&&!o.done&&(u=n.return)?[4,u.call(n)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}},function(e,t,n){"use strict";function r(e){return"function"===typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(27),o=n(11),i=n(46),u=n(47),a=n(26),c=n(4),s=n(50),f=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i,u=this,a=(i=e)&&i instanceof r.b||function(e){return e&&Object(c.a)(e.next)&&Object(c.a)(e.error)&&Object(c.a)(e.complete)}(i)&&Object(o.c)(i)?e:new r.a(e,t,n);return Object(s.b)((function(){var e=u,t=e.operator,n=e.source;a.add(t?t.call(a,n):n?u._subscribe(a):u._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=l(t))((function(t,o){var i=new r.a({next:function(t){try{e(t)}catch(n){o(n),i.unsubscribe()}},error:o,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[i.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(u.b)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=l(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function l(e){var t;return null!==(t=null!==e&&void 0!==e?e:a.a.Promise)&&void 0!==t?t:Promise}},function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n(5),i=n(11),u=n(158),a=n(19),c=n(50),s=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Object(r.e)(t,e),t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new u.a},t.prototype.next=function(e){var t=this;Object(c.b)((function(){var n,o;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=Object(r.i)(t.currentObservers),u=i.next();!u.done;u=i.next()){u.value.next(e)}}catch(a){n={error:a}}finally{try{u&&!u.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Object(c.b)((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Object(c.b)((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,u=n.observers;return r||o?i.a:(this.currentObservers=null,u.push(e),new i.b((function(){t.currentObservers=null,Object(a.a)(u,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new o.a;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(o.a),f=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return Object(r.e)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:i.a},t}(s)},function(e,t,n){"use strict";try{self["workbox:core:5.1.4"]&&_()}catch(r){}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n(4),o=n(49);function i(e){return e[e.length-1]}function u(e){return Object(r.a)(i(e))?e.pop():void 0}function a(e){return Object(o.a)(i(e))?e.pop():void 0}function c(e,t){return"number"===typeof i(e)?e.pop():t}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s}));var r=n(0),o=n(4),i=n(74),u=n(19),a=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,u,a;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var s=Object(r.i)(c),l=s.next();!l.done;l=s.next()){l.value.remove(this)}}catch(y){e={error:y}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else c.remove(this);var d=this.initialTeardown;if(Object(o.a)(d))try{d()}catch(m){a=m instanceof i.a?m.errors:[m]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var p=Object(r.i)(h),v=p.next();!v.done;v=p.next()){var b=v.value;try{f(b)}catch(g){a=null!==a&&void 0!==a?a:[],g instanceof i.a?a=Object(r.h)(Object(r.h)([],Object(r.g)(a)),Object(r.g)(g.errors)):a.push(g)}}}catch(w){n={error:w}}finally{try{v&&!v.done&&(u=p.return)&&u.call(p)}finally{if(n)throw n.error}}}if(a)throw new i.a(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)f(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Object(u.a)(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Object(u.a)(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),c=a.EMPTY;function s(e){return e instanceof a||e&&"closed"in e&&Object(o.a)(e.remove)&&Object(o.a)(e.add)&&Object(o.a)(e.unsubscribe)}function f(e){Object(o.a)(e)?e():e.unsubscribe()}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(38),o=new(n(37).a)(r.a),i=o},function(e,t,n){"use strict";function r(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";try{self["workbox:precaching:5.1.4"]&&_()}catch(r){}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(5),o=new r.a((function(e){return e.complete()}));function i(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20),o=n(3),i=n(2),u=n(78),a=n(4);function c(e,t,n){return void 0===n&&(n=1/0),Object(a.a)(t)?c((function(n,i){return Object(r.a)((function(e,r){return t(n,e,i,r)}))(Object(o.a)(e(n,i)))}),n):("number"===typeof t&&(n=t),Object(i.b)((function(t,r){return Object(u.a)(t,r,e,n)})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),o=n(1);function i(e,t){return Object(r.b)((function(n,r){var i=0;n.subscribe(Object(o.b)(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(170),o=n(3);function i(e,t){return t?Object(r.a)(e,t):Object(o.a)(e)}},function(e,t,n){"use strict";function r(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),o=n(1);function i(e,t){return Object(r.b)((function(n,r){var i=0;n.subscribe(Object(o.b)(r,(function(n){r.next(e.call(t,n,i++))})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(23),o=Object(r.a)((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(5),o=n(12),i=n(49),u=n(77);function a(e,t,n){void 0===e&&(e=0),void 0===n&&(n=o.a);var a=-1;return null!=t&&(Object(i.a)(t)?n=t:a=t),new r.a((function(t){var r=Object(u.a)(e)?+e-n.now():e;r<0&&(r=0);var o=0;return n.schedule((function(){t.closed||(t.next(o++),0<=a?this.schedule(void 0,a):t.complete())}),r)}))}},function(e,t,n){"use strict";function r(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),o=n(20),i=Array.isArray;function u(e){return Object(o.a)((function(t){return function(e,t){return i(t)?e.apply(void 0,Object(r.h)([],Object(r.g)(t))):e(t)}(e,t)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=Array.isArray;function o(e){return 1===e.length&&r(e[0])?e[0]:e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return y}));var r=n(0),o=n(4),i=n(11),u=n(26),a=n(171),c=n(6),s=f("C",void 0,void 0);function f(e,t,n){return{kind:e,value:t,error:n}}var l=n(172),d=n(50),h=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Object(i.c)(t)&&t.add(n)):n.destination=w,n}return Object(r.e)(t,e),t.create=function(e,t,n){return new y(e,t,n)},t.prototype.next=function(e){this.isStopped?g(function(e){return f("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?g(f("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?g(s,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(i.b),p=Function.prototype.bind;function v(e,t){return p.call(e,t)}var b=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){m(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){m(n)}else m(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){m(t)}},e}(),y=function(e){function t(t,n,r){var i,a,c=e.call(this)||this;Object(o.a)(t)||!t?i={next:null!==t&&void 0!==t?t:void 0,error:null!==n&&void 0!==n?n:void 0,complete:null!==r&&void 0!==r?r:void 0}:c&&u.a.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return c.unsubscribe()},i={next:t.next&&v(t.next,a),error:t.error&&v(t.error,a),complete:t.complete&&v(t.complete,a)}):i=t;return c.destination=new b(i),c}return Object(r.e)(t,e),t}(h);function m(e){u.a.useDeprecatedSynchronousErrorHandling?Object(d.a)(e):Object(a.a)(e)}function g(e,t){var n=u.a.onStoppedNotification;n&&l.a.setTimeout((function(){return n(e,t)}))}var w={closed:!0,next:c.a,error:function(e){throw e},complete:c.a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(184),o=n(2);function i(e,t){return Object(o.b)(Object(r.a)(e,t,arguments.length>=2,!1,!0))}},function(e,t,n){"use strict";try{self["workbox:routing:5.1.4"]&&_()}catch(r){}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(15),o=n(2),i=n(1);function u(e){return e<=0?function(){return r.a}:Object(o.b)((function(t,n){var r=0;t.subscribe(Object(i.b)(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),o=n(2),i=n(1);function u(e,t){return Object(o.b)((function(n,o){var u=null,a=0,c=!1,s=function(){return c&&!u&&o.complete()};n.subscribe(Object(i.b)(o,(function(n){null===u||void 0===u||u.unsubscribe();var c=0,f=a++;Object(r.a)(e(n,f)).subscribe(u=Object(i.b)(o,(function(e){return o.next(t?t(n,e,f,c++):e)}),(function(){u=null,s()})))}),(function(){c=!0,s()})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2);function o(e,t){return void 0===t&&(t=0),Object(r.b)((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(13),o=n(2),i=n(1);function u(e,t){return void 0===t&&(t=0),Object(o.b)((function(n,o){n.subscribe(Object(i.b)(o,(function(n){return Object(r.a)(o,e,(function(){return o.next(n)}),t)}),(function(){return Object(r.a)(o,e,(function(){return o.complete()}),t)}),(function(n){return Object(r.a)(o,e,(function(){return o.error(n)}),t)})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(16),o=n(7);function i(e){return void 0===e&&(e=1/0),Object(r.a)(o.a,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),o=n(1);function i(e){return Object(r.b)((function(t,n){var r=!1;t.subscribe(Object(o.b)(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(21),o=n(2),i=n(1);function u(e){return void 0===e&&(e=a),Object(o.b)((function(t,n){var r=!1;t.subscribe(Object(i.b)(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}function a(){return new r.a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(79),i=function(e){function t(t,n){void 0===n&&(n=o.a.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return Object(r.e)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=function(e){function t(t,n){return e.call(this)||this}return Object(r.e)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(11).b),i={setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var u=i.delegate;return(null===u||void 0===u?void 0:u.setInterval)?u.setInterval.apply(u,Object(r.h)([e,t],Object(r.g)(n))):setInterval.apply(void 0,Object(r.h)([e,t],Object(r.g)(n)))})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=i.delegate;return((null===t||void 0===t?void 0:t.clearInterval)||clearInterval)(e)})),delegate:void 0},u=n(19),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return Object(r.e)(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),i.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&i.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(o){r=!0,n=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Object(u.a)(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(o)},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s}));var r,o=n(15),i=n(71),u=n(160),a=n(4);!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(r||(r={}));var c=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){return s(this,e)},e.prototype.do=function(e,t,n){var r=this,o=r.kind,i=r.value,u=r.error;return"N"===o?null===e||void 0===e?void 0:e(i):"E"===o?null===t||void 0===t?void 0:t(u):null===n||void 0===n?void 0:n()},e.prototype.accept=function(e,t,n){var r;return Object(a.a)(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e=this,t=e.kind,n=e.value,r=e.error,a="N"===t?Object(i.a)(n):"E"===t?Object(u.a)((function(){return r})):"C"===t?o.a:0;if(!a)throw new TypeError("Unexpected notification kind "+t);return a},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function s(e,t){var n,r,o,i=e,u=i.kind,a=i.value,c=i.error;if("string"!==typeof u)throw new TypeError('Invalid notification, missing "kind"');"N"===u?null===(n=t.next)||void 0===n||n.call(t,a):"E"===u?null===(r=t.error)||void 0===r||r.call(t,c):null===(o=t.complete)||void 0===o||o.call(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(43),o=n(10),i=n(18);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(r.a)()(Object(i.a)(e,Object(o.c)(e)))}},function(e,t,n){"use strict";try{self["workbox:strategies:5.1.4"]&&_()}catch(r){}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return l}));var r=n(12),o=n(77),i=n(2),u=n(3),a=n(23),c=n(1),s=n(13),f=Object(a.a)((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}));function l(e,t){var n=Object(o.a)(e)?{first:e}:"number"===typeof e?{each:e}:e,a=n.first,f=n.each,l=n.with,h=void 0===l?d:l,p=n.scheduler,v=void 0===p?null!==t&&void 0!==t?t:r.b:p,b=n.meta,y=void 0===b?null:b;if(null==a&&null==f)throw new TypeError("No timeout provided.");return Object(i.b)((function(e,t){var n,r,o=null,i=0,l=function(e){r=Object(s.a)(t,v,(function(){try{n.unsubscribe(),Object(u.a)(h({meta:y,lastValue:o,seen:i})).subscribe(t)}catch(e){t.error(e)}}),e)};n=e.subscribe(Object(c.b)(t,(function(e){null===r||void 0===r||r.unsubscribe(),i++,t.next(o=e),f>0&&l(f)}),void 0,void 0,(function(){(null===r||void 0===r?void 0:r.closed)||null===r||void 0===r||r.unsubscribe(),o=null}))),!i&&l(null!=a?"number"===typeof a?a:+a-v.now():f)}))}function d(e){throw new f(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(34);function o(){return Object(r.a)(1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(48),o=n(4),i=n(45);function u(e,t){var n=Object(o.a)(e)?e:function(){return e};return Object(o.a)(t)?Object(i.a)(t,{connector:n}):function(e){return new r.a(e,n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),o=n(3),i=n(2),u=n(5);var a={connector:function(){return new r.a}};function c(e,t){void 0===t&&(t=a);var n=t.connector;return Object(i.b)((function(t,r){var i,a=n();Object(o.a)(e((i=a,new u.a((function(e){return i.subscribe(e)}))))).subscribe(r),r.add(t.subscribe(a))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"===typeof Symbol&&Symbol.observable||"@@observable"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(7);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)}function i(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n(5),i=n(11),u=n(54),a=n(1),c=n(2),s=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,Object(c.a)(t)&&(r.lift=t.lift),r}return Object(r.e)(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null===e||void 0===e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new i.b;var n=this.getSubject();t.add(this.source.subscribe(Object(a.b)(n,void 0,(function(){e._teardown(),n.complete()}),(function(t){e._teardown(),n.error(t)}),(function(){return e._teardown()})))),t.closed&&(this._connection=null,t=i.b.EMPTY)}return t},t.prototype.refCount=function(){return Object(u.a)()(this)},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4);function o(e){return e&&Object(r.a)(e.schedule)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var r=n(26),o=null;function i(e){if(r.a.useDeprecatedSynchronousErrorHandling){var t=!o;if(t&&(o={errorThrown:!1,error:null}),e(),t){var n=o,i=n.errorThrown,u=n.error;if(o=null,i)throw u}}else e()}function u(e){r.a.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(16),o=n(4);function i(e,t){return Object(o.a)(t)?Object(r.a)(e,t,1):Object(r.a)(e,1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return a}));var r=n(2),o=n(1),i=n(3),u={leading:!0,trailing:!1};function a(e,t){return void 0===t&&(t=u),Object(r.b)((function(n,r){var u=t.leading,a=t.trailing,c=!1,s=null,f=null,l=!1,d=function(){null===f||void 0===f||f.unsubscribe(),f=null,a&&(v(),l&&r.complete())},h=function(){f=null,l&&r.complete()},p=function(t){return f=Object(i.a)(e(t)).subscribe(Object(o.b)(r,d,h))},v=function(){if(c){c=!1;var e=s;s=null,r.next(e),!l&&p(e)}};n.subscribe(Object(o.b)(r,(function(e){c=!0,s=e,(!f||f.closed)&&(u?v():p(e))}),(function(){l=!0,(!(a&&c&&f)||f.closed)&&r.complete()})))}))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var r=n(0),o=n(4);function i(e){return Object(r.a)(this,arguments,(function(){var t,n,o;return Object(r.f)(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,Object(r.c)(t.read())];case 3:return n=i.sent(),o=n.value,n.done?[4,Object(r.c)(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,Object(r.c)(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function u(e){return Object(o.a)(null===e||void 0===e?void 0:e.getReader)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),o=n(1);function i(){return Object(r.b)((function(e,t){var n=null;e._refCount++;var r=Object(o.b)(t,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)n=null;else{var r=e._connection,o=n;n=null,!r||o&&r!==o||r.unsubscribe(),t.unsubscribe()}}));e.subscribe(r),r.closed||(n=e.connect())}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),o=n(3),i=n(1);function u(e){return Object(r.b)((function(t,n){var r=!1,u=null,a=null,c=!1,s=function(){if(null===a||void 0===a||a.unsubscribe(),a=null,r){r=!1;var e=u;u=null,n.next(e)}c&&n.complete()},f=function(){a=null,c&&n.complete()};t.subscribe(Object(i.b)(n,(function(t){r=!0,u=t,a||Object(o.a)(e(t)).subscribe(a=Object(i.b)(n,s,f))}),(function(){c=!0,(!r||!a||a.closed)&&n.complete()})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(72),o=n(183);function i(e){return Object(o.a)(r.a,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(28),o=n(2),i=function(e,t){return e.push(t),e};function u(){return Object(o.b)((function(e,t){Object(r.a)(i,[])(e).subscribe(t)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(40),o=n(30),i=n(59),u=n(60),a=n(16),c=n(3);function s(e,t){return t?function(n){return Object(r.a)(t.pipe(Object(o.a)(1),Object(i.a)()),n.pipe(s(e)))}:Object(a.a)((function(t,n){return Object(c.a)(e(t,n)).pipe(Object(o.a)(1),Object(u.a)(t))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),o=n(1),i=n(6);function u(){return Object(r.b)((function(e,t){e.subscribe(Object(o.b)(t,i.a))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20);function o(e){return Object(r.a)((function(){return e}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(7),o=n(2),i=n(1);function u(e,t){return void 0===t&&(t=r.a),e=null!==e&&void 0!==e?e:a,Object(o.b)((function(n,r){var o,u=!0;n.subscribe(Object(i.b)(r,(function(n){var i=t(n);!u&&e(o,i)||(u=!1,o=i,r.next(n))})))}))}function a(e,t){return e===t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(63),o=n(7);function i(){return Object(r.a)(o.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20),o=n(3),i=n(2),u=n(1);function a(e,t){return t?function(n){return n.pipe(a((function(n,i){return Object(o.a)(e(n,i)).pipe(Object(r.a)((function(e,r){return t(n,e,i,r)})))})))}:Object(i.b)((function(t,n){var r=0,i=null,a=!1;t.subscribe(Object(u.b)(n,(function(t){i||(i=Object(u.b)(n,void 0,(function(){i=null,a&&n.complete()})),Object(o.a)(e(t,r++)).subscribe(i))}),(function(){a=!0,!i&&n.complete()})))}))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var r=n(2),o=n(1);function i(e,t){return Object(r.b)(u(e,t,"value"))}function u(e,t,n){var r="index"===n;return function(n,i){var u=0;n.subscribe(Object(o.b)(i,(function(o){var a=u++;e.call(t,o,a,n)&&(i.next(r?a:o),i.complete())}),(function(){i.next(r?-1:void 0),i.complete()})))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(15),i=n(2),u=n(1);function a(e){return e<=0?function(){return o.a}:Object(i.b)((function(t,n){var o=[];t.subscribe(Object(u.b)(n,(function(t){o.push(t),e<o.length&&o.shift()}),(function(){var e,t;try{for(var i=Object(r.i)(o),u=i.next();!u.done;u=i.next()){var a=u.value;n.next(a)}}catch(c){e={error:c}}finally{try{u&&!u.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}n.complete()}),void 0,(function(){o=null})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(165),i=n(2),u=n(7);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?Object(i.b)((function(t,n){Object(o.b)(Object(r.h)([t],Object(r.g)(e)))(n)})):u.a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(3),o=n(2),i=n(6),u=n(1);function a(e){return Object(o.b)((function(t,n){var o=!1,a=null;t.subscribe(Object(u.b)(n,(function(e){o=!0,a=e}))),Object(r.a)(e).subscribe(Object(u.b)(n,(function(){if(o){o=!1;var e=a;a=null,n.next(e)}}),i.a))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),o=n(3),i=n(8),u=n(27),a=n(2);function c(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new i.a}:t,r=e.resetOnError,c=void 0===r||r,f=e.resetOnComplete,l=void 0===f||f,d=e.resetOnRefCountZero,h=void 0===d||d;return function(e){var t,r,i,f=0,d=!1,p=!1,v=function(){null===r||void 0===r||r.unsubscribe(),r=void 0},b=function(){v(),t=i=void 0,d=p=!1},y=function(){var e=t;b(),null===e||void 0===e||e.unsubscribe()};return Object(a.b)((function(e,a){f++,p||d||v();var m=i=null!==i&&void 0!==i?i:n();a.add((function(){0!==--f||p||d||(r=s(y,h))})),m.subscribe(a),!t&&f>0&&(t=new u.a({next:function(e){return m.next(e)},error:function(e){p=!0,v(),r=s(b,c,e),m.error(e)},complete:function(){d=!0,v(),r=s(b,l),m.complete()}}),Object(o.a)(e).subscribe(t))}))(e)}}function s(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!0!==t){if(!1!==t){var a=new u.a({next:function(){a.unsubscribe(),e()}});return Object(o.a)(t.apply(void 0,Object(r.h)([],Object(r.g)(n)))).subscribe(a)}}else e()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),o=n(8),i=n(75),u=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=i.a);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,n),o}return Object(r.e)(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,o=n._buffer,i=n._infiniteTimeWindow,u=n._timestampProvider,a=n._windowTime;r||(o.push(t),!i&&o.push(u.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!e.closed;o+=n?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,o=e._infiniteTimeWindow,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){for(var u=n.now(),a=0,c=1;c<r.length&&r[c]<=u;c+=2)a=c;a&&r.splice(0,a+1)}},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return Object(r.e)(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t._hasValue,o=t._value,i=t.thrownError,u=t.isStopped,a=t._isComplete;n?e.error(i):(u||a)&&(r&&e.next(o),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this,n=t._hasValue,r=t._value;t._isComplete||(this._isComplete=!0,n&&e.prototype.next.call(this,r),e.prototype.complete.call(this))},t}(n(8).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(10),o=n(18);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(r.c)(e);return Object(o.a)(e,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var r=n(5),o=n(180),i=n(18),u=n(7),a=n(24),c=n(10),s=n(181),f=n(1),l=n(13);function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(c.c)(e),f=Object(c.b)(e),l=Object(o.a)(e),d=l.args,p=l.keys;if(0===d.length)return Object(i.a)([],n);var v=new r.a(h(d,n,p?function(e){return Object(s.a)(p,e)}:u.a));return f?v.pipe(Object(a.a)(f)):v}function h(e,t,n){return void 0===n&&(n=u.a),function(r){p(t,(function(){for(var o=e.length,u=new Array(o),a=o,c=o,s=function(o){p(t,(function(){var s=Object(i.a)(e[o],t),l=!1;s.subscribe(Object(f.b)(r,(function(e){u[o]=e,l||(l=!0,c--),c||r.next(n(u.slice()))}),(function(){--a||r.complete()})))}),r)},l=0;l<o;l++)s(l)}),r)}}function p(e,t,n){e?Object(l.a)(n,e,t):t()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),o=n(5),i=n(3),u=n(25),a=n(15),c=n(1),s=n(10);function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(s.b)(e),f=Object(u.a)(e);return f.length?new o.a((function(e){var t=f.map((function(){return[]})),o=f.map((function(){return!1}));e.add((function(){t=o=null}));for(var u=function(u){Object(i.a)(f[u]).subscribe(Object(c.b)(e,(function(i){if(t[u].push(i),t.every((function(e){return e.length}))){var a=t.map((function(e){return e.shift()}));e.next(n?n.apply(void 0,Object(r.h)([],Object(r.g)(a))):a),t.some((function(e,t){return!e.length&&o[t]}))&&e.complete()}}),(function(){o[u]=!0,!t[u].length&&e.complete()})))},a=0;!e.closed&&a<f.length;a++)u(a);return function(){t=o=null}})):a.a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(23),o=Object(r.a)((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={now:function(){return(r.delegate||Date).now()},delegate:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e}},function(e,t,n){"use strict";function r(e){return e instanceof Date&&!isNaN(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),o=n(13),i=n(1);function u(e,t,n,u,a,c,s,f){var l=[],d=0,h=0,p=!1,v=function(){!p||l.length||d||t.complete()},b=function(e){return d<u?y(e):l.push(e)},y=function e(f){c&&t.next(f),d++;var p=!1;Object(r.a)(n(f,h++)).subscribe(Object(i.b)(t,(function(e){null===a||void 0===a||a(e),c?b(e):t.next(e)}),(function(){p=!0}),void 0,(function(){if(p)try{d--;for(var n=function(){var n=l.shift();s?Object(o.a)(t,s,(function(){return e(n)})):e(n)};l.length&&d<u;)n();v()}catch(r){t.error(r)}})))};return e.subscribe(Object(i.b)(t,b,(function(){p=!0,v()}))),function(){null===f||void 0===f||f()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(75),o=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=r.a.now,e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(23),o=Object(r.a)((function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}))},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),o=n(55),i=n(22);function u(e,t){return void 0===t&&(t=r.b),Object(o.a)((function(){return Object(i.a)(e,t)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),o=n(6),i=n(1),u=n(3);function a(e){return Object(r.b)((function(t,n){var r=[];return t.subscribe(Object(i.b)(n,(function(e){return r.push(e)}),(function(){n.next(r),n.complete()}))),Object(u.a)(e).subscribe(Object(i.b)(n,(function(){var e=r;r=[],n.next(e)}),o.a)),function(){r=null}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(2),i=n(1),u=n(19);function a(e,t){return void 0===t&&(t=null),t=null!==t&&void 0!==t?t:e,Object(o.b)((function(n,o){var a=[],c=0;n.subscribe(Object(i.b)(o,(function(n){var i,s,f,l,d=null;c++%t===0&&a.push([]);try{for(var h=Object(r.i)(a),p=h.next();!p.done;p=h.next()){(y=p.value).push(n),e<=y.length&&(d=null!==d&&void 0!==d?d:[]).push(y)}}catch(m){i={error:m}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}if(d)try{for(var v=Object(r.i)(d),b=v.next();!b.done;b=v.next()){var y=b.value;Object(u.a)(a,y),o.next(y)}}catch(g){f={error:g}}finally{try{b&&!b.done&&(l=v.return)&&l.call(v)}finally{if(f)throw f.error}}}),(function(){var e,t;try{for(var n=Object(r.i)(a),i=n.next();!i.done;i=n.next()){var u=i.value;o.next(u)}}catch(c){e={error:c}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}o.complete()}),void 0,(function(){a=null})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),o=n(11),i=n(2),u=n(1),a=n(19),c=n(12),s=n(10),f=n(13);function l(e){for(var t,n,l=[],d=1;d<arguments.length;d++)l[d-1]=arguments[d];var h=null!==(t=Object(s.c)(l))&&void 0!==t?t:c.b,p=null!==(n=l[0])&&void 0!==n?n:null,v=l[1]||1/0;return Object(i.b)((function(t,n){var i=[],c=!1,s=function(e){var t=e.buffer;e.subs.unsubscribe(),Object(a.a)(i,e),n.next(t),c&&l()},l=function(){if(i){var t=new o.b;n.add(t);var r={buffer:[],subs:t};i.push(r),Object(f.a)(t,h,(function(){return s(r)}),e)}};null!==p&&p>=0?Object(f.a)(n,h,l,p,!0):c=!0,l();var d=Object(u.b)(n,(function(e){var t,n,o=i.slice();try{for(var u=Object(r.i)(o),a=u.next();!a.done;a=u.next()){var c=a.value,f=c.buffer;f.push(e),v<=f.length&&s(c)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}}),(function(){for(;null===i||void 0===i?void 0:i.length;)n.next(i.shift().buffer);null===d||void 0===d||d.unsubscribe(),n.complete(),n.unsubscribe()}),void 0,(function(){return i=null}));t.subscribe(d)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),o=n(11),i=n(2),u=n(3),a=n(1),c=n(6),s=n(19);function f(e,t){return Object(i.b)((function(n,i){var f=[];Object(u.a)(e).subscribe(Object(a.b)(i,(function(e){var n=[];f.push(n);var r=new o.b;r.add(Object(u.a)(t(e)).subscribe(Object(a.b)(i,(function(){Object(s.a)(f,n),i.next(n),r.unsubscribe()}),c.a)))}),c.a)),n.subscribe(Object(a.b)(i,(function(e){var t,n;try{for(var o=Object(r.i)(f),i=o.next();!i.done;i=o.next()){i.value.push(e)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}),(function(){for(;f.length>0;)i.next(f.shift());i.complete()})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),o=n(6),i=n(1),u=n(3);function a(e){return Object(r.b)((function(t,n){var r=null,a=null;!function t(){null===a||void 0===a||a.unsubscribe();var c=r;r=[],c&&n.next(c),Object(u.a)(e()).subscribe(a=Object(i.b)(n,t,o.a))}(),t.subscribe(Object(i.b)(n,(function(e){return null===r||void 0===r?void 0:r.push(e)}),(function(){r&&n.next(r),n.complete()}),void 0,(function(){return r=a=null})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),o=n(1),i=n(2);function u(e){return Object(i.b)((function(t,n){var i,a=null,c=!1;a=t.subscribe(Object(o.b)(n,void 0,void 0,(function(o){i=Object(r.a)(e(o,u(e)(t))),a?(a.unsubscribe(),a=null,i.subscribe(n)):c=!0}))),c&&(a.unsubscribe(),a=null,i.subscribe(n))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n(56).a},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(166);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.a.apply(void 0,Object(r.h)([],Object(r.g)(e)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(51),o=n(4);function i(e,t){return Object(o.a)(t)?Object(r.a)((function(){return e}),t):Object(r.a)((function(){return e}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(167);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.a.apply(void 0,Object(r.h)([],Object(r.g)(e)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(28);function o(e){return Object(r.a)((function(t,n,r){return!e||e(n,r)?t+1:t}),0)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),o=n(6),i=n(1),u=n(3);function a(e){return Object(r.b)((function(t,n){var r=!1,a=null,c=null,s=function(){if(null===c||void 0===c||c.unsubscribe(),c=null,r){r=!1;var e=a;a=null,n.next(e)}};t.subscribe(Object(i.b)(n,(function(t){null===c||void 0===c||c.unsubscribe(),r=!0,a=t,c=Object(i.b)(n,s,o.a),Object(u.a)(e(t)).subscribe(c)}),(function(){s(),n.complete()}),void 0,(function(){a=c=null})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),o=n(2),i=n(1);function u(e,t){return void 0===t&&(t=r.b),Object(o.b)((function(n,r){var o=null,u=null,a=null,c=function(){if(o){o.unsubscribe(),o=null;var e=u;u=null,r.next(e)}};function s(){var n=a+e,i=t.now();if(i<n)return o=this.schedule(void 0,n-i),void r.add(o);c()}n.subscribe(Object(i.b)(r,(function(n){u=n,a=t.now(),o||(o=t.schedule(s,e),r.add(o))}),(function(){c(),r.complete()}),void 0,(function(){u=o=null})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),o=n(58),i=n(22);function u(e,t){void 0===t&&(t=r.b);var n=Object(i.a)(e,t);return Object(o.a)((function(){return n}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(39),o=n(2),i=n(1);function u(){return Object(o.b)((function(e,t){e.subscribe(Object(i.b)(t,(function(e){return Object(r.c)(e,t)})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),o=n(1),i=n(6),u=n(3);function a(e,t){return Object(r.b)((function(n,r){var a=new Set;n.subscribe(Object(o.b)(r,(function(t){var n=e?e(t):t;a.has(n)||(a.add(n),r.next(t))}))),t&&Object(u.a)(t).subscribe(Object(o.b)(r,(function(){return a.clear()}),i.a))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(61);function o(e,t){return Object(r.a)((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(80),o=n(17),i=n(36),u=n(35),a=n(30);function c(e,t){if(e<0)throw new r.a;var n=arguments.length>=2;return function(c){return c.pipe(Object(o.a)((function(t,n){return n===e})),Object(a.a)(1),n?Object(u.a)(t):Object(i.a)((function(){return new r.a})))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),o=n(40),i=n(71);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Object(o.a)(t,i.a.apply(void 0,Object(r.h)([],Object(r.g)(e))))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),o=n(1);function i(e,t){return Object(r.b)((function(n,r){var i=0;n.subscribe(Object(o.b)(r,(function(o){e.call(t,o,i++,n)||(r.next(!1),r.complete())}),(function(){r.next(!0),r.complete()})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n(62).a},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),o=n(78);function i(e,t,n){return void 0===t&&(t=1/0),t=(t||0)<1?1/0:t,Object(r.b)((function(r,i){return Object(o.a)(r,i,e,t,void 0,!0,n)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2);function o(e){return Object(r.b)((function(t,n){try{t.subscribe(n)}finally{n.add(e)}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),o=n(64);function i(e,t){return Object(r.b)(Object(o.a)(e,t,"index"))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(21),o=n(17),i=n(30),u=n(35),a=n(36),c=n(7);function s(e,t){var n=arguments.length>=2;return function(s){return s.pipe(e?Object(o.a)((function(t,n){return e(t,n,s)})):c.a,Object(i.a)(1),n?Object(u.a)(t):Object(a.a)((function(){return new r.a})))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(5),o=n(3),i=n(8),u=n(2),a=n(1);function c(e,t,n,c){return Object(u.b)((function(u,s){var f;t&&"function"!==typeof t?(n=t.duration,f=t.element,c=t.connector):f=t;var l=new Map,d=function(e){l.forEach(e),e(s)},h=function(e){return d((function(t){return t.error(e)}))},p=0,v=!1,b=new a.a(s,(function(t){try{var u=e(t),d=l.get(u);if(!d){l.set(u,d=c?c():new i.a);var y=function(e,t){var n=new r.a((function(e){p++;var n=t.subscribe(e);return function(){n.unsubscribe(),0===--p&&v&&b.unsubscribe()}}));return n.key=e,n}(u,d);if(s.next(y),n){var m=Object(a.b)(d,(function(){d.complete(),null===m||void 0===m||m.unsubscribe()}),void 0,void 0,(function(){return l.delete(u)}));b.add(Object(o.a)(n(y)).subscribe(m))}}d.next(f?f(t):t)}catch(g){h(g)}}),(function(){return d((function(e){return e.complete()}))}),h,(function(){return l.clear()}),(function(){return v=!0,0===p}));u.subscribe(b)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),o=n(1);function i(){return Object(r.b)((function(e,t){e.subscribe(Object(o.b)(t,(function(){t.next(!1),t.complete()}),(function(){t.next(!0),t.complete()})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(21),o=n(17),i=n(65),u=n(36),a=n(35),c=n(7);function s(e,t){var n=arguments.length>=2;return function(s){return s.pipe(e?Object(o.a)((function(t,n){return e(t,n,s)})):c.a,Object(i.a)(1),n?Object(a.a)(t):Object(u.a)((function(){return new r.a})))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(39),o=n(2),i=n(1);function u(){return Object(o.b)((function(e,t){e.subscribe(Object(i.b)(t,(function(e){t.next(r.a.createNext(e))}),(function(){t.next(r.a.createComplete()),t.complete()}),(function(e){t.next(r.a.createError(e)),t.complete()})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(28),o=n(4);function i(e){return Object(r.a)(Object(o.a)(e)?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n(16).a},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(16),o=n(4);function i(e,t,n){return void 0===n&&(n=1/0),Object(o.a)(t)?Object(r.a)((function(){return e}),t,n):("number"===typeof t&&(n=t),Object(r.a)((function(){return e}),n))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),o=n(78);function i(e,t,n){return void 0===n&&(n=1/0),Object(r.b)((function(r,i){var u=t;return Object(o.a)(r,i,(function(t,n){return e(u,t,n)}),n,(function(e){u=e}),!1,void 0,(function(){return u=null}))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(168);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.a.apply(void 0,Object(r.h)([],Object(r.g)(e)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(28),o=n(4);function i(e){return Object(r.a)(Object(o.a)(e)?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return a}));var r=n(0),o=n(25),i=n(164);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(o.a)(e);return function(e){return i.a.apply(void 0,Object(r.h)([e],Object(r.g)(n)))}}var a=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),o=n(1);function i(){return Object(r.b)((function(e,t){var n,r=!1;e.subscribe(Object(o.b)(t,(function(e){var o=n;n=e,r&&t.next([o,e]),r=!0})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return Object(r.a)((function(t){for(var r=t,o=0;o<n;o++){var i=null===r||void 0===r?void 0:r[e[o]];if("undefined"===typeof i)return;r=i}return r}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(8),o=n(44),i=n(45);function u(e){return e?function(t){return Object(i.a)(e)(t)}:function(e){return Object(o.a)(new r.a)(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(159),o=n(48);function i(e){return function(t){var n=new r.a(e);return new o.a(t,(function(){return n}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(70),o=n(48);function i(){return function(e){var t=new r.a;return new o.a(e,(function(){return t}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(69),o=n(44),i=n(4);function u(e,t,n,u){n&&!Object(i.a)(n)&&(u=n);var a=Object(i.a)(n)?n:void 0;return function(n){return Object(o.a)(new r.a(e,t,u),a)(n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(15),o=n(2),i=n(1),u=n(3),a=n(22);function c(e){var t,n,c=1/0;return null!=e&&("object"===typeof e?(t=e.count,c=void 0===t?1/0:t,n=e.delay):c=e),c<=0?function(){return r.a}:Object(o.b)((function(e,t){var r,o=0,s=function(){if(null===r||void 0===r||r.unsubscribe(),r=null,null!=n){var e="number"===typeof n?Object(a.a)(n):Object(u.a)(n(o)),c=Object(i.b)(t,(function(){c.unsubscribe(),f()}));e.subscribe(c)}else f()},f=function(){var n=!1;r=e.subscribe(Object(i.b)(t,void 0,(function(){++o<c?r?s():n=!0:t.complete()}))),n&&s()};f()}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(3),o=n(8),i=n(2),u=n(1);function a(e){return Object(i.b)((function(t,n){var i,a,c=!1,s=!1,f=!1,l=function(){return f&&s&&(n.complete(),!0)},d=function(){return a||(a=new o.a,Object(r.a)(e(a)).subscribe(Object(u.b)(n,(function(){i?h():c=!0}),(function(){s=!0,l()})))),a},h=function e(){f=!1,i=t.subscribe(Object(u.b)(n,void 0,(function(){f=!0,!l()&&d().next()}))),c&&(i.unsubscribe(),i=null,c=!1,e())};h()}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),o=n(1),i=n(7),u=n(22),a=n(3);function c(e){var t;void 0===e&&(e=1/0);var n=(t=e&&"object"===typeof e?e:{count:e}).count,c=void 0===n?1/0:n,s=t.delay,f=t.resetOnSuccess,l=void 0!==f&&f;return c<=0?i.a:Object(r.b)((function(e,t){var n,r=0;!function i(){var f=!1;n=e.subscribe(Object(o.b)(t,(function(e){l&&(r=0),t.next(e)}),void 0,(function(e){if(r++<c){var l=function(){n?(n.unsubscribe(),n=null,i()):f=!0};if(null!=s){var d="number"===typeof s?Object(u.a)(s):Object(a.a)(s(e,r)),h=Object(o.b)(t,(function(){h.unsubscribe(),l()}),(function(){t.complete()}));d.subscribe(h)}else l()}else t.error(e)}))),f&&(n.unsubscribe(),n=null,i())}()}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(3),o=n(8),i=n(2),u=n(1);function a(e){return Object(i.b)((function(t,n){var i,a,c=!1;!function s(){i=t.subscribe(Object(u.b)(n,void 0,void 0,(function(t){a||(a=new o.a,Object(r.a)(e(a)).subscribe(Object(u.b)(n,(function(){return i?s():c=!0})))),a&&a.next(t)}))),c&&(i.unsubscribe(),i=null,c=!1,s())}()}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),o=n(67),i=n(163);function u(e,t){return void 0===t&&(t=r.b),Object(o.a)(Object(i.a)(e,t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),o=n(184);function i(e,t){return Object(r.b)(Object(o.a)(e,t,arguments.length>=2,!0))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),o=n(1),i=n(3);function u(e,t){return void 0===t&&(t=function(e,t){return e===t}),Object(r.b)((function(n,r){var u={buffer:[],complete:!1},a={buffer:[],complete:!1},c=function(e){r.next(e),r.complete()},s=function(e,n){var i=Object(o.b)(r,(function(r){var o=n.buffer,i=n.complete;0===o.length?i?c(!1):e.buffer.push(r):!t(r,o.shift())&&c(!1)}),(function(){e.complete=!0;var t=n.complete,r=n.buffer;t&&c(0===r.length),null===i||void 0===i||i.unsubscribe()}));return i};n.subscribe(s(u,a)),Object(i.a)(e).subscribe(s(a,u))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(69),o=n(68);function i(e,t,n){var i,u,a,c,s=!1;return e&&"object"===typeof e?(i=e.bufferSize,c=void 0===i?1/0:i,u=e.windowTime,t=void 0===u?1/0:u,s=void 0!==(a=e.refCount)&&a,n=e.scheduler):c=null!==e&&void 0!==e?e:1/0,Object(o.a)({connector:function(){return new r.a(c,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(21),o=n(162),i=n(161),u=n(2),a=n(1);function c(e){return Object(u.b)((function(t,n){var u,c=!1,s=!1,f=0;t.subscribe(Object(a.b)(n,(function(r){s=!0,e&&!e(r,f++,t)||(c&&n.error(new o.a("Too many matching values")),c=!0,u=r)}),(function(){c?(n.next(u),n.complete()):n.error(s?new i.a("No matching values"):new r.a)})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(17);function o(e){return Object(r.a)((function(t,n){return e<=n}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(7),o=n(2),i=n(1);function u(e){return e<=0?r.a:Object(o.b)((function(t,n){var r=new Array(e),o=0;return t.subscribe(Object(i.b)(n,(function(t){var i=o++;if(i<e)r[i]=t;else{var u=i%e,a=r[u];r[u]=t,n.next(a)}}))),function(){r=null}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),o=n(1),i=n(3),u=n(6);function a(e){return Object(r.b)((function(t,n){var r=!1,a=Object(o.b)(n,(function(){null===a||void 0===a||a.unsubscribe(),r=!0}),u.a);Object(i.a)(e).subscribe(a),t.subscribe(Object(o.b)(n,(function(e){return r&&n.next(e)})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),o=n(1);function i(e){return Object(r.b)((function(t,n){var r=!1,i=0;t.subscribe(Object(o.b)(n,(function(t){return(r||(r=!e(t,i++)))&&n.next(t)})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(40),o=n(10),i=n(2);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(o.c)(e);return Object(i.b)((function(t,o){(n?Object(r.a)(e,t,n):Object(r.a)(e,t)).subscribe(o)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(31),o=n(7);function i(){return Object(r.a)(o.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(31),o=n(4);function i(e,t){return Object(o.a)(t)?Object(r.a)((function(){return e}),t):Object(r.a)((function(){return e}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(31),o=n(2);function i(e,t){return Object(o.b)((function(n,o){var i=t;return Object(r.a)((function(t,n){return e(i,t,n)}),(function(e,t){return i=t,t}))(n).subscribe(o),function(){i=null}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),o=n(1),i=n(3),u=n(6);function a(e){return Object(r.b)((function(t,n){Object(i.a)(e).subscribe(Object(o.b)(n,(function(){return n.complete()}),u.a)),!n.closed&&t.subscribe(n)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),o=n(1);function i(e,t){return void 0===t&&(t=!1),Object(r.b)((function(n,r){var i=0;n.subscribe(Object(o.b)(r,(function(n){var o=e(n,i++);(o||t)&&r.next(n),!o&&r.complete()})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),o=n(2),i=n(1),u=n(7);function a(e,t,n){var a=Object(r.a)(e)||t||n?{next:e,error:t,complete:n}:e;return a?Object(o.b)((function(e,t){var n;null===(n=a.subscribe)||void 0===n||n.call(a);var r=!0;e.subscribe(Object(i.b)(t,(function(e){var n;null===(n=a.next)||void 0===n||n.call(a,e),t.next(e)}),(function(){var e;r=!1,null===(e=a.complete)||void 0===e||e.call(a),t.complete()}),(function(e){var n;r=!1,null===(n=a.error)||void 0===n||n.call(a,e),t.error(e)}),(function(){var e,t;r&&(null===(e=a.unsubscribe)||void 0===e||e.call(a)),null===(t=a.finalize)||void 0===t||t.call(a)})))})):u.a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),o=n(52),i=n(22);function u(e,t,n){void 0===t&&(t=r.b),void 0===n&&(n=o.a);var u=Object(i.a)(e,t);return Object(o.b)((function(){return u}),n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),o=n(2),i=n(1);function u(e){return void 0===e&&(e=r.b),Object(o.b)((function(t,n){var r=e.now();t.subscribe(Object(i.b)(n,(function(t){var o=e.now(),i=o-r;r=o,n.next(new a(t,i))})))}))}var a=function(e,t){this.value=e,this.interval=t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),o=n(77),i=n(42);function u(e,t,n){var u,a,c;if(n=null!==n&&void 0!==n?n:r.a,Object(o.a)(e)?u=e:"number"===typeof e&&(a=e),!t)throw new TypeError("No observable provided to switch to");if(c=function(){return t},null==u&&null==a)throw new TypeError("No timeout provided.");return Object(i.b)({first:u,each:a,scheduler:n,with:c})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(75),o=n(20);function i(e){return void 0===e&&(e=r.a),Object(o.a)((function(t){return{value:t,timestamp:e.now()}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),o=n(2),i=n(1),u=n(6),a=n(3);function c(e){return Object(o.b)((function(t,n){var o=new r.a;n.next(o.asObservable());var c=function(e){o.error(e),n.error(e)};return t.subscribe(Object(i.b)(n,(function(e){return null===o||void 0===o?void 0:o.next(e)}),(function(){o.complete(),n.complete()}),c)),Object(a.a)(e).subscribe(Object(i.b)(n,(function(){o.complete(),n.next(o=new r.a)}),u.a,c)),function(){null===o||void 0===o||o.unsubscribe(),o=null}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(8),i=n(2),u=n(1);function a(e,t){void 0===t&&(t=0);var n=t>0?t:e;return Object(i.b)((function(t,i){var a=[new o.a],c=0;i.next(a[0].asObservable()),t.subscribe(Object(u.b)(i,(function(t){var u,s;try{for(var f=Object(r.i)(a),l=f.next();!l.done;l=f.next()){l.value.next(t)}}catch(p){u={error:p}}finally{try{l&&!l.done&&(s=f.return)&&s.call(f)}finally{if(u)throw u.error}}var d=c-e+1;if(d>=0&&d%n===0&&a.shift().complete(),++c%n===0){var h=new o.a;a.push(h),i.next(h.asObservable())}}),(function(){for(;a.length>0;)a.shift().complete();i.complete()}),(function(e){for(;a.length>0;)a.shift().error(e);i.error(e)}),(function(){null,a=null})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(8),o=n(12),i=n(11),u=n(2),a=n(1),c=n(19),s=n(10),f=n(13);function l(e){for(var t,n,l=[],d=1;d<arguments.length;d++)l[d-1]=arguments[d];var h=null!==(t=Object(s.c)(l))&&void 0!==t?t:o.b,p=null!==(n=l[0])&&void 0!==n?n:null,v=l[1]||1/0;return Object(u.b)((function(t,n){var o=[],u=!1,s=function(e){var t=e.window,n=e.subs;t.complete(),n.unsubscribe(),Object(c.a)(o,e),u&&l()},l=function(){if(o){var t=new i.b;n.add(t);var u=new r.a,a={window:u,subs:t,seen:0};o.push(a),n.next(u.asObservable()),Object(f.a)(t,h,(function(){return s(a)}),e)}};null!==p&&p>=0?Object(f.a)(n,h,l,p,!0):u=!0,l();var d=function(e){return o.slice().forEach(e)},b=function(e){d((function(t){var n=t.window;return e(n)})),e(n),n.unsubscribe()};return t.subscribe(Object(a.b)(n,(function(e){d((function(t){t.window.next(e),v<=++t.seen&&s(t)}))}),(function(){return b((function(e){return e.complete()}))}),(function(e){return b((function(t){return t.error(e)}))}))),function(){o=null}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),o=n(8),i=n(11),u=n(2),a=n(3),c=n(1),s=n(6),f=n(19);function l(e,t){return Object(u.b)((function(n,u){var l=[],d=function(e){for(;0<l.length;)l.shift().error(e);u.error(e)};Object(a.a)(e).subscribe(Object(c.b)(u,(function(e){var n=new o.a;l.push(n);var r,h=new i.b;try{r=Object(a.a)(t(e))}catch(p){return void d(p)}u.next(n.asObservable()),h.add(r.subscribe(Object(c.b)(u,(function(){Object(f.a)(l,n),n.complete(),h.unsubscribe()}),s.a,d)))}),s.a)),n.subscribe(Object(c.b)(u,(function(e){var t,n,o=l.slice();try{for(var i=Object(r.i)(o),u=i.next();!u.done;u=i.next()){u.value.next(e)}}catch(a){t={error:a}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}),(function(){for(;0<l.length;)l.shift().complete();u.complete()}),d,(function(){for(;0<l.length;)l.shift().unsubscribe()})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(8),o=n(2),i=n(1),u=n(3);function a(e){return Object(o.b)((function(t,n){var o,a,c=function(e){o.error(e),n.error(e)};!function t(){var s;null===a||void 0===a||a.unsubscribe(),null===o||void 0===o||o.complete(),o=new r.a,n.next(o.asObservable());try{s=Object(u.a)(e())}catch(f){return void c(f)}s.subscribe(a=Object(i.b)(n,t,t,c))}(),t.subscribe(Object(i.b)(n,(function(e){return o.next(e)}),(function(){o.complete(),n.complete()}),c,(function(){null===a||void 0===a||a.unsubscribe(),o=null})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),o=n(2),i=n(1),u=n(3),a=n(7),c=n(6),s=n(10);function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(s.b)(e);return Object(o.b)((function(t,o){for(var s=e.length,f=new Array(s),l=e.map((function(){return!1})),d=!1,h=function(t){Object(u.a)(e[t]).subscribe(Object(i.b)(o,(function(e){f[t]=e,d||l[t]||(l[t]=!0,(d=l.every(a.a))&&(l=null))}),c.a))},p=0;p<s;p++)h(p);t.subscribe(Object(i.b)(o,(function(e){if(d){var t=Object(r.h)([e],Object(r.g)(f));o.next(n?n.apply(void 0,Object(r.h)([],Object(r.g)(t))):t)}})))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(73),o=n(183);function i(e){return Object(o.a)(r.a,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(169);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.a.apply(void 0,Object(r.h)([],Object(r.g)(e)))}},function(e,t,n){"use strict";try{self["workbox:expiration:5.1.4"]&&_()}catch(r){}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(23),o=Object(r.a)((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),o=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return Object(r.e)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n(8).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(5),o=n(4);function i(e,t){var n=Object(o.a)(e)?e:function(){return e},i=function(e){return e.error(n())};return new r.a(t?function(e){return t.schedule(i,0,e)}:i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(23),o=Object(r.a)((function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(23),o=Object(r.a)((function(e){return function(t){e(this),this.name="SequenceError",this.message=t}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(12),o=n(22);function i(e,t){return void 0===e&&(e=0),void 0===t&&(t=r.b),e<0&&(e=0),Object(o.a)(e,e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(5),o=n(25),i=n(1),u=n(6),a=n(3);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(o.a)(e);return new r.a((function(e){var t=0;!function r(){if(t<n.length){var o=void 0;try{o=Object(a.a)(n[t++])}catch(s){return void r()}var c=new i.a(e,void 0,u.a,u.a);o.subscribe(c),c.add(r)}else e.complete()}()}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(5),o=n(3),i=n(25),u=n(1);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=Object(i.a)(e)).length?Object(o.a)(e[0]):new r.a(c(e))}function c(e){return function(t){for(var n=[],r=function(r){n.push(Object(o.a)(e[r]).subscribe(Object(u.b)(t,(function(e){if(n){for(var o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}t.next(e)}))))},i=0;n&&!t.closed&&i<e.length;i++)r(i)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),o=n(72),i=n(2),u=n(25),a=n(24),c=n(47),s=n(10);function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(s.b)(e);return n?Object(c.a)(f.apply(void 0,Object(r.h)([],Object(r.g)(e))),Object(a.a)(n)):Object(i.b)((function(t,n){Object(o.b)(Object(r.h)([t],Object(r.g)(Object(u.a)(e))))(n)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),o=n(2),i=n(43),u=n(10),a=n(18);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(u.c)(e);return Object(o.b)((function(t,o){Object(i.a)()(Object(a.a)(Object(r.h)([t],Object(r.g)(e)),n)).subscribe(o)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n(2),i=n(25),u=n(34),a=n(10),c=n(18);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(a.c)(e),s=Object(a.a)(e,1/0);return e=Object(i.a)(e),Object(o.b)((function(t,o){Object(u.a)(s)(Object(c.a)(Object(r.h)([t],Object(r.g)(e)),n)).subscribe(o)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),o=n(73),i=n(2);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(i.b)((function(t,n){o.a.apply(void 0,Object(r.h)([t],Object(r.g)(e))).subscribe(n)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),o=n(33),i=n(32);var u=n(5);var a=n(179),c=n(13);function s(e,t){if(!e)throw new Error("Iterable cannot be null");return new u.a((function(n){Object(c.a)(n,t,(function(){var r=e[Symbol.asyncIterator]();Object(c.a)(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}var f=n(173),l=n(174),d=n(76),h=n(176),p=n(175),v=n(178),b=n(53);function y(e,t){if(null!=e){if(Object(f.a)(e))return function(e,t){return Object(r.a)(e).pipe(Object(i.a)(t),Object(o.a)(t))}(e,t);if(Object(d.a)(e))return function(e,t){return new u.a((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(Object(l.a)(e))return function(e,t){return Object(r.a)(e).pipe(Object(i.a)(t),Object(o.a)(t))}(e,t);if(Object(p.a)(e))return s(e,t);if(Object(h.a)(e))return Object(a.a)(e,t);if(Object(b.a)(e))return function(e,t){return s(Object(b.b)(e),t)}(e,t)}throw Object(v.a)(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(26),o=n(172);function i(e){o.a.setTimeout((function(){var t=r.a.onUnhandledError;if(!t)throw e;t(e)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),o={setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var u=o.delegate;return(null===u||void 0===u?void 0:u.setTimeout)?u.setTimeout.apply(u,Object(r.h)([e,t],Object(r.g)(n))):setTimeout.apply(void 0,Object(r.h)([e,t],Object(r.g)(n)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=o.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)})),delegate:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(46),o=n(4);function i(e){return Object(o.a)(e[r.a])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4);function o(e){return Object(r.a)(null===e||void 0===e?void 0:e.then)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4);function o(e){return Symbol.asyncIterator&&Object(r.a)(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(177),o=n(4);function i(e){return Object(o.a)(null===e||void 0===e?void 0:e[r.a])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},function(e,t,n){"use strict";function r(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(5),o=n(177),i=n(4),u=n(13);function a(e,t){return new r.a((function(n){var r;return Object(u.a)(n,t,(function(){r=e[o.a](),Object(u.a)(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(i){return void n.error(i)}o?n.complete():n.next(t)}),0,!0)})),function(){return Object(i.a)(null===r||void 0===r?void 0:r.return)&&r.return()}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=Array.isArray,o=Object.getPrototypeOf,i=Object.prototype,u=Object.keys;function a(e){if(1===e.length){var t=e[0];if(r(t))return{args:t,keys:null};if((a=t)&&"object"===typeof a&&o(a)===i){var n=u(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var a;return{args:e,keys:null}}},function(e,t,n){"use strict";function r(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return function(n,r){return!e.call(t,n,r)}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(7),o=n(24),i=n(47),u=n(16),a=n(57);function c(e,t){return Object(i.a)(Object(a.a)(),Object(u.a)((function(t){return e(t)})),t?Object(o.a)(t):r.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1);function o(e,t,n,o,i){return function(u,a){var c=n,s=t,f=0;u.subscribe(Object(r.b)(a,(function(t){var n=f++;s=c?e(s,t,n):(c=!0,t),o&&a.next(s)}),i&&function(){c&&a.next(s),a.complete()}))}}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(192);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(191);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(81).default,o=n(203);e.exports=function(e){var t=o(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,n){(function(e,t){var r,o=n(199).default,i=n(202).default,u=n(190).default,a=n(204).default,c=n(205).default,s=n(206).default,f=n(210).default,l=n(211).default,d=n(212).default,h=n(215).default,p=n(216).default,v=n(217).default;r=function(n,r,b){"use strict";function y(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var m=y(n);function g(e,t,n,r){return new(n||(n=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(Bn){i(Bn)}}function a(e){try{c(r.throw(e))}catch(Bn){i(Bn)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,a)}c((r=r.apply(e,t||[])).next())}))}var w={userId:"unauthorized",name:"Unauthorized",claims:{sub:"unauthorized"},lastLogin:new Date(0)};try{Object.freeze(w),Object.freeze(w.claims)}catch(gr){}var _={},x="undefined"!==typeof self&&self.document&&"undefined"!==typeof navigator&&navigator.serviceWorker;x&&x.ready.then((function(e){return _.registration=e})),"undefined"!==typeof self&&"clients"in self&&!self.document&&addEventListener("message",(function(e){var t,n;(null===(n=null===(t=e.data)||void 0===t?void 0:t.type)||void 0===n?void 0:n.startsWith("sw-broadcast-"))&&v(self.clients.matchAll({includeUncontrolled:!0})).forEach((function(t){var n;return t.id!==(null===(n=e.source)||void 0===n?void 0:n.id)&&t.postMessage(e.data)}))}));var O=function(){function e(t){h(this,e),this.name=t}return p(e,[{key:"subscribe",value:function(e){var t=this;if(!x)return function(){};var n=function(n){var r;(null===(r=n.data)||void 0===r?void 0:r.type)==="sw-broadcast-".concat(t.name)&&e(n.data.message)};return x.addEventListener("message",n),function(){return x.removeEventListener("message",n)}}},{key:"postMessage",value:function(e){var t,n=this;"object"===typeof self.clients?v(self.clients.matchAll({includeUncontrolled:!0})).forEach((function(t){return t.postMessage({type:"sw-broadcast-".concat(n.name),message:e})})):_.registration&&(null===(t=_.registration.active)||void 0===t||t.postMessage({type:"sw-broadcast-".concat(this.name),message:e}))}}]),e}(),k=globalThis["lbc-events"]||(globalThis["lbc-events"]=new Map),j=function(e){l(n,e);var t=d(n);function n(e){var r;h(this,n);var o="undefined"===typeof BroadcastChannel?new O(e):new BroadcastChannel(e);return r=t.call(this,(function(t){function n(e){t.next(e.detail)}function r(e){console.debug("BroadcastedAndLocalEvent: onMessageEvent",e),t.next(e.data)}var i;!function(e,t){k.has(e)?k.get(e).push(t):k.set(e,[t])}("lbc-".concat(e),n);try{o instanceof O?i=o.subscribe((function(e){return t.next(e)})):(console.debug("BroadcastedAndLocalEvent: bc.addEventListener()",e,"bc is a",o),o.addEventListener("message",r))}catch(u){console.warn("Failed to subscribe to broadcast channel",u)}return function(){!function(e,t){var n=k.get(e);if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}("lbc-".concat(e),n),o instanceof O?i():o.removeEventListener("message",r)}})),r.name=e,r.bc=o,r}return p(n,[{key:"next",value:function(e){console.debug("BroadcastedAndLocalEvent: bc.postMessage()",Object.assign({},e),"bc is a",this.bc),this.bc.postMessage(e),function(e){var t=k.get(e.type);t&&t.forEach((function(t){try{t(e)}catch(gr){}}))}(new CustomEvent("lbc-".concat(this.name),{detail:e}))}}]),n}(r.Observable),S=!1;function E(e,t){return g(this,void 0,void 0,f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.serviceWorker.ready;case 3:if(r=n.sent,"push"!==t||!r.sync){n.next=7;break}return n.next=7,r.sync.register("dexie-cloud:".concat(e.name));case 7:if(!r.active){n.next=11;break}r.active.postMessage({type:"dexie-cloud-sync",dbName:e.name,purpose:t}),n.next=12;break;case 11:throw new Error("Failed to trigger sync - there's no active service worker");case 12:return n.abrupt("return");case 15:n.prev=15,n.t0=n.catch(0),S||(console.debug("Dexie Cloud: Could not register sync event",n.t0),S=!0);case 18:case"end":return n.stop()}}),n,null,[[0,15]])})))}function A(e){var t;return g(this,void 0,void 0,f().mark((function n(){var r,o;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.serviceWorker.ready;case 3:if(r=n.sent,!(o=r.periodicSync)){n.next=17;break}return n.prev=6,n.next=9,o.register("dexie-cloud:".concat(e.name),null===(t=e.cloud.options)||void 0===t?void 0:t.periodicSync);case 9:console.debug("Dexie Cloud: Successfully registered periodicsync event for ".concat(e.name)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(6),console.debug("Dexie Cloud: Failed to register periodic sync. Your PWA must be installed to allow background sync.",n.t0);case 15:n.next=18;break;case 17:console.debug("Dexie Cloud: periodicSync not supported.");case 18:n.next=23;break;case 20:n.prev=20,n.t1=n.catch(0),console.debug("Dexie Cloud: Could not register periodicSync for ".concat(e.name),n.t1);case 23:case"end":return n.stop()}}),n,null,[[0,20],[6,12]])})))}function I(e,t){e.cloud.usingServiceWorker?E(e,t):e.localSyncEvent.next({purpose:t})}var P="undefined"!==typeof e?function(t){return e.from(t,"base64")}:function(e){for(var t=atob(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r},T="undefined"!==typeof e?function(t){return ArrayBuffer.isView(t)?e.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"):e.from(t).toString("base64")}:function(e){return btoa(String.fromCharCode.apply(null,ArrayBuffer.isView(e)?e:new Uint8Array(e)))};function C(e){var t=e.realms,n=e.inviteRealms;return g(this,void 0,void 0,f().mark((function e(){var r,o,i,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.stringify([].concat(v(t.map((function(e){return{realmId:e,accepted:!0}}))),v(n.map((function(e){return{realmId:e,accepted:!1}})))).sort((function(e,t){return e.realmId<t.realmId?-1:e.realmId>t.realmId?1:0}))),o=(new TextEncoder).encode(r),e.next=4,crypto.subtle.digest("SHA-1",o);case 4:return i=e.sent,u=T(i),e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})))}function R(e){return Object.entries(e.cloud.schema||{}).filter((function(e){return s(e,2)[1].markedForSync})).map((function(t){var n=s(t,1)[0];return e.tables.filter((function(e){return e.name===n}))[0]})).filter((function(e){return e}))}function D(e){return"$".concat(e,"_mutations")}function U(e){var t,n=null===(t=/^\$(.*)_mutations$/.exec(e))||void 0===t?void 0:t[1];if(!n)throw new Error("Given mutationTable ".concat(e," is not correct"));return n}var N=[].concat;function L(e){return N.apply([],e)}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.since,o=void 0===r?{}:r,i=n.limit,u=void 0===i?1/0:i;return g(this,void 0,void 0,f().mark((function t(){var n,r,i,a,s,l,d,h,p,v,b=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map((function(e){return g(b,void 0,void 0,f().mark((function t(){var n,r,i,a;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=U(e.name),r=o[n],i=r?e.where("rev").above(r):e,u<1/0&&(i=i.limit(u)),t.next=6,i.toArray();case 6:return a=t.sent,t.abrupt("return",a.map((function(e){return{table:n,mut:e}})));case 8:case"end":return t.stop()}}),t)})))})));case 2:n=t.sent,r=L(n).sort((function(e,t){return e.mut.ts-t.mut.ts})),i=[],a=null,s=null,l=c(r);try{for(l.s();!(d=l.n()).done;)h=d.value,p=h.table,v=h.mut,a&&a.table===p&&s===v.txid?a.muts.push(v):(a={table:p,muts:[v]},s=v.txid,i.push(a))}catch(y){l.e(y)}finally{l.f()}return t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)})))}function B(t){var n=new Uint8Array(t);if("undefined"!==typeof crypto)crypto.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());if("undefined"!==typeof e&&e.from)return e.from(n).toString("base64");if("undefined"!==typeof btoa)return btoa(String.fromCharCode.apply(null,n));throw new Error("No btoa or Buffer available")}function K(e){if(!e)throw new Error("Assertion Failed")}var F={}.hasOwnProperty;function q(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!==typeof t&&"length"in t){K("string"!==typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)q(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var u=t.substr(0,i),a=t.substr(i+1);if(""===a)void 0===n?Array.isArray(e)?isNaN(parseInt(u))||e.splice(parseInt(u),1):delete e[u]:e[u]=n;else{var c=e[u];c&&function(e,t){return F.call(e,t)}(e,u)||(c=e[u]={}),q(c,a,n)}}else void 0===n?Array.isArray(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}var W="undefined"!==typeof self&&"undefined"!==typeof crypto?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:crypto.getRandomValues.bind(crypto),n=new Uint8Array(e);return t(n),self.btoa(String.fromCharCode.apply(null,n))}:"undefined"!==typeof e?function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y,r=e.alloc(t);return n(r),r.toString("base64")}:function(){throw new Error("No implementation of randomString was found")};function Y(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}function $(e){return"string"===typeof e||!!(Array.isArray(e)&&e.some((function(e){return $(e)}))&&e.every(z))}function z(e){return"string"===typeof e||"number"===typeof e||Array.isArray(e)&&e.every(z)}function H(e,t,n){var r=e[t]||(e[t]={}),o=n.keys.map((function(e){return"string"===typeof e?e:JSON.stringify(e)}));switch(n.type){case"insert":case"upsert":o.forEach((function(e,t){r[e]={type:"ups",val:n.values[t]}}));break;case"update":case"modify":o.forEach((function(e,t){var o="update"===n.type?n.changeSpecs[t]:n.changeSpec,i=r[e];if(i)switch(i.type){case"ups":for(var u=0,a=Object.entries(o);u<a.length;u++){var c=s(a[u],2),f=c[0],l=c[1];q(i.val,f,l)}break;case"del":break;case"upd":Object.assign(i.mod,o)}else r[e]={type:"upd",mod:o}}));break;case"delete":o.forEach((function(e){r[e]={type:"del"}}))}return e}function V(e,t){var n,r=c(t);try{for(r.s();!(n=r.n()).done;){var o,i=n.value,u=i.table,a=i.muts,s=c(a);try{for(s.s();!(o=s.n()).done;)H(e,u,o.value)}catch(f){s.e(f)}finally{s.f()}}}catch(f){r.e(f)}finally{r.f()}}function G(e,t,n,r){return g(this,void 0,void 0,f().mark((function o(){var i,u,a,c=this;return f().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(i="upload-".concat(B(8)),!t.isLoggedIn){o.next=8;break}if(!(e.length>0)){o.next=8;break}return u=new Set(r||[]),o.next=6,Promise.all(e.map((function(e){return g(c,void 0,void 0,f().mark((function r(){var o,a,c,s,l;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.core.schema.primaryKey.extractKey){r.next=3;break}return r.abrupt("return",{table:e.name,muts:[]});case 3:return a=n[e.name],c=(null===a||void 0===a?void 0:a.generatedGlobalId)?e.filter((function(e){return o(e),!u.has(e.realmId||"")&&(t=o(e),!(n=null===a||void 0===a?void 0:a.idPrefix)||"string"===typeof t&&t.startsWith(n));var t,n})):e.filter((function(e){var t=o(e);return!u.has(e.realmId||"")&&$(t)})),r.next=7,c.toArray();case 7:if(!((s=r.sent).length>0)){r.next=13;break}return l={type:"upsert",values:s,keys:s.map(o),userId:t.userId,txid:i},r.abrupt("return",{table:e.name,muts:[l]});case 13:return r.abrupt("return",{table:e.name,muts:[]});case 14:case"end":return r.stop()}}),r)})))})));case 6:return a=o.sent,o.abrupt("return",a.filter((function(e){return e.muts.length>0})));case 8:return o.abrupt("return",[]);case 9:case"end":return o.stop()}}),o)})))}function J(e,t){var n=(null===t||void 0===t?void 0:t.syncedTables)||[];return R(e).filter((function(e){return!n.includes(e.name)}))}function Q(e,t){return new Promise((function(n,r){var o=Object.assign(Object.assign({},t),{onSubmit:function(t){e.next(void 0),n(t)},onCancel:function(){e.next(void 0),r(new m.default.AbortError("User cancelled"))}});e.next(o)}))}function X(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return Q(e,{type:"message-alert",title:t,alerts:r,fields:{}})}function Z(e,t,n){return g(this,void 0,void 0,f().mark((function r(){var o;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=n||"";case 1:if(o&&/^[\w-\.]+@([\w-]+\.)+[\w-]{2,10}$/.test(o)){r.next=7;break}return r.next=4,Q(e,{type:"email",title:t,alerts:o?[{type:"error",messageCode:"INVALID_EMAIL",message:"Please enter a valid email address",messageParams:{}}]:[],fields:{email:{type:"email",placeholder:"you@somedomain.com"}}});case 4:o=r.sent.email,r.next=1;break;case 7:return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))}function ee(e,t,n){return g(this,void 0,void 0,f().mark((function r(){var o,i,u;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=[{type:"info",messageCode:"OTP_SENT",message:"A One-Time password has been sent to {email}",messageParams:{email:t}}],n&&o.push(n),r.next=4,Q(e,{type:"otp",title:"Enter OTP",alerts:o,fields:{otp:{type:"otp",label:"OTP",placeholder:"Paste OTP here"}}});case 4:return i=r.sent,u=i.otp,r.abrupt("return",u);case 7:case"end":return r.stop()}}),r)})))}function te(e){var t,n;return g(this,void 0,void 0,f().mark((function r(){var o,i,u,a,c,s,l;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getCurrentUser();case 2:if(o=r.sent,i=o.accessToken,u=o.accessTokenExpiration,a=o.refreshToken,c=o.refreshTokenExpiration,s=o.claims,i){r.next=6;break}return r.abrupt("return");case 6:if(!((null!==(t=null===u||void 0===u?void 0:u.getTime())&&void 0!==t?t:1/0)>Date.now())){r.next=9;break}return r.abrupt("return",i);case 9:if(a){r.next=11;break}throw new Error("Refresh token missing");case 11:if(!((null!==(n=null===c||void 0===c?void 0:c.getTime())&&void 0!==n?n:1/0)<=Date.now())){r.next=14;break}throw new Error("Refresh token has expired");case 14:return r.next=16,re(e.cloud.options.databaseUrl,o);case 16:return l=r.sent,r.next=19,e.table("$logins").update(s.sub,{accessToken:l.accessToken,accessTokenExpiration:l.accessTokenExpiration});case 19:return r.abrupt("return",l.accessToken);case 20:case"end":return r.stop()}}),r)})))}function ne(e,t,n,r,o){return g(this,void 0,void 0,f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(t.accessToken&&t.accessTokenExpiration.getTime()>Date.now())){i.next=4;break}return i.abrupt("return",t);case 4:if(!t.refreshToken||t.refreshTokenExpiration&&!(t.refreshTokenExpiration.getTime()>Date.now())){i.next=10;break}return i.next=7,re(e,t);case 7:case 12:return i.abrupt("return",i.sent);case 10:return i.next=12,oe(t,n,r,o);case 13:case"end":return i.stop()}}),i)})))}function re(e,t){return g(this,void 0,void 0,f().mark((function n(){var r,o,i,u,a,c,s,l,d;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.refreshToken){n.next=2;break}throw new Error("Cannot refresh token - refresh token is missing.");case 2:if(t.nonExportablePrivateKey){n.next=4;break}throw new Error("login.nonExportablePrivateKey is missing - cannot sign refresh token without a private key.");case 4:return r=Date.now(),o="RSASSA-PKCS1-v1_5",i=new TextEncoder,u=i.encode(t.refreshToken+r),n.next=10,crypto.subtle.sign(o,t.nonExportablePrivateKey,u);case 10:return a=n.sent,c=T(a),s={grant_type:"refresh_token",refresh_token:t.refreshToken,scopes:["ACCESS_DB"],signature:c,signing_algorithm:o,time_stamp:r},n.next=15,fetch("".concat(e,"/token"),{body:JSON.stringify(s),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});case 15:if(200===(l=n.sent).status){n.next=18;break}throw new Error("RefreshToken: Status ".concat(l.status," from ").concat(e,"/token"));case 18:return n.next=20,l.json();case 20:return d=n.sent,t.accessToken=d.accessToken,t.accessTokenExpiration=d.accessTokenExpiration?new Date(d.accessTokenExpiration):void 0,n.abrupt("return",t);case 24:case"end":return n.stop()}}),n)})))}function oe(e,t,n,r){return g(this,void 0,void 0,f().mark((function o(){var i,u,a,c,s,l;return f().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(crypto.subtle){o.next=6;break}if("undefined"===typeof location||"http:"!==location.protocol){o.next=5;break}throw new Error("Dexie Cloud Addon needs to use WebCrypto, but your browser has disabled it due to being served from an insecure location. Please serve it from https or http://localhost:<port> (See https://stackoverflow.com/questions/46670556/how-to-enable-crypto-subtle-for-unsecure-origins-in-chrome/46671627#46671627)");case 5:throw new Error("This browser does not support WebCrypto.");case 6:return o.next=8,crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!1,["sign","verify"]);case 8:if(i=o.sent,u=i.privateKey,a=i.publicKey,u&&a){o.next=13;break}throw new Error("Could not generate RSA keypair");case 13:return e.nonExportablePrivateKey=u,o.next=16,crypto.subtle.exportKey("spki",a);case 16:return c=o.sent,s=function(e){for(var t="-----BEGIN PUBLIC KEY-----\n";e.length>0;)t+=e.substring(0,64)+"\n",e=e.substring(64);return t+="-----END PUBLIC KEY-----"}(T(c)),e.publicKey=a,o.prev=19,o.next=22,t({public_key:s,hints:r});case 22:if("tokens"===(l=o.sent).type){o.next=25;break}throw new Error("Unexpected response type from token endpoint: ".concat(l.type));case 25:if(e.accessToken=l.accessToken,e.accessTokenExpiration=new Date(l.accessTokenExpiration),e.refreshToken=l.refreshToken,l.refreshTokenExpiration&&(e.refreshTokenExpiration=new Date(l.refreshTokenExpiration)),e.userId=l.claims.sub,e.email=l.claims.email,e.name=l.claims.name,e.claims=l.claims,!(l.alerts&&l.alerts.length>0)){o.next=36;break}return o.next=36,Q(n,{type:"message-alert",title:"Authentication Alert",fields:{},alerts:l.alerts});case 36:return o.abrupt("return",e);case 39:return o.prev=39,o.t0=o.catch(19),o.next=43,X(n,"Authentication Failed",{type:"error",messageCode:"GENERIC_ERROR",message:"We're having a problem authenticating right now.",messageParams:{}}).catch((function(){}));case 43:throw o.t0;case 44:case"end":return o.stop()}}),o,null,[[19,39]])})))}var ie={}.toString,ue={replace:function(e){for(var t=Object.keys(e),n=null,r=0,o=t.length;r<o;++r)"$"===t[r][0]&&(n=n||[]).push(t[r]);if(!n)return e;var i,u=a({},e),s=c(n);try{for(s.s();!(i=s.n()).done;)delete u[i.value]}catch(h){s.e(h)}finally{s.f()}var f,l=c(n);try{for(l.s();!(f=l.n()).done;){var d=f.value;u["$"+d]=e[d]}}catch(h){l.e(h)}finally{l.f()}return u}};function ae(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return a(a({},e),t)}),t.reduce((function(e,t){return a(a({},t),e)}),{})),o=new WeakMap;return{stringify:function(e,t,n){return JSON.stringify(e,(function(e){var n=this[e],i=function(e){var t,n=typeof e;switch(typeof e){case"object":case"function":if(null===e)return null;var i=Object.getPrototypeOf(e);if(!i)return ue;var u=o.get(i);if(void 0!==u)return u;var a=(t=e,ie.call(t).slice(8,-1)),c=Object.entries(r).find((function(t){var n,r,o=s(t,2),i=o[0],u=o[1];return null!==(r=null===(n=null===u||void 0===u?void 0:u.test)||void 0===n?void 0:n.call(u,e,a))&&void 0!==r?r:i===a}));return(u=null===c||void 0===c?void 0:c[1])||(u=Array.isArray(e)?null:"function"===typeof e?r.function||null:ue),o.set(i,u),u;default:return r[n]}}(n);return i?i.replace(n,t,r):n}),n)},parse:function(e,t){var n=[];return JSON.parse(e,(function(e,o){var i=null===o||void 0===o?void 0:o.$t;if(i){var u=r[i];o=u?u.revive(o,t,r):o}var f,l,d=n[n.length-1];if(d&&d[0]===o){o=a({},o);var h,p=c(d[1]);try{for(p.s();!(h=p.n()).done;)delete o[h.value]}catch(w){p.e(w)}finally{p.f()}for(var v=0,b=Object.entries(d[2]);v<b.length;v++){var y=s(b[v],2),m=y[0],g=y[1];o[m]=g}n.pop()}return(void 0===o||"$"===e[0]&&"$t"!==e)&&((d=n[n.length-1])&&d[0]===this?(f=d[1],l=d[2]):n.push([this,f=[],l={}]),"$"===e[0]&&"$t"!==e?(f.push(e),l[e.substr(1)]=o):l[e]=void 0),o}))}}}var ce={Blob:{test:function(e,t){return"Blob"===t},replace:function(e,t){var n=t.length;return t.push(e),{$t:"Blob",mimeType:e.type,i:n}},revive:function(e,t){var n=e.i,r=e.mimeType;return new Blob([t[n]],{type:r})}}},se={number:{replace:function(e){switch(!0){case isNaN(e):return{$t:"number",v:"NaN"};case e===1/0:return{$t:"number",v:"Infinity"};case e===-1/0:return{$t:"number",v:"-Infinity"};default:return e}},revive:function(e){var t=e.v;return Number(t)}}},fe={bigint:{replace:function(e){return{$t:"bigint",v:""+e}},revive:function(e){return BigInt(e.v)}}},le={Date:{replace:function(e){return{$t:"Date",v:isNaN(e.getTime())?"NaN":e.toISOString()}},revive:function(e){var t=e.v;return new Date("NaN"===t?NaN:Date.parse(t))}}},de={Set:{replace:function(e){return{$t:"Set",v:Array.from(e.entries())}},revive:function(e){var t=e.v;return new Set(t)}}},he={Map:{replace:function(e){return{$t:"Map",v:Array.from(e.entries())}},revive:function(e){var t=e.v;return new Map(t)}}},pe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"===typeof t?t:void 0,ve=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","DataView","BigInt64Array","BigUint64Array"].reduce((function(e,t){return a(a({},e),{},u({},t,{replace:function(e,n,r){return{$t:t,v:r.ArrayBuffer.replace(0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),n,r).v}},revive:function(e,n,r){var o=e.v,i=pe[t];return i&&new i(r.ArrayBuffer.revive({v:o},n,r))}}))}),{});function be(e){return function(e){for(var t="",n=0,r=e.length;n<r;n++)t+=ge[e[n]];return t}(T(e))}function ye(e){return P(function(e){if("string"!==typeof e)throw new Error("invalid decoder input: "+e);for(var t="",n=0,r=e.length;n<r;n++)t+=me[e[n]];return t}(e))}for(var me={"-":"=",0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",7:"H",8:"I",9:"J",A:"K",B:"L",C:"M",D:"N",E:"O",F:"P",G:"Q",H:"R",I:"S",J:"T",K:"U",L:"V",M:"W",N:"X",O:"Y",P:"Z",Q:"a",R:"b",S:"c",T:"d",U:"e",V:"f",W:"g",X:"h",Y:"i",Z:"j",_:"k",a:"l",b:"m",c:"n",d:"o",e:"p",f:"q",g:"r",h:"s",i:"t",j:"u",k:"v",l:"w",m:"x",n:"y",o:"z",p:"0",q:"1",r:"2",s:"3",t:"4",u:"5",v:"6",w:"7",x:"8",y:"9",z:"+","|":"/"},ge={},we=0,_e=Object.keys(me);we<_e.length;we++){var xe=_e[we];ge[me[xe]]=xe}var Oe={ArrayBuffer:{replace:function(e){return{$t:"ArrayBuffer",v:be(e)}},revive:function(e){var t=ye(e.v);return t.buffer.byteLength===t.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}}},ke=p((function e(t,n){h(this,e),this.buf=t,this.type=n}));function je(e){var t=new XMLHttpRequest;if(t.overrideMimeType("text/plain; charset=x-user-defined"),t.open("GET",URL.createObjectURL(e),!1),t.send(),200!==t.status&&0!==t.status)throw new Error("Bad Blob access: "+t.status);return t.responseText}function Se(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t.buffer}var Ee={Blob:{test:function(e,t){return"Blob"===t||e instanceof ke},replace:function(e){return{$t:"Blob",v:T(e instanceof ke?e.buf:Se(je(e))),type:e.type}},revive:function(e){var t=e.type,n=e.v,r=P(n);return void 0!==typeof Blob?new Blob([r]):new ke(r.buffer,t)}}},Ae=a(a(a(a(a(a(a(a({},se),fe),le),de),he),ve),Oe),Ee);function Ie(e){return new Promise((function(t,n){var r=new FileReader;r.onabort=function(e){return n(new Error("file read aborted"))},r.onerror=function(e){return n(e.target.error)},r.onload=function(e){return t(e.target.result)},r.readAsText(e)}))}function Pe(e){return new Promise((function(t,n){var r=new FileReader;r.onabort=function(e){return n(new Error("file read aborted"))},r.onerror=function(e){return n(e.target.error)},r.onload=function(e){return t(e.target.result)},r.readAsArrayBuffer(e)}))}var Te={undefined:{replace:function(){return{$t:"undefined"}},revive:function(){}}},Ce="function"===typeof BigInt&&"bigint"===typeof BigInt(0),Re=function(){function e(t){h(this,e),this.v=t}return p(e,[{key:"toString",value:function(){return this.v}}]),e}(),De=Object.assign(Object.assign({},Te),Ce?{}:{bigint:{test:function(e){return e instanceof Re},replace:function(e){return Object.assign({$t:"bigint"},e)},revive:function(e){var t=e.v;return new Re(t)}}}),Ue=ae(Ae,De),Ne=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=ae.apply(void 0,[Ae,ce].concat(t));return{toBinary:function(e){var t=this.stringify(e),n=s(t,2),r=n[0],o=n[1],i=new ArrayBuffer(4);return new DataView(i).setUint32(0,r.size),new Blob([i,r,o])},stringify:function(e){var t=[],n=r.stringify(e,t),o=new Blob(t.map((function(e){var t=new ArrayBuffer(4);return new DataView(t).setUint32(0,"byteLength"in e?e.byteLength:e.size),new Blob([t,e])})));return[o,n]},parse:function(e,t){return i(f().mark((function n(){var o,i,u,a,c,s;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=0,i=[],n.next=4,Pe(t);case 4:for(u=n.sent,a=new DataView(u);o<u.byteLength;)c=a.getUint32(o),o+=4,s=u.slice(o,o+c),o+=c,i.push(s);return n.abrupt("return",r.parse(e,i));case 8:case"end":return n.stop()}}),n)})))()},fromBinary:function(e){var t=this;return i(f().mark((function n(){var r,o,i;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=DataView,n.next=3,Pe(e.slice(0,4));case 3:return n.t1=n.sent,r=new n.t0(n.t1).getUint32(0),o=e.slice(4,r+4),n.next=8,Ie(e.slice(r+4));case 8:return i=n.sent,n.next=11,t.parse(i,o);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n)})))()}}}(De),Le=function(e){l(n,e);var t=d(n);function n(e,r){var o;return h(this,n),(o=t.call(this,r||"".concat(e.status," ").concat(e.statusText))).httpStatus=e.status,o}return p(n,[{key:"name",get:function(){return"HttpError"}}]),n}(o(Error));function Me(e,t,n){var r,o=[],i=c(n);try{var u=function(){var n=r.value,i=n.table,u=n.muts,a=e.tables.find((function(e){return e.name===i}));if(!a)throw new Error("Internal error: table ".concat(i," not found in DBCore schema"));var c=a.primaryKey,s=n;u.forEach((function(e,r){var o=!c.outbound&&("upsert"===e.type||"insert"===e.type);e.keys.forEach((function(e,i){if(Array.isArray(e)){s===n&&(s=Be(n,o));var u=s.muts[r],a=JSON.stringify(e);u.keys[i]=a,o&&m.default.setByKeyPath(u.values[i],c.keyPath,a)}else if("#"===e[0]){s===n&&(s=Be(n,o));var f=s.muts[r];if(!t.isLoggedIn)throw new Error("Internal error: Cannot sync private IDs before authenticated");var l="".concat(e,":").concat(t.userId);f.keys[i]=l,o&&m.default.setByKeyPath(f.values[i],c.keyPath,l)}}))})),o.push(s)};for(i.s();!(r=i.n()).done;)u()}catch(a){i.e(a)}finally{i.f()}return o}function Be(e,t){return Object.assign(Object.assign({},e),{muts:t?e.muts.map((function(e){return"insert"!==e.type&&"upsert"!==e.type||!e.values?Object.assign(Object.assign({},e),{keys:e.keys.slice()}):Object.assign(Object.assign({},e),{keys:e.keys.slice(),values:e.values.slice()})})):e.muts.map((function(e){return Object.assign(Object.assign({},e),{keys:e.keys.slice()})}))})}function Ke(e,t,n,r,o,i,u,a){return g(this,void 0,void 0,f().mark((function c(){var s,l,d,h,p,v;return f().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s={Accept:"application/json, application/x-bison, application/x-bison-stream","Content-Type":"application/tson"},c.next=3,te(r);case 3:return(l=c.sent)&&(s.Authorization="Bearer ".concat(l)),d={v:2,dbID:null===t||void 0===t?void 0:t.remoteDbId,clientIdentity:u,schema:i||{},lastPull:t?{serverRevision:t.serverRevision,realms:t.realms,inviteRealms:t.inviteRealms}:void 0,baseRevs:n,changes:Me(r.dx.core.schema,a,e)},console.debug("Sync request",d),r.syncStateChangedEvent.next({phase:"pushing"}),c.next=10,fetch("".concat(o,"/sync"),{method:"post",headers:s,body:Ue.stringify(d)});case 10:if(h=c.sent,r.syncStateChangedEvent.next({phase:"pulling"}),h.ok){c.next=14;break}throw new Le(h);case 14:c.t0=h.headers.get("content-type"),c.next="application/x-bison"===c.t0?17:("application/x-bison-stream"===c.t0||c.t0,22);break;case 17:return c.t1=Ne,c.next=20,h.blob();case 20:return c.t2=c.sent,c.abrupt("return",c.t1.fromBinary.call(c.t1,c.t2));case 22:return c.next=24,h.text();case 24:return p=c.sent,v=Ue.parse(p),c.abrupt("return",v);case 27:case"end":return c.stop()}}),c)})))}function Fe(e,t,n){return g(this,void 0,void 0,f().mark((function r(){var o,i,u,a;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=new Set(n||[]),i=c(e),r.prev=2,i.s();case 4:if((u=i.n()).done){r.next=24;break}if("members"!==(a=u.value).name){r.next=11;break}return r.next=9,a.toCollection().modify((function(e){o.has(e.realmId)||e.userId&&e.userId!==w.userId||(e.userId=t.userId)}));case 9:r.next=22;break;case 11:if("roles"!==a.name){r.next=15;break}r.next=22;break;case 15:if("realms"!==a.name){r.next=20;break}return r.next=18,a.toCollection().modify((function(e){o.has(e.realmId)||void 0!==e.owner&&e.owner!==w.userId||(e.owner=t.userId)}));case 18:r.next=22;break;case 20:return r.next=22,a.toCollection().modify((function(e){e.realmId&&o.has(e.realmId)||(e.owner&&e.owner!==w.userId||(e.owner=t.userId),e.realmId&&e.realmId!==w.userId||(e.realmId=t.userId))}));case 22:r.next=4;break;case 24:r.next=29;break;case 26:r.prev=26,r.t0=r.catch(2),i.e(r.t0);case 29:return r.prev=29,i.f(),r.finish(29);case 32:case"end":return r.stop()}}),r,null,[[2,26,29,32]])})))}function qe(e){if(null===e||void 0===e?void 0:e.cancelled)throw new m.default.AbortError("Operation was cancelled")}var We=!1;function Ye(e,t,n,r){return g(this,void 0,void 0,f().mark((function o(){return f().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.$baseRevs.bulkPut(Object.keys(t).filter((function(e){return t[e].markedForSync})).map((function(e){return{tableName:e,clientRev:(n[e]||0)+1,serverRev:r}})));case 2:case"end":return o.stop()}}),o)})))}function $e(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=c(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.table,u=o.muts,a=u.length>0?u[u.length-1].rev:null;n[i]=a||n[i]||0}}catch(s){r.e(s)}finally{r.f()}return n}function ze(e,t,r){return g(this,void 0,void 0,f().mark((function o(){var i,u,a;return f().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.bulkGet(t);case 2:return i=o.sent,u=[],a=[],t.forEach((function(t,o){var c=i[o];if(c){for(var f=0,l=Object.entries(r[o]);f<l.length;f++){var d=s(l[f],2),h=d[0],p=d[1];if(h===e.schema.primKey.keyPath){if(0!==n.cmp(p,t))throw new Error("Cannot change primary key")}else m.default.setByKeyPath(c,h,p)}u.push(t),a.push(c)}})),o.next=8,null==e.schema.primKey.keyPath?e.bulkPut(a,u):e.bulkPut(a);case 8:case"end":return o.stop()}}),o)})))}function He(e,t){return g(this,void 0,void 0,f().mark((function n(){var r,o,i;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.debug("Applying server changes",e,m.default.currentTransaction),r=c(e),n.prev=2,i=f().mark((function e(){var n,r,i,u,a,s,l,d,h;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.value,r=n.table,i=n.muts,u=t.table(r)){e.next=4;break}return e.abrupt("return","continue");case 4:a=u.core.schema.primaryKey,s=function(e){switch(e[0]){case"[":if(e.endsWith("]"))try{return JSON.parse(e)}catch(gr){}return e;case"#":return e.endsWith(":"+t.cloud.currentUserId)?e.substr(0,e.length-t.cloud.currentUserId.length-1):e;default:return e}},l=c(i),e.prev=7,h=f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d.value,n=t.keys.map(s),e.t0=t.type,e.next="insert"===e.t0?5:"upsert"===e.t0?14:"modify"===e.t0?23:"update"===e.t0?31:"delete"===e.t0?34:37;break;case 5:if(!a.outbound){e.next=10;break}return e.next=8,u.bulkAdd(t.values,n);case 8:e.next=13;break;case 10:return n.forEach((function(e,n){m.default.setByKeyPath(t.values[n],a.keyPath,e)})),e.next=13,u.bulkAdd(t.values);case 13:case 22:case 30:case 33:case 36:return e.abrupt("break",37);case 14:if(!a.outbound){e.next=19;break}return e.next=17,u.bulkPut(t.values,n);case 17:e.next=22;break;case 19:return n.forEach((function(e,n){m.default.setByKeyPath(t.values[n],a.keyPath,e)})),e.next=22,u.bulkPut(t.values);case 23:if(1!==n.length){e.next=28;break}return e.next=26,u.update(n[0],t.changeSpec);case 26:e.next=30;break;case 28:return e.next=30,u.where(":id").anyOf(n).modify(t.changeSpec);case 31:return e.next=33,ze(u,n,t.changeSpecs);case 34:return e.next=36,u.bulkDelete(n);case 37:case"end":return e.stop()}}),e)})),l.s();case 10:if((d=l.n()).done){e.next=14;break}return e.delegateYield(h(),"t0",12);case 12:e.next=10;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(7),l.e(e.t1);case 19:return e.prev=19,l.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[7,16,19,22]])})),r.s();case 5:if((o=r.n()).done){n.next=12;break}return n.delegateYield(i(),"t0",7);case 7:if("continue"!==n.t0){n.next=10;break}return n.abrupt("continue",10);case 10:n.next=5;break;case 12:n.next=17;break;case 14:n.prev=14,n.t1=n.catch(2),r.e(n.t1);case 17:return n.prev=17,r.f(),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[2,14,17,20]])})))}"undefined"!==typeof self&&"undefined"!==typeof navigator&&(We=navigator.onLine,self.addEventListener("online",(function(){return We=!0})),self.addEventListener("offline",(function(){return We=!1})));var Ve="currentSyncWorker";function Ge(e,t,n,r){var o=this;return Je.apply(this,arguments).then((function(){(null===r||void 0===r?void 0:r.justCheckIfNeeded)||e.syncStateChangedEvent.next({phase:"in-sync"})})).catch((function(i){return g(o,void 0,void 0,f().mark((function o(){return f().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(null===r||void 0===r?void 0:r.justCheckIfNeeded)){o.next=2;break}return o.abrupt("return",Promise.reject(i));case 2:if(console.debug("Error from _sync",{isOnline:We,syncOptions:r,error:i}),!(We&&(null===r||void 0===r?void 0:r.retryImmediatelyOnFetchError)&&"TypeError"===(null===i||void 0===i?void 0:i.name)&&/fetch/.test(null===i||void 0===i?void 0:i.message))){o.next=10;break}return e.syncStateChangedEvent.next({phase:"error",error:i}),o.next=7,new Promise((function(e){return setTimeout(e,500)}));case 7:return o.next=9,Ge(e,t,n,Object.assign(Object.assign({},r),{retryImmediatelyOnFetchError:!1}));case 9:return o.abrupt("return",o.sent);case 10:return o.next=12,e.$syncState.update("syncState",{timestamp:new Date,error:""+i});case 12:return e.syncStateChangedEvent.next({phase:We?"error":"offline",error:i}),o.abrupt("return",Promise.reject(i));case 14:case"end":return o.stop()}}),o)})))}))}function Je(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{isInitialSync:!1},i=o.isInitialSync,u=o.cancelToken,a=o.justCheckIfNeeded,l=o.purpose;return g(this,void 0,void 0,f().mark((function o(){var d,h,p,b,y,m,w,_,x,O,k,j,S,E,A,I,P,T=this;return f().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(a||console.debug("SYNC STARTED",{isInitialSync:i,purpose:l}),null===(r=e.cloud.options)||void 0===r?void 0:r.databaseUrl){o.next=3;break}throw new Error("Internal error: sync must not be called when no databaseUrl is configured");case 3:return d=t.databaseUrl,o.next=6,e.getCurrentUser();case 6:return h=o.sent,p=h.isLoggedIn?R(e):[],b=p.map((function(t){return e.table(D(t.name))})),o.next=11,e.getPersistedSyncState();case 11:if(y=o.sent,m=!i&&h.isLoggedIn,w=m?J(e,y):[],qe(u),!(_=w.length>0)){o.next=22;break}if(!a){o.next=19;break}return o.abrupt("return",!0);case 19:return o.next=21,e.transaction("rw",w,(function(e){return g(T,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.idbtrans.disableChangeTracking=!0,e.idbtrans.disableAccessControl=!0,t.next=4,Fe(w,h,null===y||void 0===y?void 0:y.realms);case 4:case"end":return t.stop()}}),t)})))}));case 21:qe(u);case 22:return o.next=24,e.transaction("r",e.tables,(function(){return g(T,void 0,void 0,f().mark((function t(){var r,o,i,a,c;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPersistedSyncState();case 2:return r=t.sent,t.next=5,e.$baseRevs.toArray();case 5:return o=t.sent,t.next=8,M(b);case 8:if(i=t.sent,qe(u),!_){t.next=18;break}return a=[].concat(v((null===y||void 0===y?void 0:y.realms)||[]),v((null===y||void 0===y?void 0:y.inviteRealms)||[])),t.next=14,G(w,h,n,a);case 14:return c=t.sent,qe(u),i=i.concat(c),t.abrupt("return",[i,r,o]);case 18:return t.abrupt("return",[i,r,o]);case 19:case"end":return t.stop()}}),t)})))}));case 24:if(x=o.sent,O=s(x,3),k=O[0],j=O[1],S=O[2],E=k.some((function(e){return e.muts.some((function(e){return e.keys.length>0}))})),!a){o.next=33;break}return console.debug("Sync is needed:",E),o.abrupt("return",E);case 33:if("push"!==l||E){o.next=35;break}return o.abrupt("return",!1);case 35:return A=$e(k,null===j||void 0===j?void 0:j.latestRevisions),I=(null===j||void 0===j?void 0:j.clientIdentity)||W(16),qe(u),o.next=40,Ke(k,j,S,e,d,n,I,h);case 40:return P=o.sent,console.debug("Sync response",P),o.next=44,e.transaction("rw",e.tables,(function(t){return g(T,void 0,void 0,f().mark((function r(){var o,i,u,a,s,l,d,h,v,y;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(t.idbtrans.disableChangeTracking=!0,t.idbtrans.disableAccessControl=!0,o=0,i=Object.keys(n);o<i.length;o++)u=i[o],P.schema[u]&&(n[u]=P.schema[u]);return r.next=5,e.$syncState.put(n,"schema");case 5:return r.next=7,M(b,e,{since:A});case 7:a=r.sent,s=c(b),r.prev=9,d=f().mark((function t(){var n,r,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=l.value,r=U(n.name),a.some((function(e){return e.table===r&&e.muts.length>0}))){t.next=7;break}return t.next=5,Promise.all([n.clear(),e.$baseRevs.where({tableName:r}).delete()]);case 5:case 11:t.next=14;break;case 7:if(!A[r]){t.next=13;break}return o=A[r]||0,t.next=11,Promise.all([n.where("rev").belowOrEqual(o).delete(),e.$baseRevs.where(":id").between([r,-1/0],[r,o+1],!0,!0).reverse().offset(1).delete()]);case 13:case 14:case"end":return t.stop()}}),t)})),s.s();case 12:if((l=s.n()).done){r.next=16;break}return r.delegateYield(d(),"t0",14);case 14:r.next=12;break;case 16:r.next=21;break;case 18:r.prev=18,r.t1=r.catch(9),s.e(r.t1);case 21:return r.prev=21,s.f(),r.finish(21);case 24:return $e(a,A),r.next=27,Ye(e,n,A,P.serverRevision);case 27:return r.next=29,e.getPersistedSyncState();case 29:return h=r.sent,r.next=32,Qe(e,P,h);case 32:return v=h||{syncedTables:[],latestRevisions:{},realms:[],inviteRealms:[],clientIdentity:I},m&&(v.syncedTables=p.map((function(e){return e.name})).concat(w.map((function(e){return e.name})))),v.latestRevisions=A,v.remoteDbId=P.dbId,v.initiallySynced=!0,v.realms=P.realms,v.inviteRealms=P.inviteRealms,v.serverRevision=P.serverRevision,v.timestamp=new Date,delete v.error,y=Xe(P.changes,a),r.next=45,He(y,e);case 45:return e.$syncState.put(v,"syncState"),r.abrupt("return",0===a.length);case 47:case"end":return r.stop()}}),r,null,[[9,18,21,24]])})))}));case 44:if(o.sent){o.next=50;break}return console.debug("MORE SYNC NEEDED. Go for it again!"),o.next=49,Je(e,t,n,{isInitialSync:i,cancelToken:u});case 49:return o.abrupt("return",o.sent);case 50:return console.debug("SYNC DONE",{isInitialSync:i}),e.syncCompleteEvent.next(),o.abrupt("return",!1);case 53:case"end":return o.stop()}}),o)})))}function Qe(e,t,n){return g(this,void 0,void 0,f().mark((function r(){var o,i,u,a,s,l,d,h,p,b,y,m,g,w,_,x;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=new Set,i=new Set,u=n?n.realms:[],a=n?n.inviteRealms:[],s=new Set(t.realms),l=new Set(t.realms.concat(t.inviteRealms)),d=c(u);try{for(d.s();!(h=d.n()).done;)p=h.value,s.has(p)||(i.add(p),l.has(p)||o.add(p))}catch(O){d.e(O)}finally{d.f()}b=c(a.concat(u));try{for(b.s();!(y=b.n()).done;)m=y.value,l.has(m)||o.add(m)}catch(O){b.e(O)}finally{b.f()}if(!(o.size>0||i.size>0)){r.next=31;break}g=R(e),w=c(g),r.prev=13,x=f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_.value,0!==(n=["realms","members","roles"].includes(t.name)?o:i).size){e.next=4;break}return e.abrupt("return","continue");case 4:if(!t.schema.indexes.some((function(e){return"realmId"===e.keyPath||Array.isArray(e.keyPath)&&"realmId"===e.keyPath[0]}))){e.next=9;break}return e.next=7,t.where("realmId").anyOf(v(n)).delete();case 7:e.next=11;break;case 9:return e.next=11,t.filter((function(e){return!!(null===e||void 0===e?void 0:e.realmId)&&n.has(e.realmId)})).delete();case 11:case"end":return e.stop()}}),e)})),w.s();case 16:if((_=w.n()).done){r.next=23;break}return r.delegateYield(x(),"t0",18);case 18:if("continue"!==r.t0){r.next=21;break}return r.abrupt("continue",21);case 21:r.next=16;break;case 23:r.next=28;break;case 25:r.prev=25,r.t1=r.catch(13),w.e(r.t1);case 28:return r.prev=28,w.f(),r.finish(28);case 31:case"end":return r.stop()}}),r,null,[[13,25,28,31]])})))}function Xe(e,t){var n={};V(n,e);var r={};return V(r,t),function(e,t){for(var n,r,o,i=0,u=Object.entries(t);i<u.length;i++)for(var a=s(u[i],2),c=a[0],f=a[1],l=0,d=Object.entries(f);l<d.length;l++){var h=s(d[l],2),p=h[0],v=h[1];switch(v.type){case"ups":var b=null===(n=e[c])||void 0===n?void 0:n[p];if(b)switch(b.type){case"ups":case"upd":delete e[c][p]}break;case"del":null===(r=e[c])||void 0===r||delete r[p];break;case"upd":var y=null===(o=e[c])||void 0===o?void 0:o[p];if(y)switch(y.type){case"ups":for(var m=0,g=Object.entries(v.mod);m<g.length;m++){var w=s(g[m],2),_=w[0],x=w[1];q(y.val,_,x)}break;case"del":break;case"upd":for(var O=0,k=Object.keys(v.mod);O<k.length;O++){var j=k[O];delete y.mod[j]}}}}}(n,r),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t||(t=W(16));for(var n={},r=0,o=Object.entries(e);r<o.length;r++)for(var i=s(o[r],2),u=i[0],a=i[1],c=0,f=Object.entries(a);c<f.length;c++){var l=s(f[c],2),d=l[0],h=l[1],p=n[u]||(n[u]={});(p[h.type]||(p[h.type]=[])).push(Object.assign({key:d},h))}for(var v=[],b=0,y=Object.entries(n);b<y.length;b++){for(var m=s(y[b],2),g=m[0],w=m[1],_={table:g,muts:[]},x=0,O=Object.entries(w);x<O.length;x++){var k=s(O[x],2),j=k[0],S=k[1];switch(j){case"ups":var E={type:"upsert",keys:S.map((function(e){return e.key})),values:S.map((function(e){return e.val})),txid:t};_.muts.push(E);break;case"upd":var A={type:"update",keys:S.map((function(e){return e.key})),changeSpecs:S.map((function(e){return e.mod})),txid:t};_.muts.push(A);break;case"del":var I={type:"delete",keys:S.map((function(e){return e.key})),txid:t};_.muts.push(I)}}v.push(_)}return v}(n)}var Ze=new WeakMap,et={members:"@id, [userId+realmId], [email+realmId], realmId",roles:"[realmId+name]",realms:"@realmId",$jobs:"",$syncState:"",$baseRevs:"[tableName+clientRev]",$logins:"claims.sub, lastLogin"},tt=0;function nt(e){"vip"in e&&(e=e.vip);var t=Ze.get(e.cloud);if(!t){var n=new r.Subject,o=new j("syncstatechanged-".concat(e.name)),i=new j("synccomplete-".concat(e.name));n.id=++tt;var u=!1;t={get name(){return e.name},close:function(){return e.close()},transaction:e.transaction.bind(e),table:e.table.bind(e),get tables(){return e.tables},cloud:e.cloud,get $jobs(){return e.table("$jobs")},get $syncState(){return e.table("$syncState")},get $baseRevs(){return e.table("$baseRevs")},get $logins(){return e.table("$logins")},get realms(){return e.realms},get members(){return e.members},get roles(){return e.roles},get initiallySynced(){return u},localSyncEvent:n,get syncStateChangedEvent(){return o},get syncCompleteEvent(){return i},dx:e};var a={getCurrentUser:function(){return t.$logins.toArray().then((function(e){return e.find((function(e){return e.isLoggedIn}))||w}))},getPersistedSyncState:function(){return t.$syncState.get("syncState")},getSchema:function(){return t.$syncState.get("schema").then((function(e){if(e){var n,r=c(t.tables);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.schema.primKey&&o.schema.primKey.keyPath&&e[o.name]&&(e[o.name].primaryKey="string"===typeof(i=o.schema.primKey.keyPath)?i:i?"["+[].join.call(i,"+")+"]":"")}}catch(u){r.e(u)}finally{r.f()}}var i;return e}))},getOptions:function(){return t.$syncState.get("options")},setInitiallySynced:function(e){u=e},reconfigure:function(){o=new j("syncstatechanged-".concat(e.name)),i=new j("synccomplete-".concat(e.name))}};Object.assign(t,a),t.messageConsumer=function(e){var t=this,n=[],o=new r.BehaviorSubject(!0),i=new r.BehaviorSubject(null),u=!1,a=0,c=[0,0,0,0,0,0,0,0,0,Date.now()];function l(){var t,r,o,i,u,a;return g(this,void 0,void 0,f().mark((function c(){var l,d=this;return f().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:l=f().mark((function c(){var l,h,p,v;return f().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return l=n.shift(),c.prev=1,c.next=4,e.cloud.syncState.pipe(b.filter((function(e){var t=e.phase;return"in-sync"===t||"error"===t})),b.take(1)).toPromise();case 4:if(console.debug("processing msg",l),h=e.cloud.persistedSyncState.value,l){c.next=8;break}return c.abrupt("return","continue");case 8:c.t0=l.type,c.next="token-expired"===c.t0?11:"realm-added"===c.t0?19:"realm-accepted"===c.t0?23:"realm-removed"===c.t0?27:"realms-changed"===c.t0?31:"changes"===c.t0?34:42;break;case 11:return console.debug("WebSocket observable: Token expired. Refreshing token..."),p=e.cloud.currentUser.value,c.next=15,re(e.cloud.options.databaseUrl,p);case 15:return v=c.sent,c.next=18,e.table("$logins").update(p.userId,{accessToken:v.accessToken,accessTokenExpiration:v.accessTokenExpiration});case 18:return c.abrupt("break",42);case 19:if((null===(t=null===h||void 0===h?void 0:h.realms)||void 0===t?void 0:t.includes(l.realm))||(null===(r=null===h||void 0===h?void 0:h.inviteRealms)||void 0===r?void 0:r.includes(l.realm))){c.next=22;break}return c.next=22,e.cloud.sync({purpose:"pull",wait:!0});case 22:return c.abrupt("break",42);case 23:if(null===(o=null===h||void 0===h?void 0:h.realms)||void 0===o?void 0:o.includes(l.realm)){c.next=26;break}return c.next=26,e.cloud.sync({purpose:"pull",wait:!0});case 26:return c.abrupt("break",42);case 27:if(!(null===(i=null===h||void 0===h?void 0:h.realms)||void 0===i?void 0:i.includes(l.realm))&&!(null===(u=null===h||void 0===h?void 0:h.inviteRealms)||void 0===u?void 0:u.includes(l.realm))){c.next=30;break}return c.next=30,e.cloud.sync({purpose:"pull",wait:!0});case 30:return c.abrupt("break",42);case 31:return c.next=33,e.cloud.sync({purpose:"pull",wait:!0});case 33:return c.abrupt("break",42);case 34:if(console.debug("changes"),"error"!==(null===(a=e.cloud.syncState.value)||void 0===a?void 0:a.phase)){c.next=38;break}return I(e,"pull"),c.abrupt("break",42);case 38:return c.next=40,e.transaction("rw",e.dx.tables,(function(t){return g(d,void 0,void 0,f().mark((function n(){var r,o,i,u,a,c,d,h,p;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.idbtrans.disableChangeTracking=!0,t.idbtrans.disableAccessControl=!0,n.next=4,Promise.all([e.getSchema(),e.getPersistedSyncState(),e.getCurrentUser()]);case 4:if(r=n.sent,o=s(r,3),i=o[0],u=o[1],a=o[2],console.debug("ws message queue: in transaction"),u&&i&&a){n.next=13;break}return console.debug("required vars not present",{syncState:u,schema:i,currentUser:a}),n.abrupt("return");case 13:if(l.baseRev===u.serverRevision){n.next=17;break}return console.debug("baseRev (".concat(l.baseRev,") differs from our serverRevision in syncState (").concat(u.serverRevision,")")),"string"!==typeof l.baseRev||"bigint"!==typeof u.serverRevision&&"object"!==typeof u.serverRevision||I(e,"pull"),n.abrupt("return");case 17:return n.next=19,m.default.waitFor(C(u));case 19:if(c=n.sent,console.debug("ourRealmSetHash",c),c===l.realmSetHash){n.next=25;break}return console.debug("not same realmSetHash",l.realmSetHash),I(e,"pull"),n.abrupt("return");case 25:if(d=[],!a.isLoggedIn){n.next=32;break}return h=R(e).map((function(t){return e.table(D(t.name))})),n.next=30,M(h,e);case 30:d=n.sent,console.debug("msg queue: client changes",d);case 32:if(!(l.changes.length>0)){n.next=37;break}return p=Xe(l.changes,d),console.debug("applying filtered server changes",p),n.next=37,He(p,e);case 37:return u.latestRevisions=$e(d,u.latestRevisions),u.serverRevision=l.newRev,console.debug("Updating baseRefs",u.latestRevisions),n.next=42,Ye(e,i,u.latestRevisions,l.newRev);case 42:return console.debug("Updating syncState",u),n.next=45,e.$syncState.put(u,"syncState");case 45:case"end":return n.stop()}}),n)})))}));case 40:return console.debug("msg queue: done with rw transaction"),c.abrupt("break",42);case 42:c.next=47;break;case 44:c.prev=44,c.t1=c.catch(1),console.error("Error in msg queue",c.t1);case 47:case"end":return c.stop()}}),c,null,[[1,44]])}));case 1:if(!(n.length>0)){c.next=8;break}return c.delegateYield(l(),"t0",3);case 3:if("continue"!==c.t0){c.next=6;break}return c.abrupt("continue",1);case 6:c.next=1;break;case 8:case"end":return c.stop()}}),c)})))}return i.subscribe((function(){return g(t,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=2;break}return e.abrupt("return");case 2:if(!(n.length>0)){e.next=26;break}return u=!0,c.shift(),c.push(Date.now()),o.next(!1),e.prev=7,e.next=10,l();case 10:if(e.prev=10,!(c[c.length-1]-c[0]<1e4)){e.next=23;break}if(!(Date.now()-a<5e3)){e.next=19;break}return console.warn("Slowing down websocket loop for one minute"),a=Date.now()+6e4,e.next=17,new Promise((function(e){return setTimeout(e,6e4)}));case 17:e.next=23;break;case 19:return console.warn("Slowing down websocket loop for 10 seconds"),a=Date.now()+1e4,e.next=23,new Promise((function(e){return setTimeout(e,1e4)}));case 23:return u=!1,o.next(!0),e.finish(10);case 26:case"end":return e.stop()}}),e,null,[[7,,10,26]])})))})),{enqueue:function(e){n.push(e),i.next(null)},readyToServe:o}}(t),Ze.set(e.cloud,t)}return t}var rt=new WeakMap,ot=function(){function e(t,n){h(this,e),rt.set(this,t),Object.assign(this,n)}return p(e,[{key:"save",value:function(){return g(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rt.get(this).table("$logins").put(this);case 2:case"end":return e.stop()}}),e,this)})))}}],[{key:"load",value:function(t,n){return t.table("$logins").get(n).then((function(r){return new e(t,r||{userId:n,claims:{sub:n},lastLogin:new Date(0)})}))}}]),e}();function it(e){var t=e.cloud.userInteraction;return function(n){var r,o=n.public_key,i=n.hints;return g(this,void 0,void 0,f().mark((function n(){var u,a,c,s,l,d,h,p,v,b,y,m;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=null===(r=e.cloud.options)||void 0===r?void 0:r.databaseUrl){n.next=3;break}throw new Error("No database URL given.");case 3:if("demo"!==(null===i||void 0===i?void 0:i.grant_type)){n.next=10;break}return n.next=6,Z(t,"Enter a demo user email",(null===i||void 0===i?void 0:i.email)||(null===i||void 0===i?void 0:i.userId));case 6:c=n.sent,u={demo_user:c,grant_type:"demo",scopes:["ACCESS_DB"],public_key:o},n.next=14;break;case 10:return n.next=12,Z(t,"Enter email address",null===i||void 0===i?void 0:i.email);case 12:s=n.sent,u={email:s,grant_type:"otp",scopes:["ACCESS_DB"],public_key:o};case 14:return n.next=16,fetch("".concat(a,"/token"),{body:JSON.stringify(u),method:"post",headers:{"Content-Type":"application/json",mode:"cors"}});case 16:if(200===(l=n.sent).status){n.next=24;break}return n.next=20,l.text();case 20:return d=n.sent,n.next=23,X(t,"Token request failed",{type:"error",messageCode:"GENERIC_ERROR",message:d,messageParams:{}}).catch((function(){}));case 23:throw new Le(l,d);case 24:return n.next=26,l.json();case 26:if("tokens"!==(h=n.sent).type){n.next=31;break}return n.abrupt("return",h);case 31:if("otp"!==u.grant_type){n.next=67;break}if("otp-sent"===h.type){n.next=34;break}throw new Error("Unexpected response from ".concat(a,"/token"));case 34:return n.next=36,ee(t,u.email);case 36:return p=n.sent,u.otp=p||"",u.otp_id=h.otp_id,n.next=41,fetch("".concat(a,"/token"),{body:JSON.stringify(u),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});case 41:v=n.sent;case 42:if(401!==v.status){n.next=54;break}return n.next=45,v.text();case 45:return b=n.sent,n.next=48,ee(t,u.email,{type:"error",messageCode:"INVALID_OTP",message:b,messageParams:{}});case 48:return u.otp=n.sent,n.next=51,fetch("".concat(a,"/token"),{body:JSON.stringify(u),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});case 51:v=n.sent,n.next=42;break;case 54:if(200===v.status){n.next=61;break}return n.next=57,v.text();case 57:return y=n.sent,n.next=60,X(t,"OTP Authentication Failed",{type:"error",messageCode:"GENERIC_ERROR",message:y,messageParams:{}}).catch((function(){}));case 60:throw new Le(v,y);case 61:return n.next=63,v.json();case 63:return m=n.sent,n.abrupt("return",m);case 67:throw new Error("Unexpected response from ".concat(a,"/token"));case 68:case"end":return n.stop()}}),n)})))}}function ut(e,t){return g(this,void 0,void 0,f().mark((function n(){var r,o=this;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.userId!==e.cloud.currentUserId){n.next=2;break}return n.abrupt("return");case 2:return r=e.table("$logins"),n.next=5,e.transaction("rw",r,(function(e){return g(o,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.toArray();case 2:return n=e.sent,e.next=5,Promise.all(n.filter((function(e){return e.userId!==t.userId&&e.isLoggedIn})).map((function(e){return e.isLoggedIn=!1,r.put(e)})));case 5:return t.isLoggedIn=!0,t.lastLogin=new Date,e.next=9,t.save();case 9:console.debug("Saved new user",t.email);case 10:case"end":return e.stop()}}),e)})))}));case 5:return n.next=7,new Promise((function(n){if(e.cloud.currentUserId===t.userId)n(null);else var r=e.cloud.currentUser.subscribe((function(e){e.userId===t.userId&&(r.unsubscribe(),n(null))}))}));case 7:case"end":return n.stop()}}),n)})))}function at(e,t){return g(this,void 0,void 0,f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getCurrentUser();case 2:if(!n.sent.isLoggedIn){n.next=10;break}if(!t){n.next=9;break}if(!t.email||e.cloud.currentUser.value.email===t.email){n.next=7;break}throw new Error("Must logout before changing user");case 7:if(!t.userId||e.cloud.currentUserId===t.userId){n.next=9;break}throw new Error("Must logout before changing user");case 9:return n.abrupt("return",!1);case 10:return r=new ot(e,{claims:{},lastLogin:new Date(0)}),n.next=13,ne(e.cloud.options.databaseUrl,r,e.cloud.options.fetchTokens||it(e),e.cloud.userInteraction,t);case 13:return n.prev=13,n.next=16,r.save();case 16:n.next=22;break;case 18:n.prev=18,n.t0=n.catch(13);try{"DataCloneError"===n.t0.name&&(console.debug("Login context property names:",Object.keys(r)),console.debug("Login context:",r),console.debug("Login context JSON:",JSON.stringify(r)))}catch(gr){}throw n.t0;case 22:return n.next=24,ut(e,r);case 24:return I(e,"pull"),n.abrupt("return",!0);case 26:case"end":return n.stop()}}),n,null,[[13,18]])})))}var ct="undefined"!==typeof InstallTrigger,st="undefined"!==typeof navigator&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\/|Edge\//.test(navigator.userAgent),ft=st?[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]:NaN,lt=st&&ft<=605||ct,dt="undefined"!==typeof self&&"clients"in self&&!self.document;function ht(){throw new m.default.SchemaError("Version increment needed to allow dexie-cloud change tracking")}var pt={}.toString;function vt(e){return pt.call(e).slice(8,-1)}function bt(e,t){var n;return"delete"===t.type?t.keys:(null===(n=t.keys)||void 0===n?void 0:n.slice())||t.values.map(e.extractKey)}var yt=/b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|x|y|z/i,mt=0;function gt(e,t){var n=new Uint8Array(18),r=new Uint8Array(n.buffer,0,6),o=Date.now();mt>=o?++mt:mt=o,r[0]=mt/1099511627776,r[1]=mt/4294967296,r[2]=mt/16777216,r[3]=mt/65536,r[4]=mt/256,r[5]=mt;var i=new Uint8Array(n.buffer,6);return crypto.getRandomValues(i),e+be(new Uint8Array(n.buffer))+(t||"")}function wt(e){return{stack:"dbcore",name:"idGenerationMiddleware",level:1,create:function(t){return Object.assign(Object.assign({},t),{table:function(n){var r=t.table(n);return Object.assign(Object.assign({},r),{mutate:function(t){var o,i;if(t.trans.disableChangeTracking)return r.mutate(t);if("add"===t.type||"put"===t.type){var u=null===(o=e.cloud.schema)||void 0===o?void 0:o[n];if(null===u||void 0===u?void 0:u.generatedGlobalId){if((null===(i=e.cloud.options)||void 0===i?void 0:i.databaseUrl)&&!e.initiallySynced){var a=bt(r.schema.primaryKey,t);return r.getMany({keys:a,trans:t.trans,cache:"immutable"}).then((function(e){if(e.length<a.length)throw new Error("Unable to create new objects without an initial sync having been performed.");return r.mutate(t)}))}return function(t,o){var i=null,u=bt(r.schema.primaryKey,t);return u.forEach((function(a,c){if(void 0===a){var s=t.values[c].realmId||e.cloud.currentUserId,f=s.substr(s.length-3);u[c]=gt(o,f),r.schema.primaryKey.outbound||(i||(i=t.values.slice()),i[c]=m.default.deepClone(i[c]),m.default.setByKeyPath(i[c],r.schema.primaryKey.keyPath,u[c]))}else if("string"!==typeof a||!a.startsWith(o)&&!a.startsWith("#"+o))throw new m.default.ConstraintError('The ID "'.concat(a,'" is not valid for table "').concat(n,'". ')+"Primary '@' keys requires the key to be prefixed with \"".concat(o,'" (or "#').concat(o,").\n")+"If you want to generate IDs programmatically, remove '@' from the schema to get rid of this constraint. Dexie Cloud supports custom IDs as long as they are random and globally unique.")})),r.mutate(Object.assign(Object.assign({},t),{keys:u,values:i||t.values}))}(t,u.idPrefix)}(null===u||void 0===u?void 0:u.markedForSync)&&bt(r.schema.primaryKey,t).forEach((function(e,t){if(!$(e)){var r=Array.isArray(e)?e.map(vt).join(","):vt(e);throw new m.default.ConstraintError("Invalid primary key type ".concat(r," for table ").concat(n,". Tables marked for sync has primary keys of type string or Array of string (and optional numbers)"))}}))}return r.mutate(t)}})}})}}}var _t=0;function xt(e,t){return function(n){var r=n.trans[t]||(n.trans[t]={writers:[],readers:[]}),o=r.readers,i=r.writers,u=i.length,a=(u>0?i[u-1].then((function(){return e(n)}),(function(){return e(n)})):e(n)).finally((function(){return o.splice(o.indexOf(a))}));return o.push(a),a}}function Ot(e,t){return function(n){var r,o=n.trans[t]||(n.trans[t]={writers:[],readers:[]}),i=o.readers,u=o.writers,a=(u.length>0?u[u.length-1].then((function(){return e(n)}),(function(){return e(n)})):i.length>0?(r=i,new Promise((function(e){0===r.length&&e([]);var t=r.length,n=new Array(t);r.forEach((function(r,o){return Promise.resolve(r).then((function(e){return n[o]={status:"fulfilled",value:e}}),(function(e){return n[o]={status:"rejected",reason:e}})).then((function(){return--t||e(n)}))}))}))).then((function(){return e(n)})):e(n)).finally((function(){return u.shift()}));return u.push(a),a}}var kt=new r.BehaviorSubject(new Set);function jt(e){var t=e.currentUserObservable,n=e.db;return{stack:"dbcore",name:"MutationTrackingMiddleware",level:1,create:function(e){var r,o=e.schema.tables.filter((function(e){return!/^\$/.test(e.name)}));try{r=new Map(o.map((function(t){return[t.name,e.table("$".concat(t.name,"_mutations"))]})))}catch(gr){ht()}return Object.assign(Object.assign({},e),{transaction:function(r,o){var i;if("readwrite"===o){var u=r.filter((function(e){var t,r;return null===(r=null===(t=n.cloud.schema)||void 0===t?void 0:t[e])||void 0===r?void 0:r.markedForSync})).map((function(e){return D(e)}));i=e.transaction([].concat(v(r),v(u)),o)}else i=e.transaction(r,o);if("readwrite"===o){i.txid=B(16),i.currentUser=t.value,kt.value.add(i),kt.next(kt.value);var a=function e(){i.removeEventListener("complete",c),i.removeEventListener("error",e),i.removeEventListener("abort",e),kt.value.delete(i),kt.next(kt.value)},c=function(){var e;i.mutationsAdded&&(null===(e=n.cloud.options)||void 0===e?void 0:e.databaseUrl)&&(n.cloud.usingServiceWorker?(console.debug("registering sync event"),E(n,"push")):n.localSyncEvent.next({purpose:"push"})),a()};i.addEventListener("complete",c),i.addEventListener("error",a),i.addEventListener("abort",a)}return i},table:function(t){var o=e.table(t);if(/^\$/.test(t))return t.endsWith("_mutations")?Object.assign(Object.assign({},o),{mutate:function(e){return"add"!==e.type&&"put"!==e.type||(e.trans.mutationsAdded=!0),o.mutate(e)}}):"$logins"===t?Object.assign(Object.assign({},o),{mutate:function(e){return o.mutate(e).then((function(t){return e.trans.mutationsAdded=!0,t})).catch((function(e){return console.debug("Failed mutation $logins",e),Promise.reject(e)}))}}):o;var i=o.schema,u=r.get(t);return function(e){var t="$lock"+ ++_t;return Object.assign(Object.assign({},e),{count:xt(e.count,t),get:xt(e.get,t),getMany:xt(e.getMany,t),openCursor:xt(e.openCursor,t),query:xt(e.query,t),mutate:Ot(e.mutate,t)})}(Object.assign(Object.assign({},o),{mutate:function(e){var r,u,c,s=e.trans;return s.txid?s.disableChangeTracking?o.mutate(e):(null===(u=null===(r=n.cloud.schema)||void 0===r?void 0:r[t])||void 0===u?void 0:u.markedForSync)&&(null===(c=s.currentUser)||void 0===c?void 0:c.isLoggedIn)?"deleteRange"===e.type?o.query({query:{range:e.range,index:i.primaryKey},trans:e.trans,values:!1}).then((function(t){return a({type:"delete",keys:t.result,trans:e.trans,criteria:{index:null,range:e.range}})})):a(e):o.mutate(e):o.mutate(e)}}));function a(e){var t=e.trans;t.mutationsAdded=!0;var n=t.txid,r=t.currentUser.userId,i=e.type;return o.mutate(e).then((function(o){var a=o.numFailures,c=o.failures,s="delete"===i?e.keys:o.results,f="values"in e?e.values:[],l="updates"in e&&e.updates;a&&(s=s.filter((function(e,t){return!c[t]})),f=f.filter((function(e,t){return!c[t]})));var d=Date.now(),h="delete"===e.type?{type:"delete",ts:d,keys:s,criteria:e.criteria,txid:n,userId:r}:"add"===e.type?{type:"insert",ts:d,keys:s,txid:n,userId:r,values:f}:e.criteria&&e.changeSpec?{type:"modify",ts:d,keys:s,criteria:e.criteria,changeSpec:e.changeSpec,txid:n,userId:r}:l?{type:"update",ts:d,keys:l.keys,changeSpecs:l.changeSpecs,txid:n,userId:r}:{type:"upsert",ts:d,keys:s,values:f,txid:n,userId:r};return s.length>0||"criteria"in e&&e.criteria?u.mutate({type:"add",trans:t,values:[h]}).then((function(){return o})):o}))}}})}}}function St(e,t){return function(n,r){var o=Object.assign(Object.assign({},et),n);Object.keys(et).forEach((function(e){var t=o[e];if(null==t)throw new Error("Cannot delete table ".concat(e," as it is needed for access control of Dexie Cloud"));if(n[e]){var r=t.split(",").map((function(e){return e.trim()})),i=et[e].split(",").map((function(e){return e.trim()})),u=new Set(r.map((function(e){return e.replace(/([&*]|\+\+)/g,"")})));if(r[0]!==i[0])throw new Error("Cannot override primary key of table ".concat(e,". Please declare it as {").concat(e,": ").concat(JSON.stringify(et[e])));for(var a=1;a<i.length;++a){var c=i[a];u.has(c.replace(/([&*]|\+\+)/g,""))||(o[e]+=",".concat(c))}}}));var i=t.cloud.schema||(t.cloud.schema={}),u=new Set;return Object.keys(o).forEach((function(e){var t=o[e],n=i[e]||(i[e]={});null!=t?(/^\@/.test(t)&&(o[e]=o[e].substr(1),n.generatedGlobalId=!0,n.idPrefix=function(e,t){for(var n,r,o,i=e[0].toLocaleLowerCase(),u=1,a=e.length;u<a&&i.length<3;++u)(yt.test(e[u])||(n=e[u])>="A"&&n<="Z")&&(i+=e[u].toLowerCase());for(;t.has(i);){if(/\d/g.test(i)){if(!((i=i.substr(0,i.length-1)+(i[i.length-1]+1)).length>3))continue;i=i.substr(0,3)}else if(i.length<3){i+="2";continue}for(var c=1,s=i;t.has(s)&&c<8;)r=i,s=(1&(o=c)?r[0].toUpperCase():r[0].toLowerCase())+(2&o?r[1].toUpperCase():r[1].toLowerCase())+(4&o?r[2].toUpperCase():r[2].toLowerCase()),++c;if(c<8)i=s;else{var f=i.charCodeAt(2)+1&127;i=i.substr(0,2)+String.fromCharCode(f)}}return i}(e,u),u.add(n.idPrefix)),/^\$/.test(e)||(o["$".concat(e,"_mutations")]="++rev",n.markedForSync=!0),n.deleted&&(n.deleted=!1)):(n.deleted=!0,n.markedForSync=!1,o["$".concat(e,"_mutations")]=null)})),e.call(this,o,r)}}function Et(e,t,n){return g(this,void 0,void 0,f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.debug("Performing initial sync"),r.next=3,Ge(e,t,n,{isInitialSync:!0});case 3:console.debug("Done initial sync");case 4:case"end":return r.stop()}}),r)})))}var At=new r.BehaviorSubject(!0),It=new r.BehaviorSubject(!0);At.pipe(b.switchMap((function(e){return e?r.of(!0):r.of(!1).pipe(b.delay(2e4))})),b.distinctUntilChanged()).subscribe(It);var Pt="undefined"!==typeof document?r.fromEvent(document,"visibilitychange"):r.of({}),Tt=Pt.pipe(b.filter((function(){return"hidden"===document.visibilityState}))),Ct=Pt.pipe(b.filter((function(){return"visible"===document.visibilityState}))),Rt="undefined"!==typeof window?r.merge(Ct,r.fromEvent(window,"mousedown"),r.fromEvent(window,"mousemove"),r.fromEvent(window,"keydown"),r.fromEvent(window,"wheel"),r.fromEvent(window,"touchmove")):r.of({});"undefined"!==typeof document&&r.merge(r.of(!0),Tt,Rt).pipe(b.map((function(){return"visible"===document.visibilityState})),b.tap((function(e){At.value!==e&&At.next(e)})),b.switchMap((function(e){return e?r.of(0).pipe(b.delay(16e4),b.tap((function(){return At.next(!1)}))):r.of(0)}))).subscribe((function(){}));var Dt=function(e){l(n,e);var t=d(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="TokenExpiredError",e}return p(n)}(o(Error)),Ut=function(e){l(n,e);var t=d(n);function n(e,r,o,i,u,a,c,s){return h(this,n),t.call(this,(function(t){return new Lt(e,r,o,i,c,s,t,u,a)}))}return p(n)}(r.Observable),Nt=0,Lt=function(e){l(n,e);var t=d(n);function n(e,r,o,i,u,a,c,s,f){var l;return h(this,n),(l=t.call(this,(function(){return l.teardown()}))).id=++Nt,l.reconnecting=!1,console.debug("New WebSocket Connection",l.id,u?"authorized":"unauthorized"),l.databaseUrl=e,l.rev=r,l.realmSetHash=o,l.clientIdentity=i,l.token=u,l.tokenExpiration=a,l.subscriber=c,l.lastUserActivity=new Date,l.messageProducer=s,l.messageProducerSubscription=null,l.webSocketStatus=f,l.connect(),l}return p(n,[{key:"teardown",value:function(){console.debug("Teardown WebSocket Connection",this.id),this.disconnect()}},{key:"disconnect",value:function(){if(this.webSocketStatus.next("disconnected"),this.pinger&&(clearInterval(this.pinger),this.pinger=null),this.ws)try{this.ws.close()}catch(gr){}this.ws=null,this.messageProducerSubscription&&(this.messageProducerSubscription.unsubscribe(),this.messageProducerSubscription=null)}},{key:"reconnect",value:function(){var e=this;if(!this.reconnecting){this.reconnecting=!0;try{this.disconnect()}catch(gr){}this.connect().catch((function(){})).then((function(){return e.reconnecting=!1}))}}},{key:"connect",value:function(){return g(this,void 0,void 0,f().mark((function e(){var t,n,r,o,i=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.lastServerActivity=new Date,!(this.pauseUntil&&this.pauseUntil>new Date)){e.next=4;break}return console.debug("WS not reconnecting just yet",{id:this.id,pauseUntil:this.pauseUntil}),e.abrupt("return");case 4:if(!this.ws){e.next=6;break}throw new Error("Called connect() when a connection is already open");case 6:if(this.databaseUrl){e.next=8;break}throw new Error("Cannot connect without a database URL");case 8:if(!this.closed){e.next=10;break}return e.abrupt("return");case 10:if(!(this.tokenExpiration&&this.tokenExpiration<new Date)){e.next=13;break}return this.subscriber.error(new Dt),e.abrupt("return");case 13:if(this.webSocketStatus.next("connecting"),this.pinger=setInterval((function(){return g(i,void 0,void 0,f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.closed){e.next=4;break}return console.debug("pinger check",this.id,"CLOSED."),this.teardown(),e.abrupt("return");case 4:if(this.ws)try{this.ws.send(JSON.stringify({type:"ping"})),setTimeout((function(){if(console.debug("pinger setTimeout",t.id,t.pinger?"alive":"dead"),t.pinger)return t.closed?(console.debug("pinger setTimeout",t.id,"subscription is closed"),void t.teardown()):void(t.lastServerActivity<new Date(Date.now()-2e4)?(console.debug("pinger: server is inactive"),console.debug("pinger reconnecting"),t.reconnect()):console.debug("pinger: server still active"))}),2e4)}catch(gr){console.debug("pinger catch error",this.id,"reconnecting"),this.reconnect()}else console.debug("pinger",this.id,"reconnecting"),this.reconnect();case 5:case"end":return e.stop()}}),e,this)})))}),3e4),(t=new URL(this.databaseUrl)).protocol="http:"===t.protocol?"ws":"wss",n=new URLSearchParams,!this.subscriber.closed){e.next=20;break}return e.abrupt("return");case 20:return n.set("v","2"),n.set("rev",this.rev),n.set("realmsHash",this.realmSetHash),n.set("clientId",this.clientIdentity),this.token&&n.set("token",this.token),console.debug("dexie-cloud WebSocket create"),(r=this.ws=new WebSocket("".concat(t,"/changes?").concat(n))).onclose=function(e){i.pinger&&(console.debug("dexie-cloud WebSocket onclosed",i.id),i.reconnect())},r.onmessage=function(e){if(i.pinger){console.debug("dexie-cloud WebSocket onmessage",e.data),i.lastServerActivity=new Date;try{var t=Ue.parse(e.data);if("error"===t.type)throw new Error("Error message from dexie-cloud: ".concat(t.error));"rev"===t.type&&(i.rev=t.rev),"pong"!==t.type&&i.subscriber.next(t)}catch(Bn){i.subscriber.error(Bn)}}},e.prev=29,o=!1,e.next=33,new Promise((function(e,t){r.onopen=function(t){console.debug("dexie-cloud WebSocket onopen"),o=!0,e(null)},r.onerror=function(e){if(o)i.reconnect();else{var n=e.error||new Error("WebSocket Error");i.subscriber.error(n),i.webSocketStatus.next("error"),t(n)}}}));case 33:this.messageProducerSubscription=this.messageProducer.subscribe((function(e){var t;i.closed||("ready"===e.type&&"connected"!==i.webSocketStatus.value&&i.webSocketStatus.next("connected"),null===(t=i.ws)||void 0===t||t.send(Ue.stringify(e)))})),e.next=39;break;case 36:e.prev=36,e.t0=e.catch(29),this.pauseUntil=new Date(Date.now()+6e4);case 39:case"end":return e.stop()}}),e,this,[[29,36]])})))}}]),n}(r.Subscription);function Mt(e){return new Promise((function(t){return setTimeout(t,e)}))}function Bt(e){var t,n=this;if(!(null===(t=e.cloud.options)||void 0===t?void 0:t.databaseUrl))throw new Error("No database URL to connect WebSocket to");var o=e.messageConsumer.readyToServe.pipe(b.filter((function(e){return e})),b.switchMap((function(){return e.getPersistedSyncState()})),b.filter((function(e){return e&&e.serverRevision})),b.switchMap((function(e){return g(n,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e.serverRevision,t.next=3,C(e);case 3:return t.t1=t.sent,t.abrupt("return",{type:"ready",rev:t.t0,realmSetHash:t.t1});case 5:case"end":return t.stop()}}),t)})))})));return function t(){var n=this;return e.cloud.persistedSyncState.pipe(b.filter((function(e){return null===e||void 0===e?void 0:e.serverRevision})),b.take(1),b.switchMap((function(t){return e.cloud.currentUser.pipe(b.map((function(e){return[e,t]})))})),b.switchMap((function(e){var t=s(e,2),n=t[0],r=t[1];return It.pipe(b.map((function(e){return[e?n:null,r]})))})),b.switchMap((function(t){var n=s(t,2),o=n[0],i=n[1];return(null===o||void 0===o?void 0:o.isLoggedIn)&&!(null===i||void 0===i?void 0:i.realms.includes(o.userId))?e.cloud.persistedSyncState.pipe(b.filter((function(e){return(null===e||void 0===e?void 0:e.realms.includes(o.userId))||!1})),b.take(1),b.map((function(e){return[o,e]}))):new r.BehaviorSubject([o,i])})),b.switchMap((function(e){var t=s(e,2),r=t[0],o=t[1];return g(n,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,C(o);case 3:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 5:case"end":return e.stop()}}),e)})))})),b.switchMap((function(t){var n=s(t,2),i=n[0],u=n[1];return i?new Ut(e.cloud.options.databaseUrl,e.cloud.persistedSyncState.value.serverRevision,u,e.cloud.persistedSyncState.value.clientIdentity,o,e.cloud.webSocketStatus,i.accessToken,i.accessTokenExpiration):r.from([])})),b.catchError((function(o){return"TokenExpiredError"===(null===o||void 0===o?void 0:o.name)?(console.debug("WebSocket observable: Token expired. Refreshing token..."),r.of(!0).pipe(b.switchMap((function(){return g(n,void 0,void 0,f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentUser();case 2:return n=t.sent,t.next=5,re(e.cloud.options.databaseUrl,n);case 5:return r=t.sent,t.next=8,e.table("$logins").update(n.userId,{accessToken:r.accessToken,accessTokenExpiration:r.accessTokenExpiration});case 8:case"end":return t.stop()}}),t)})))})),b.switchMap((function(){return t()})))):r.throwError(o)})),b.catchError((function(n){return e.cloud.webSocketStatus.next("error"),r.from(function(e){return g(this,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.error("WebSocket observable: error but revive when user does some active thing...",e),t.next=3,Mt(3e3);case 3:return console.debug("waiting for someone to do something"),t.next=6,Rt.pipe(b.take(1)).toPromise();case 6:console.debug("someone did something!");case 7:case"end":return t.stop()}}),t)})))}(n)).pipe(b.switchMap((function(){return t()})))})))}().subscribe((function(t){t&&(console.debug("WS got message",t),e.messageConsumer.enqueue(t))}),(function(e){console.error("Oops! The main observable errored!",e)}),(function(){console.error("Oops! The main observable completed!")}))}function Kt(e){var t;return g(this,void 0,void 0,f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(null===(t=e.cloud.options)||void 0===t?void 0:t.databaseUrl)||!e.cloud.schema){n.next=6;break}return n.next=3,Ge(e,e.cloud.options,e.cloud.schema,{justCheckIfNeeded:!0});case 3:n.t0=n.sent,n.next=7;break;case 6:n.t0=!1;case 7:return n.abrupt("return",n.t0);case 8:case"end":return n.stop()}}),n)})))}var Ft=6e4,qt=B(16),Wt=1e3,Yt=1*Ft;function $t(e,t,o,i){var u=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}).awaitRemoteJob;return g(this,void 0,void 0,f().mark((function a(){var c,s,l,d=this;return f().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=function(){return g(this,void 0,void 0,f().mark((function i(){var a,l=this;return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.transaction("rw!",o,(function(){return g(l,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get(t);case 2:if(n=e.sent){e.next=9;break}return e.next=6,c.add({nodeId:qt,started:new Date,heartbeat:new Date},t);case 6:case 13:return e.abrupt("return",!0);case 9:if(!(n.heartbeat.getTime()<Date.now()-Yt)){e.next=14;break}return console.warn("Latest ".concat(t," worker seem to have died.\n"),"The dead job started:",n.started,"\n","Last heart beat was:",n.heartbeat,"\n","We're now taking over!"),e.next=13,c.put({nodeId:qt,started:new Date,heartbeat:new Date},t);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})))}));case 2:if(!i.sent){i.next=5;break}return i.abrupt("return",!0);case 5:if(!u){i.next=20;break}return i.prev=6,a=r.from(n.liveQuery((function(){return c.get(t)}))).pipe(b.timeout(Yt),b.filter((function(e){return!e}))),i.next=10,a.toPromise();case 10:case 20:return i.abrupt("return",!1);case 13:if(i.prev=13,i.t0=i.catch(6),"TimeoutError"===i.t0.name){i.next=17;break}throw i.t0;case 17:return i.next=19,s();case 19:return i.abrupt("return",i.sent);case 21:case"end":return i.stop()}}),i,null,[[6,13]])})))},c=e.table(o),a.next=4,s();case 4:if(!a.sent){a.next=15;break}return l=setInterval((function(){c.update(t,(function(e){e.nodeId===qt&&(e.heartbeat=new Date)}))}),Wt),a.prev=6,a.next=9,i();case 9:return a.abrupt("return",a.sent);case 10:return a.prev=10,clearInterval(l),a.next=14,e.transaction("rw!",o,(function(){return g(d,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get(t);case 2:if(!(n=e.sent)||n.nodeId!==qt){e.next=6;break}return e.next=6,c.delete(t);case 6:case"end":return e.stop()}}),e)})))}));case 14:return a.finish(10);case 15:case"end":return a.stop()}}),a,null,[[6,,10,15]])})))}var zt=new WeakMap;function Ht(e,t,n,r){var o=zt.get(e);if(o){if(o.pull||"push"===(null===r||void 0===r?void 0:r.purpose))return console.debug("syncIfPossible(): returning the ongoing sync promise."),o.promise;var i=!1,u=e.cloud.syncState.subscribe((function(e){"pulling"===e.phase&&(i=!0)}));return o.promise.then((function(){u.unsubscribe()})).catch((function(e){return u.unsubscribe(),Promise.reject(e)})).then((function(){if(!i)return Ht(e,t,n,r)}))}var a=function(){return g(this,void 0,void 0,f().mark((function o(){return f().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!e.cloud.isServiceWorkerDB){o.next=6;break}return o.next=4,Ge(e,t,n,r);case 4:case 9:o.next=13;break;case 6:if(e.cloud.usingServiceWorker){o.next=11;break}return o.next=9,$t(e,Ve,"$jobs",(function(){return Ge(e,t,n,r)}));case 11:throw K(!1),new Error("Internal _syncIfPossible() - invalid precondition - should not have been called.");case 13:zt.delete(e),console.debug("Done sync"),o.next=22;break;case 17:throw o.prev=17,o.t0=o.catch(0),zt.delete(e),console.error("Failed to sync client changes",o.t0),o.t0;case 22:case"end":return o.stop()}}),o,null,[[0,17]])})))}();return zt.set(e,{promise:a,pull:"push"!==(null===r||void 0===r?void 0:r.purpose)}),a}function Vt(e,t,n){var r=null,o={cancelled:!1};function i(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;setTimeout((function(){Ht(e,t,n,{cancelToken:o,retryImmediatelyOnFetchError:!0,purpose:r}).catch((function(e){console.error("error in syncIfPossible()",e),o.cancelled?u():a<3&&setTimeout((function(){return i(r,a+1)}),[0,5,15][a]*Ft)}))}),0)}var u=function(){console.debug("Stopping LocalSyncWorker"),o.cancelled=!0,r&&r.unsubscribe()};return{start:function(){console.debug("Starting LocalSyncWorker",e.localSyncEvent.id),r=e.localSyncEvent.subscribe((function(e){var t=e.purpose;try{i(t||"pull")}catch(n){console.error("What-the....",n)}}))},stop:u}}function Gt(e,t){if(e&&t&&t.unsyncedTables){var n,r=c(t.unsyncedTables);try{for(r.s();!(n=r.n()).done;){var o=n.value;e[o]&&(e[o].markedForSync=!1)}}catch(i){r.e(i)}finally{r.f()}}}function Jt(e){var t,n,r,o=c(e.tables);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(null===(n=null===(t=e.cloud.schema)||void 0===t?void 0:t[i.name])||void 0===n?void 0:n.markedForSync){if(i.schema.primKey.auto)throw new m.default.SchemaError("Table ".concat(i.name," is both autoIncremented and synced. ")+"Use db.cloud.configure({unsyncedTables: [".concat(JSON.stringify(i.name),"]}) to blacklist it from sync"));if(!i.schema.primKey.keyPath)throw new m.default.SchemaError("Table ".concat(i.name," cannot be both synced and outbound. ")+"Use db.cloud.configure({unsyncedTables: [".concat(JSON.stringify(i.name),"]}) to blacklist it from sync"))}}}catch(u){o.e(u)}finally{o.f()}}var Qt,Xt,Zt,en,tn,nn={},rn=[],on=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function un(e,t){for(var n in t)e[n]=t[n];return e}function an(e){var t=e.parentNode;t&&t.removeChild(e)}function cn(e,t,n){var r,o,i,u={};for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:u[i]=t[i];if(arguments.length>2&&(u.children=arguments.length>3?Qt.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===u[i]&&(u[i]=e.defaultProps[i]);return sn(e,u,r,o,null)}function sn(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++Zt:o};return null==o&&null!=Xt.vnode&&Xt.vnode(i),i}function fn(e){return e.children}function ln(e,t){this.props=e,this.context=t}function dn(e,t){if(null==t)return e.__?dn(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?dn(e):null}function hn(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return hn(e)}}function pn(e){(!e.__d&&(e.__d=!0)&&en.push(e)&&!vn.__r++||tn!==Xt.debounceRendering)&&((tn=Xt.debounceRendering)||setTimeout)(vn)}function vn(){for(var e;vn.__r=en.length;)e=en.sort((function(e,t){return e.__v.__b-t.__v.__b})),en=[],e.some((function(e){var t,n,r,o,i,u;e.__d&&(i=(o=(t=e).__v).__e,(u=t.__P)&&(n=[],(r=un({},o)).__v=o.__v+1,On(u,o,r,t.__n,void 0!==u.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?dn(o):i,o.__h),kn(n,o),o.__e!=i&&hn(o)))}))}function bn(e,t,n,r,o,i,u,a,c,s){var f,l,d,h,p,v,b,y=r&&r.__k||rn,m=y.length;for(n.__k=[],f=0;f<t.length;f++)if(null!=(h=n.__k[f]=null==(h=t[f])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?sn(null,h,null,null,h):Array.isArray(h)?sn(fn,{children:h},null,null,null):h.__b>0?sn(h.type,h.props,h.key,null,h.__v):h)){if(h.__=n,h.__b=n.__b+1,null===(d=y[f])||d&&h.key==d.key&&h.type===d.type)y[f]=void 0;else for(l=0;l<m;l++){if((d=y[l])&&h.key==d.key&&h.type===d.type){y[l]=void 0;break}d=null}On(e,h,d=d||nn,o,i,u,a,c,s),p=h.__e,(l=h.ref)&&d.ref!=l&&(b||(b=[]),d.ref&&b.push(d.ref,null,h),b.push(l,h.__c||p,h)),null!=p?(null==v&&(v=p),"function"==typeof h.type&&h.__k===d.__k?h.__d=c=yn(h,c,e):c=mn(e,h,d,y,p,c),"function"==typeof n.type&&(n.__d=c)):c&&d.__e==c&&c.parentNode!=e&&(c=dn(d))}for(n.__e=v,f=m;f--;)null!=y[f]&&("function"==typeof n.type&&null!=y[f].__e&&y[f].__e==n.__d&&(n.__d=dn(r,f+1)),En(y[f],y[f]));if(b)for(f=0;f<b.length;f++)Sn(b[f],b[++f],b[++f])}function yn(e,t,n){for(var r,o=e.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=e,t="function"==typeof r.type?yn(r,t,n):mn(n,r,r,o,r.__e,t));return t}function mn(e,t,n,r,o,i){var u,a,c;if(void 0!==t.__d)u=t.__d,t.__d=void 0;else if(null==n||o!=i||null==o.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(o),u=null;else{for(a=i,c=0;(a=a.nextSibling)&&c<r.length;c+=2)if(a==o)break e;e.insertBefore(o,i),u=i}return void 0!==u?u:o.nextSibling}function gn(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||on.test(t)?n:n+"px"}function wn(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||gn(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||gn(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?xn:_n,i):e.removeEventListener(t,i?xn:_n,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function _n(e){this.l[e.type+!1](Xt.event?Xt.event(e):e)}function xn(e){this.l[e.type+!0](Xt.event?Xt.event(e):e)}function On(e,t,n,r,o,i,u,a,c){var s,f,l,d,h,p,v,b,y,m,g,w,_,x=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(c=n.__h,a=t.__e=n.__e,t.__h=null,i=[a]),(s=Xt.__b)&&s(t);try{e:if("function"==typeof x){if(b=t.props,y=(s=x.contextType)&&r[s.__c],m=s?y?y.props.value:s.__:r,n.__c?v=(f=t.__c=n.__c).__=f.__E:("prototype"in x&&x.prototype.render?t.__c=f=new x(b,m):(t.__c=f=new ln(b,m),f.constructor=x,f.render=An),y&&y.sub(f),f.props=b,f.state||(f.state={}),f.context=m,f.__n=r,l=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=x.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=un({},f.__s)),un(f.__s,x.getDerivedStateFromProps(b,f.__s))),d=f.props,h=f.state,l)null==x.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==x.getDerivedStateFromProps&&b!==d&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(b,m),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(b,f.__s,m)||t.__v===n.__v){f.props=b,f.state=f.__s,t.__v!==n.__v&&(f.__d=!1),f.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),f.__h.length&&u.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(b,f.__s,m),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(d,h,p)}))}if(f.context=m,f.props=b,f.__v=t,f.__P=e,g=Xt.__r,w=0,"prototype"in x&&x.prototype.render)f.state=f.__s,f.__d=!1,g&&g(t),s=f.render(f.props,f.state,f.context);else do{f.__d=!1,g&&g(t),s=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++w<25);f.state=f.__s,null!=f.getChildContext&&(r=un(un({},r),f.getChildContext())),l||null==f.getSnapshotBeforeUpdate||(p=f.getSnapshotBeforeUpdate(d,h)),_=null!=s&&s.type===fn&&null==s.key?s.props.children:s,bn(e,Array.isArray(_)?_:[_],t,n,r,o,i,u,a,c),f.base=t.__e,t.__h=null,f.__h.length&&u.push(f),v&&(f.__E=f.__=null),f.__e=!1}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=jn(n.__e,t,n,r,o,i,u,c);(s=Xt.diffed)&&s(t)}catch(e){t.__v=null,(c||null!=i)&&(t.__e=a,t.__h=!!c,i[i.indexOf(a)]=null),Xt.__e(e,t,n)}}function kn(e,t){Xt.__c&&Xt.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Xt.__e(e,t.__v)}}))}function jn(e,t,n,r,o,i,u,a){var c,s,f,l=n.props,d=t.props,h=t.type,p=0;if("svg"===h&&(o=!0),null!=i)for(;p<i.length;p++)if((c=i[p])&&"setAttribute"in c==!!h&&(h?c.localName===h:3===c.nodeType)){e=c,i[p]=null;break}if(null==e){if(null===h)return document.createTextNode(d);e=o?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,d.is&&d),i=null,a=!1}if(null===h)l===d||a&&e.data===d||(e.data=d);else{if(i=i&&Qt.call(e.childNodes),s=(l=n.props||nn).dangerouslySetInnerHTML,f=d.dangerouslySetInnerHTML,!a){if(null!=i)for(l={},p=0;p<e.attributes.length;p++)l[e.attributes[p].name]=e.attributes[p].value;(f||s)&&(f&&(s&&f.__html==s.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||wn(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||wn(e,i,t[i],n[i],r)}(e,d,l,o,a),f)t.__k=[];else if(p=t.props.children,bn(e,Array.isArray(p)?p:[p],t,n,r,o&&"foreignObject"!==h,i,u,i?i[0]:n.__k&&dn(n,0),a),null!=i)for(p=i.length;p--;)null!=i[p]&&an(i[p]);a||("value"in d&&void 0!==(p=d.value)&&(p!==e.value||"progress"===h&&!p||"option"===h&&p!==l.value)&&wn(e,"value",p,l.value,!1),"checked"in d&&void 0!==(p=d.checked)&&p!==e.checked&&wn(e,"checked",p,l.checked,!1))}return e}function Sn(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){Xt.__e(e,n)}}function En(e,t,n){var r,o;if(Xt.unmount&&Xt.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Sn(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Xt.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&En(r[o],t,"function"!=typeof e.type);n||null==e.__e||an(e.__e),e.__e=e.__d=void 0}function An(e,t,n){return this.constructor(e,n)}function In(e,t,n){var r,o,i;Xt.__&&Xt.__(e,t),o=(r="function"==typeof n)?null:n&&n.__k||t.__k,i=[],On(t,e=(!r&&n||t).__k=cn(fn,null,[e]),o||nn,nn,void 0!==t.ownerSVGElement,!r&&n?[n]:o?null:t.firstChild?Qt.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r),kn(i,e)}Qt=rn.slice,Xt={__e:function(e,t,n,r){for(var o,i,u;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),u=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),u=o.__d),u)return o.__E=o}catch(t){e=t}throw e}},Zt=0,ln.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=un({},this.state),"function"==typeof e&&(e=e(un({},n),this.props)),e&&un(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),pn(this))},ln.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),pn(this))},ln.prototype.render=fn,en=[],vn.__r=0;var Pn={Error:{color:"red"},Alert:{error:{color:"red"},warning:{color:"yellow"},info:{color:"black"}},Darken:{position:"fixed",top:0,left:0,opacity:.5,backgroundColor:"#000",width:"100vw",height:"100vh",zIndex:150,webkitBackdropFilter:"blur(2px)",backdropFilter:"blur(2px)"},DialogOuter:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:150,alignItems:"center",display:"flex",justifyContent:"center"},DialogInner:{position:"relative",color:"#222",backgroundColor:"#fff",padding:"30px",marginBottom:"2em",maxWidth:"90%",maxHeight:"90%",overflowY:"auto",border:"3px solid #3d3d5d",borderRadius:"8px",boxShadow:"0 0 80px 10px #666",width:"auto"},Input:{height:"35px",width:"17em",borderColor:"#ccf4",outline:"none",fontSize:"17pt",padding:"8px"}};function Tn(e){var t=e.children;return cn("div",{className:e.className},cn("div",{style:Pn.Darken}),cn("div",{style:Pn.DialogOuter},cn("div",{style:Pn.DialogInner},t)))}var Cn,Rn,Dn,Un,Nn=0,Ln=[],Mn=[],Bn=Xt.__b,Kn=Xt.__r,Fn=Xt.diffed,qn=Xt.__c,Wn=Xt.unmount;function Yn(e,t){Xt.__h&&Xt.__h(Rn,e,Nn||t),Nn=0;var n=Rn.__H||(Rn.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Mn}),n.__[e]}function $n(e){return Nn=1,function(e,t,n){var r=Yn(Cn++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Xn(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=Rn,!Rn.u)){Rn.u=!0;var o=Rn.shouldComponentUpdate;Rn.shouldComponentUpdate=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter((function(e){return e.__c}));if(i.every((function(e){return!e.__N})))return!o||o.call(this,e,t,n);var u=!1;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(u=!0)}})),!!u&&(!o||o.call(this,e,t,n))}}return r.__N||r.__}(Xn,e)}function zn(e){return Nn=5,function(e,t){var n=Yn(Cn++,7);return Qn(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}((function(){return{current:e}}),[])}function Hn(){for(var e;e=Ln.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Gn),e.__H.__h.forEach(Jn),e.__H.__h=[]}catch(Rn){e.__H.__h=[],Xt.__e(Rn,e.__v)}}Xt.__b=function(e){Rn=null,Bn&&Bn(e)},Xt.__r=function(e){Kn&&Kn(e),Cn=0;var t=(Rn=e.__c).__H;t&&(Dn===Rn?(t.__h=[],Rn.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=Mn,e.__N=e.i=void 0}))):(t.__h.forEach(Gn),t.__h.forEach(Jn),t.__h=[])),Dn=Rn},Xt.diffed=function(e){Fn&&Fn(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Ln.push(t)&&Un===Xt.requestAnimationFrame||((Un=Xt.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),Vn&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Vn&&(t=requestAnimationFrame(n))})(Hn)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==Mn&&(e.__=e.__V),e.i=void 0,e.__V=Mn}))),Dn=Rn=null},Xt.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Gn),e.__h=e.__h.filter((function(e){return!e.__||Jn(e)}))}catch(Dn){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Xt.__e(Dn,e.__v)}})),qn&&qn(e,t)},Xt.unmount=function(e){Wn&&Wn(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{Gn(e)}catch(e){t=e}})),t&&Xt.__e(t,n.__v))};var Vn="function"==typeof requestAnimationFrame;function Gn(e){var t=Rn,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Rn=t}function Jn(e){var t=Rn;e.__c=e.__(),Rn=t}function Qn(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function Xn(e,t){return"function"==typeof t?t(e):t}function Zn(e){var t=e.title,n=e.alerts,r=e.fields,o=e.onCancel,i=e.onSubmit,a=$n({}),c=s(a,2),f=c[0],l=c[1],d=zn(null);return function(e,t){var n=Yn(Cn++,4);!Xt.__s&&Qn(n.__H,t)&&(n.__=e,n.i=t,Rn.__h.push(n))}((function(){var e;return null===(e=d.current)||void 0===e?void 0:e.focus()}),[]),cn(Tn,{className:"dxc-login-dlg"},cn(fn,null,cn("h3",{style:Pn.WindowHeader},t),n.map((function(e){return cn("p",{style:Pn.Alert[e.type]},function(e){var t=e.message,n=(e.messageCode,e.messageParams);return t.replace(/\{\w+\}/gi,(function(e){return n[e.substr(1,e.length-2)]}))}(e))})),cn("form",{onSubmit:function(e){e.preventDefault(),i(f)}},Object.entries(r).map((function(e,t){var n=s(e,2),r=n[0],o=n[1],i=o.type,a=o.label,c=o.placeholder;return cn("label",{style:Pn.Label},a?"".concat(a,": "):"",cn("input",{ref:0===t?d:void 0,type:i,name:r,autoComplete:"on",style:Pn.Input,autoFocus:!0,placeholder:c,value:f[r]||"",onInput:function(e){var t;return l(Object.assign(Object.assign({},f),u({},r,function(e,t){switch(e){case"email":return t.toLowerCase();case"otp":return t.toUpperCase();default:return t}}(i,null===(t=e.target)||void 0===t?void 0:t.value))))}}))})))),cn("div",{style:Pn.ButtonsDiv},cn("button",{type:"submit",style:Pn.Button,onClick:function(){return i(f)}},"Submit"),cn("button",{style:Pn.Button,onClick:o},"Cancel")))}var er=function(e){l(n,e);var t=d(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).observer=function(e){return r.setState({userInteraction:e})},r.state={userInteraction:void 0},r}return p(n,[{key:"componentDidMount",value:function(){this.subscription=r.from(this.props.db.cloud.userInteraction).subscribe(this.observer)}},{key:"componentWillUnmount",value:function(){this.subscription&&(this.subscription.unsubscribe(),delete this.subscription)}},{key:"render",value:function(e,t){var n=t.userInteraction;return n?cn(Zn,Object.assign({},n)):null}}]),n}(ln);function tr(e){var t=!1,n=document.createElement("div");return document.body?(document.body.appendChild(n),In(cn(er,{db:e.vip}),n)):addEventListener("DOMContentLoaded",(function(){t||(document.body.appendChild(n),In(cn(er,{db:e.vip}),n))})),{unsubscribe:function(){try{n.remove()}catch(gr){}t=!0},get closed(){return t}}}function nr(e){var t=e.cloud.webSocketStatus.value,n=e.cloud.webSocketStatus.pipe(b.switchMap((function(e){var n=t;t=e;var o=r.of(e);switch(e){case"disconnected":return At.value?o.pipe(b.debounceTime(500)):o;case"connecting":return"not-started"===n||"error"===n?o:o.pipe(b.debounceTime(4e3));default:return o}})));return r.combineLatest([n,e.syncStateChangedEvent.pipe(b.startWith({phase:"initial"})),It]).pipe(b.map((function(t){var n=s(t,3),r=n[0],o=n[1],i=n[2],u=o.phase,a=o.error,c=o.progress,f=r;return"error"===u&&(f="error"),"not-started"===r&&("pushing"!==u&&"pulling"!==u||(f="connecting")),"error"!==e.cloud.syncState.value.phase||"pushing"!==o.phase&&"pulling"!==o.phase||(f="connecting"),i||(f="disconnected"),{phase:u,error:a,progress:c,status:We?f:"offline"}})))}function rr(e){var t=new WeakMap;return function(n){var r=t.get(n);return r||(r=e(n),t.set(n,r)),r}}function or(e,t){var n=t,o=r.from(e).pipe(r.map((function(e){return n=e})),r.share({resetOnRefCountZero:function(){return r.timer(1e3)}})),i=new r.Observable((function(e){var t=!1,r=o.subscribe({next:function(n){t=!0,e.next(n)},error:function(t){e.error(t)},complete:function(){e.complete()}});return t||r.closed||e.next(n),r}));return i.getValue=function(){return n},i}var ir=rr((function(e){return or(n.liveQuery((function(){return e.roles.where({realmId:"rlm-public"}).toArray().then((function(e){var t,n={},r=c(e.slice().sort((function(e,t){return(e.sortOrder||0)-(t.sortOrder||0)})));try{for(r.s();!(t=r.n()).done;){var o=t.value;n[o.name]=o}}catch(i){r.e(i)}finally{r.f()}return n}))})),{})})),ur=rr((function(e){return new r.BehaviorSubject(w)})),ar=rr((function(e){return or(ur(e._novip).pipe(b.switchMap((function(t){return n.liveQuery((function(){return e.transaction("r","realms","members",(function(){return Promise.all([e.members.where({userId:t.userId}).toArray(),e.realms.toArray(),t.userId]).then((function(e){var t=s(e,3);return{selfMembers:t[0],realms:t[1],userId:t[2]}}))}))}))}))),{selfMembers:[],realms:[],get userId(){return e.cloud.currentUserId}})}));function cr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?{}:t.reduce((function(e,t){for(var n=Object.assign({},e),r=0,o=Object.entries(t);r<o.length;r++){var i=s(o[r],2),u=i[0],a=i[1];if(u in n&&n[u]){if("*"===n[u])continue;if("*"===a)n[u]="*";else if(Array.isArray(a)&&Array.isArray(n[u])){var c=n,f=c[u];c[u]=v(new Set([].concat(v(f),v(a))))}else if("object"===typeof a&&a&&"object"===typeof n[u])for(var l=n[u],d=0,h=Object.entries(a);d<h.length;d++){var p=s(h[d],2),b=p[0],y=p[1];"*"!==l[b]&&("*"===y?l[b]="*":Array.isArray(l[b])&&Array.isArray(y)&&(l[b]=v(new Set([].concat(v(l[b]),v(y))))))}}else n[u]=t[u]}return n}))}var sr=rr((function(e){return function(e,t){var n,o=e.pipe(r.map((function(e){return n=t(e)})));return o.getValue=function(){return void 0!==n?n:n=t(e.getValue())},o}(or(r.combineLatest([ar(e._novip),ir(e._novip)]).pipe(b.map((function(e){var t=s(e,2),n=t[0];return{selfMembers:n.selfMembers,realms:n.realms,userId:n.userId,globalRoles:t[1]}}))),{selfMembers:[],realms:[],userId:w.userId,globalRoles:{}}),(function(e){var t=e.selfMembers,n=e.realms,r=e.userId,o=e.globalRoles,i=n.map((function(e){var n=t.filter((function(t){return t.realmId===e.realmId})),i=n.map((function(e){return e.permissions})).filter((function(e){return e})),u=L(n.map((function(e){return e.roles})).filter((function(e){return e}))).map((function(e){return o[e]})).filter((function(e){return e})).map((function(e){return e.permissions}));return Object.assign(Object.assign({},e),{permissions:e.owner===r?{manage:"*"}:cr.apply(void 0,v(i).concat(v(u)))})})).reduce((function(e,t){return Object.assign(Object.assign({},e),u({},t.realmId,t))}),u({},r,{realmId:r,owner:r,name:r,permissions:{manage:"*"}}));return i}))})),fr=function(){function e(t,n,r){h(this,e),this.permissions=t||{},this.tableName=n,this.isOwner=r}return p(e,[{key:"add",value:function(){var e,t=this;if("*"===this.permissions.manage)return!0;if(null===(e=this.permissions.manage)||void 0===e?void 0:e.includes(this.tableName))return!0;if("*"===this.permissions.add)return!0;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return!!r.every((function(e){var n;return null===(n=t.permissions.add)||void 0===n?void 0:n.includes(e)}))}},{key:"update",value:function(){var e,t;if(this.isOwner||"*"===this.permissions.manage)return!0;if(null===(e=this.permissions.manage)||void 0===e?void 0:e.includes(this.tableName))return!0;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if("*"===this.permissions.update)return r.every((function(e){return"owner"!==e}));var i=null===(t=this.permissions.update)||void 0===t?void 0:t[this.tableName];return"*"===i?r.every((function(e){return"owner"!==e})):r.every((function(e){return null===i||void 0===i?void 0:i.some((function(t){return t===e||"*"===t&&"owner"!==e}))}))}},{key:"delete",value:function(){var e;return!(!this.isOwner&&"*"!==this.permissions.manage)||!!(null===(e=this.permissions.manage)||void 0===e?void 0:e.includes(this.tableName))}}]),e}(),lr=rr((function(e){var t=ur(e._novip).pipe(b.switchMap((function(t){return n.liveQuery((function(){return e.members.where({email:t.email||""}).toArray()}))}))),o=sr(e._novip),i=ar(e._novip);return or(r.combineLatest([t,i,o]).pipe(b.map((function(t){var n=s(t,3),r=n[0],o=n[1],i=n[2],a=function(e,t){return Object.assign(Object.assign({},e),u({},t.id,Object.assign(Object.assign({},t),{realm:i[t.realmId]})))},c=r.reduce(a,{}),l=o.selfMembers.reduce(a,c);return Object.values(l).filter((function(e){return!e.accepted&&!e.rejected})).map((function(t){return Object.assign(Object.assign({},t),{accept:function(){return g(this,void 0,void 0,f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.members.update(t.id,{accepted:new Date});case 2:case"end":return n.stop()}}),n)})))},reject:function(){return g(this,void 0,void 0,f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.members.update(t.id,{rejected:new Date});case 2:case"end":return n.stop()}}),n)})))}})}))}))),[])})),dr={nameSuffix:!0};function hr(e){var t=this,o=e.name,i=ur(e),u=[],a=!1,l=null;e.on("ready",(function(e){return g(t,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))}),!0);var d=!1;function h(){if(d)throw new m.default.DatabaseClosedError}!function(e,t){e.on.close.subscribe(t);var n=e.close;e.close=function(){n.call(this),t()}}(e,(function(){u.forEach((function(e){return e.unsubscribe()})),d=!0,l&&l.stop(),l=null,i.next(w)}));var p,v=new r.Subject;function y(e){var t,o,c,p,y,m,w;return g(this,void 0,void 0,f().mark((function _(){var x,O,k,j,S=this;return f().wrap((function(_){for(;;)switch(_.prev=_.next){case 0:if(d=!1,x=nt(e),"undefined"!==typeof window&&"undefined"!==typeof document&&((null===(t=x.cloud.options)||void 0===t?void 0:t.customLoginGui)||u.push(tr(e))),x.cloud.isServiceWorkerDB||u.push(nr(x).subscribe(e.cloud.syncState)),u.push(x.syncCompleteEvent.subscribe(v)),x.tables.every((function(e){return e.core}))||ht(),!("serviceWorker"in navigator)){_.next=12;break}return _.next=9,navigator.serviceWorker.getRegistrations();case 9:_.t0=_.sent,_.next=13;break;case 12:_.t0=[];case 13:return O=_.t0,_.next=16,x.transaction("rw",x.$syncState,(function(){return g(S,void 0,void 0,f().mark((function e(){var t,n,r,o,i,u,c,l,d,h,p,v,b,y,m,g,w,_;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=x.cloud,o=r.options,i=r.schema,e.next=3,Promise.all([x.getOptions(),x.getSchema(),x.getPersistedSyncState()]);case 3:if(u=e.sent,c=s(u,3),l=c[0],d=c[1],h=c[2],a){e.next=12;break}x.cloud.options=l||null,e.next=19;break;case 12:if(l&&JSON.stringify(l)===JSON.stringify(o)){e.next=19;break}if(o){e.next=15;break}throw new Error("Internal error");case 15:return delete(p=Object.assign({},o)).fetchTokens,e.next=19,x.$syncState.put(p,"options");case 19:if((null===(t=x.cloud.options)||void 0===t?void 0:t.tryUseServiceWorker)&&"serviceWorker"in navigator&&O.length>0&&!lt?(console.debug("Dexie Cloud Addon: Using service worker"),x.cloud.usingServiceWorker=!0):((null===(n=x.cloud.options)||void 0===n?void 0:n.tryUseServiceWorker)&&!x.cloud.isServiceWorkerDB&&console.debug("dexie-cloud-addon: Not using service worker.",0===O.length?"No SW registrations found.":"serviceWorker"in navigator&&lt?"Avoiding SW background sync and SW periodic bg sync for this browser due to browser bugs.":"navigator.serviceWorker not present"),x.cloud.usingServiceWorker=!1),Gt(i,x.cloud.options),Gt(d,x.cloud.options),i){e.next=26;break}x.cloud.schema=d||null,e.next=32;break;case 26:if(d&&JSON.stringify(d)===JSON.stringify(i)){e.next=32;break}for(v=d||{},b=0,y=Object.entries(i);b<y.length;b++)m=s(y[b],2),g=m[0],w=m[1],(_=v[g])?(_.markedForSync=w.markedForSync,w.deleted=_.deleted,_.generatedGlobalId=w.generatedGlobalId):v[g]=Object.assign({},w);return e.next=31,x.$syncState.put(v,"schema");case 31:Object.assign(i,v);case 32:return e.abrupt("return",null===h||void 0===h?void 0:h.initiallySynced);case 33:case"end":return e.stop()}}),e)})))}));case 16:if((k=_.sent)&&x.setInitiallySynced(!0),Jt(x),!(null===(o=x.cloud.options)||void 0===o?void 0:o.databaseUrl)||k){_.next=23;break}return _.next=22,Et(x,x.cloud.options,x.cloud.schema);case 22:x.setInitiallySynced(!0);case 23:if(h(),x.cloud.isServiceWorkerDB){_.next=29;break}return u.push(n.liveQuery((function(){return x.getCurrentUser()})).subscribe(i)),u.push(n.liveQuery((function(){return x.getPersistedSyncState()})).subscribe(x.cloud.persistedSyncState)),_.next=29,r.combineLatest([i.pipe(b.skip(1),b.take(1)),x.cloud.persistedSyncState.pipe(b.skip(1),b.take(1))]).toPromise();case 29:if(j=!1,!(null===(c=x.cloud.options)||void 0===c?void 0:c.requireAuth)){_.next=34;break}return _.next=33,at(x);case 33:j=_.sent;case 34:l&&l.stop(),l=null,h(),x.cloud.usingServiceWorker&&(null===(p=x.cloud.options)||void 0===p?void 0:p.databaseUrl)?(E(x,j?"pull":"push").catch((function(){})),A(x).catch((function(){}))):(null===(y=x.cloud.options)||void 0===y?void 0:y.databaseUrl)&&x.cloud.schema&&!x.cloud.isServiceWorkerDB&&((l=Vt(x,x.cloud.options,x.cloud.schema)).start(),I(x,j?"pull":"push")),h(),x.cloud.isServiceWorkerDB||u.push(r.fromEvent(self,"online").subscribe((function(){console.debug("online!"),x.syncStateChangedEvent.next({phase:"not-in-sync"}),I(x,"push")})),r.fromEvent(self,"offline").subscribe((function(){console.debug("offline!"),x.syncStateChangedEvent.next({phase:"offline"})}))),!(null===(m=x.cloud.options)||void 0===m?void 0:m.databaseUrl)||(null===(w=x.cloud.options)||void 0===w?void 0:w.disableWebSocket)||dt||u.push(Bt(x));case 41:case"end":return _.stop()}}),_)})))}e.cloud={version:"4.0.1-beta.40",options:Object.assign({},dr),schema:null,get currentUserId(){return i.value.userId||w.userId},currentUser:i,syncState:new r.BehaviorSubject({phase:"initial",status:"not-started"}),events:{syncComplete:v},persistedSyncState:new r.BehaviorSubject(void 0),userInteraction:new r.BehaviorSubject(void 0),webSocketStatus:new r.BehaviorSubject("not-started"),login:function(t){return g(this,void 0,void 0,f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=nt(e),n.next=3,r.cloud.sync();case 3:return n.next=5,at(r,t);case 5:case"end":return n.stop()}}),n)})))},invites:lr(e),roles:ir(e),configure:function(t){t=e.cloud.options=Object.assign(Object.assign({},e.cloud.options),t),a=!0,t.databaseUrl&&t.nameSuffix&&(e.name="".concat(o,"-").concat(function(e){var t=new URL(e);return"/"===t.pathname?t.hostname.split(".")[0]:t.pathname.split("/")[1]}(t.databaseUrl)),nt(e).reconfigure()),Gt(e.cloud.schema,e.cloud.options)},sync:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{wait:!0,purpose:"push"},o=t.wait,i=t.purpose;return g(this,void 0,void 0,f().mark((function t(){var u,a,c,s,l=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===o&&(o=!0),u=nt(e),"pull"!==i){t.next=13;break}if(a=u.cloud.persistedSyncState.value,I(u,i),!o){t.next=11;break}return t.next=8,u.cloud.persistedSyncState.pipe(b.filter((function(e){return null!=(null===e||void 0===e?void 0:e.timestamp)&&(!a||e.timestamp>a.timestamp)})),b.take(1)).toPromise();case 8:if(!(null===(c=t.sent)||void 0===c?void 0:c.error)){t.next=11;break}throw new Error("Sync error: "+c.error);case 11:t.next=23;break;case 13:return t.next=15,Kt(u);case 15:if(!t.sent){t.next=23;break}if(s=u.cloud.persistedSyncState.value,I(u,i),!o){t.next=23;break}return console.debug("db.cloud.login() is waiting for sync completion..."),t.next=22,r.from(n.liveQuery((function(){return g(l,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt(u);case 2:return t=e.sent,e.next=5,u.getPersistedSyncState();case 5:if((null===(n=e.sent)||void 0===n?void 0:n.timestamp)===(null===s||void 0===s?void 0:s.timestamp)||!(null===n||void 0===n?void 0:n.error)){e.next=8;break}throw new Error("Sync error: "+n.error);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))}))).pipe(b.filter((function(e){return!e})),b.take(1)).toPromise();case 22:console.debug("Done waiting for sync completion because we have nothing to push anymore");case 23:case"end":return t.stop()}}),t)})))},permissions:function(t,n){return function(e,t,n){if(!t)throw new TypeError("Cannot check permissions of undefined or null. A Dexie Cloud object with realmId and owner expected.");var r=t.owner,o=t.realmId;if(!n){if("function"!==typeof t.table)throw new TypeError("Missing 'table' argument to permissions and table could not be extracted from entity");n=t.table()}var i=sr(e),u=function(t){var i=t[o||e.cloud.currentUserId];return i?new fr(i.permissions,n,o===e.cloud.currentUserId||r===e.cloud.currentUserId):new fr({},n,!r||r===e.cloud.currentUserId)},a=i.pipe(b.map(u));return a.getValue=function(){return u(i.getValue())},a}(e._novip,t,n)}},e.Version.prototype._parseStoresSpec=m.default.override(e.Version.prototype._parseStoresSpec,(function(t){return St(t,e)})),e.Table.prototype.newId=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).colocateWith,n=t&&t.substr(t.length-3);return gt(e.cloud.schema[this.name].idPrefix||"",n)},e.Table.prototype.idPrefix=function(){var e,t;return(null===(t=null===(e=this.db.cloud.schema)||void 0===e?void 0:e[this.name])||void 0===t?void 0:t.idPrefix)||""},e.use(jt({currentUserObservable:e.cloud.currentUser,db:nt(e)})),e.use((p=nt(e),{stack:"dbcore",name:"implicitPropSetterMiddleware",level:1,create:function(e){return Object.assign(Object.assign({},e),{table:function(t){var n=e.table(t);return Object.assign(Object.assign({},n),{mutate:function(e){var r,o,i,u;if(e.trans.disableChangeTracking)return n.mutate(e);var a=e.trans;if((null===(o=null===(r=p.cloud.schema)||void 0===r?void 0:r[t])||void 0===o?void 0:o.markedForSync)&&("add"===e.type||"put"===e.type)){var s,f=c(e.values);try{for(f.s();!(s=f.n()).done;){var l=s.value;l.owner||(l.owner=a.currentUser.userId),l.realmId||(l.realmId=a.currentUser.userId);var d=null===(u=(i=n.schema.primaryKey).extractKey)||void 0===u?void 0:u.call(i,l);"string"===typeof d&&"#"===d[0]&&"put"===e.type&&(delete e.criteria,delete e.changeSpec,delete e.updates,l.$ts=Date.now())}}catch(h){f.e(h)}finally{f.f()}}return n.mutate(e)}})}})}})),e.use(wt(nt(e)))}hr.version="4.0.1-beta.40",m.default.Cloud=hr;var pr=new Map;function vr(e){return e.startsWith("dexie-cloud:")&&e.split(":")[1]}var br=new Map;function yr(e,t){var n=br.get(e+"/"+t);return n||(n=function e(t,n){var r;return g(this,void 0,void 0,f().mark((function o(){var i,u,a;return f().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(a=function(){return i.dx.on.versionchange.unsubscribe(a),pr.get(i.name)===i&&pr.delete(i.name),console.debug("Dexie Cloud SW: Closing Dexie instance for ".concat(t)),i.dx.close(),!1},i=pr.get(t)){o.next=16;break}return console.debug("Dexie Cloud SW: Creating new Dexie instance for",t),u=new m.default(t,{addons:[hr]}),(i=nt(u)).cloud.isServiceWorkerDB=!0,u.on("versionchange",a),o.next=10,i.dx.open();case 10:if(!pr.get(t)){o.next=15;break}return i.close(),o.next=14,e(t,n);case 14:return o.abrupt("return",o.sent);case 15:pr.set(t,i);case 16:if(null===(r=i.cloud.options)||void 0===r?void 0:r.databaseUrl){o.next=19;break}return console.error("Dexie Cloud: No databaseUrl configured"),o.abrupt("return");case 19:if(i.cloud.schema){o.next=22;break}return console.error("Dexie Cloud: No schema persisted"),o.abrupt("return");case 22:return o.prev=22,console.debug("Dexie Cloud SW: Syncing"),o.next=26,Ht(i,i.cloud.options,i.cloud.schema,{retryImmediatelyOnFetchError:!0,purpose:n});case 26:console.debug("Dexie Cloud SW: Done Syncing"),o.next=35;break;case 29:if(o.prev=29,o.t0=o.catch(22),console.error("Dexie Cloud SW Error",o.t0),a(),o.t0.name===m.default.errnames.NoSuchDatabase){o.next=35;break}throw o.t0;case 35:case"end":return o.stop()}}),o,null,[[22,29]])})))}(e,t).then((function(){br.delete(e+"/"+t)})).catch((function(n){return br.delete(e+"/"+t),Promise.reject(n)})),br.set(e+"/"+t,n)),n}function mr(e){return new Promise((function(t){return setTimeout(t,e)}))}lt||(self.addEventListener("sync",(function(e){console.debug('SW "sync" Event',e.tag);var t=vr(e.tag);t&&e.waitUntil(yr(t,"push"))})),self.addEventListener("periodicsync",(function(e){console.debug('SW "periodicsync" Event',e.tag);var t=vr(e.tag);t&&e.waitUntil(yr(t,"pull"))})),self.addEventListener("message",(function(e){if(console.debug('SW "message" Event',e.data),"dexie-cloud-sync"===e.data.type){var t=e.data.dbName,n=function n(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return yr(t,e.data.purpose||"pull").catch((function(e){return g(void 0,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(3!==r){t.next=2;break}throw e;case 2:return t.next=4,mr(6e4);case 4:n(r+1);case 5:case"end":return t.stop()}}),t)})))}))};"waitUntil"in e?e.waitUntil(n().catch((function(e){return console.error(e)}))):n().catch((function(e){return console.error(e)}))}})))},r(n(221),n(223),n(224))}).call(this,n(195).Buffer,n(187))},function(e,t,n){"use strict";(function(e){var r=n(196),o=n(197),i=n(198);function u(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(u()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return s(this,e,t,n)}function s(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n);e=a(e,r);var o=e.write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|h(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?a(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=a(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return j(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,o);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,o){var i,u=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;u=2,a/=2,c/=2,n/=2}function s(e,t){return 1===u?e[t]:e.readUInt16BE(t*u)}if(o){var f=-1;for(i=n;i<a;i++)if(s(e,i)===s(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===c)return f*u}else-1!==f&&(i-=i-f),f=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){for(var l=!0,d=0;d<c;d++)if(s(e,i+d)!==s(t,d)){l=!1;break}if(l)return i}return-1}function g(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var u=0;u<r;++u){var a=parseInt(t.substr(2*u,2),16);if(isNaN(a))return u;e[n+u]=a}return u}function w(e,t,n,r){return W(F(t,e.length-n),e,n,r)}function _(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return _(e,t,n,r)}function O(e,t,n,r){return W(q(t),e,n,r)}function k(e,t,n,r){return W(function(e,t){for(var n,r,o,i=[],u=0;u<e.length&&!((t-=2)<0);++u)r=(n=e.charCodeAt(u))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function j(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,u,a,c,s=e[o],f=null,l=s>239?4:s>223?3:s>191?2:1;if(o+l<=n)switch(l){case 1:s<128&&(f=s);break;case 2:128===(192&(i=e[o+1]))&&(c=(31&s)<<6|63&i)>127&&(f=c);break;case 3:i=e[o+1],u=e[o+2],128===(192&i)&&128===(192&u)&&(c=(15&s)<<12|(63&i)<<6|63&u)>2047&&(c<55296||c>57343)&&(f=c);break;case 4:i=e[o+1],u=e[o+2],a=e[o+3],128===(192&i)&&128===(192&u)&&128===(192&a)&&(c=(15&s)<<18|(63&i)<<12|(63&u)<<6|63&a)>65535&&c<1114112&&(f=c)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=l}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=u(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return s(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return f(t),t<=0?a(e,t):void 0!==n?"string"===typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return l(null,e)},c.allocUnsafeSlow=function(e){return l(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var u=e[n];if(!c.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(r,o),o+=u.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):v.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),u=(n>>>=0)-(t>>>=0),a=Math.min(i,u),s=this.slice(r,o),f=e.slice(t,n),l=0;l<a;++l)if(s[l]!==f[l]){i=s[l],u=f[l];break}return i<u?-1:u<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=K(e[i]);return o}function T(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function C(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function U(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function N(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return i||N(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,i){return i||N(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var o=t-e;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):U(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=0,u=1,a=0;for(this[t]=255&e;++i<n&&(u*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/u>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=n-1,u=1,a=0;for(this[t+i]=255&e;--i>=0&&(u*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/u>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):U(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var u=c.isBuffer(e)?e:F(new c(e,r).toString()),a=u.length;for(i=0;i<n-t;++i)this[i+t]=u[i%a]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function K(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],u=0;u<r;++u){if((n=e.charCodeAt(u))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(u+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function W(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(187))},function(e,t,n){"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=s(e),u=r[0],a=r[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,u,a)),f=0,l=a>0?u-4:u;for(n=0;n<l;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],c[f++]=t>>16&255,c[f++]=t>>8&255,c[f++]=255&t;2===a&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,c[f++]=255&t);1===a&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,c[f++]=t>>8&255,c[f++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],u=16383,a=0,c=n-o;a<c;a+=u)i.push(f(e,a,a+u>c?c:a+u));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=u.length;a<c;++a)r[a]=u[a],o[u.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e,t,n){for(var o,i,u=[],a=t;a<n;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),u.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return u.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,u,a=8*o-r-1,c=(1<<a)-1,s=c>>1,f=-7,l=n?o-1:0,d=n?-1:1,h=e[t+l];for(l+=d,i=h&(1<<-f)-1,h>>=-f,f+=a;f>0;i=256*i+e[t+l],l+=d,f-=8);for(u=i&(1<<-f)-1,i>>=-f,f+=r;f>0;u=256*u+e[t+l],l+=d,f-=8);if(0===i)i=1-s;else{if(i===c)return u?NaN:1/0*(h?-1:1);u+=Math.pow(2,r),i-=s}return(h?-1:1)*u*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var u,a,c,s=8*i-o-1,f=(1<<s)-1,l=f>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,u=f):(u=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-u))<1&&(u--,c*=2),(t+=u+l>=1?d/c:d*Math.pow(2,1-l))*c>=2&&(u++,c/=2),u+l>=f?(a=0,u=f):u+l>=1?(a=(t*c-1)*Math.pow(2,o),u+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,o),u=0));o>=8;e[n+h]=255&a,h+=p,a/=256,o-=8);for(u=u<<o|a,s+=o;s>0;e[n+h]=255&u,h+=p,u/=256,s-=8);e[n+h-p]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(188),o=n(185),i=n(200),u=n(201);function a(t){var n="function"===typeof Map?new Map:void 0;return e.exports=a=function(e){if(null===e||!i(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return u(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,a(t)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(185),o=n(189);function i(t,n,u){return o()?(e.exports=i=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r(i,n.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(null,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(s){return void n(s)}a.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var u=e.apply(t,r);function a(e){n(u,o,i,a,c,"next",e)}function c(e){n(u,o,i,a,c,"throw",e)}a(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(81).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(190);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(186);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,u=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw u}}}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(207),o=n(208),i=n(186),u=n(209);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||u()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(f){s=!0,o=f}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(s)throw o}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(81).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(T){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),a=new A(r||[]);return u(i,"_invoke",{value:k(e,n,a)}),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=d;var p={};function v(){}function b(){}function y(){}var m={};l(m,c,(function(){return this}));var g=Object.getPrototypeOf,w=g&&g(g(I([])));w&&w!==n&&i.call(w,c)&&(m=w);var _=y.prototype=v.prototype=Object.create(m);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,u,a,c){var s=h(e[o],e,u);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==r(l)&&i.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(l).then((function(e){f.value=e,a(f)}),(function(e){return n("throw",e,a,c)}))}c(s.arg)}var o;u(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}})}function k(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var a=j(u,n);if(a){if(a===p)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=h(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return b.prototype=y,u(_,"constructor",{value:y,configurable:!0}),u(y,"constructor",{value:b,configurable:!0}),b.displayName=l(y,f,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,f,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},x(O.prototype),l(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var u=new O(d(e,n,r,o),i);return t.isGeneratorFunction(n)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},x(_),l(_,f,"Generator"),l(_,c,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return u.type="throw",u.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],u=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=e,u.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(185);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(188),o=n(189),i=n(213);e.exports=function(e){var t=o();return function(){var n,o=r(e);if(t){var u=r(this).constructor;n=Reflect.construct(o,arguments,u)}else n=o.apply(this,arguments);return i(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(81).default,o=n(214);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(191);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(218),o=n(219),i=n(186),u=n(220);e.exports=function(e){return r(e)||o(e)||i(e)||u()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(192);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.r(t),n.d(t,"Dexie",(function(){return sr})),n.d(t,"Entity",(function(){return Bt})),n.d(t,"RangeSet",(function(){return er})),n.d(t,"cmp",(function(){return Kt})),n.d(t,"default",(function(){return sr})),n.d(t,"liveQuery",(function(){return hr})),n.d(t,"mergeRanges",(function(){return nr})),n.d(t,"rangesOverlap",(function(){return rr}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function i(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,a=Object.keys,c=Array.isArray;function s(e,t){return"object"!==typeof t||a(t).forEach((function(n){e[n]=t[n]})),e}"undefined"===typeof Promise||u.Promise||(u.Promise=Promise);var f=Object.getPrototypeOf,l={}.hasOwnProperty;function d(e,t){return l.call(e,t)}function h(e,t){"function"===typeof t&&(t=t(f(e))),("undefined"===typeof Reflect?a:Reflect.ownKeys)(t).forEach((function(n){v(e,n,t[n])}))}var p=Object.defineProperty;function v(e,t,n,r){p(e,t,s(n&&d(n,"get")&&"function"===typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function b(e){return{from:function(t){return e.prototype=Object.create(t.prototype),v(e.prototype,"constructor",e),{extend:h.bind(null,e.prototype)}}}}var y=Object.getOwnPropertyDescriptor;function m(e,t){var n;return y(e,t)||(n=f(e))&&m(n,t)}var g=[].slice;function w(e,t,n){return g.call(e,t,n)}function x(e,t){return t(e)}function O(e){if(!e)throw new Error("Assertion Failed")}function k(e){u.setImmediate?setImmediate(e):setTimeout(e,0)}function j(e,t){return e.reduce((function(e,n,r){var o=t(n,r);return o&&(e[o[0]]=o[1]),e}),{})}function S(e,t){if(d(e,t))return e[t];if(!t)return e;if("string"!==typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var i=S(e,t[r]);n.push(i)}return n}var u=t.indexOf(".");if(-1!==u){var a=e[t.substr(0,u)];return void 0===a?void 0:S(a,t.substr(u+1))}}function E(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!==typeof t&&"length"in t){O("string"!==typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)E(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var u=t.substr(0,i),a=t.substr(i+1);if(""===a)void 0===n?c(e)&&!isNaN(parseInt(u))?e.splice(u,1):delete e[u]:e[u]=n;else{var s=e[u];s&&d(e,u)||(s=e[u]={}),E(s,a,n)}}else void 0===n?c(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function A(e){var t={};for(var n in e)d(e,n)&&(t[n]=e[n]);return t}var I=[].concat;function P(e){return I.apply([],e)}var T="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(P([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return u[e]})),C=T.map((function(e){return u[e]}));j(T,(function(e){return[e,!0]}));var R=null;function D(e){R="undefined"!==typeof WeakMap&&new WeakMap;var t=U(e);return R=null,t}function U(e){if(!e||"object"!==typeof e)return e;var t=R&&R.get(e);if(t)return t;if(c(e)){t=[],R&&R.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(U(e[n]))}else if(C.indexOf(e.constructor)>=0)t=e;else{var o=f(e);for(var i in t=o===Object.prototype?{}:Object.create(o),R&&R.set(e,t),e)d(e,i)&&(t[i]=U(e[i]))}return t}var N={}.toString;function L(e){return N.call(e).slice(8,-1)}var M="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator",B="symbol"===typeof M?function(e){var t;return null!=e&&(t=e[M])&&t.apply(e)}:function(){return null},K={};function F(e){var t,n,r,o;if(1===arguments.length){if(c(e))return e.slice();if(this===K&&"string"===typeof e)return[e];if(o=B(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"===typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var q="undefined"!==typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},W="undefined"!==typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Y(e,t){W=e,$=t}var $=function(){return!0},z=!new Error("").stack;function H(){if(z)try{throw H.arguments,new Error}catch(e){return e}return new Error}function V(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter($).map((function(e){return"\n"+e})).join("")):""}var G=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],J=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(G),Q={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function X(e,t){this._e=H(),this.name=e,this.message=t}function Z(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}function ee(e,t,n,r){this._e=H(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Z(e,t)}function te(e,t){this._e=H(),this.name="BulkError",this.failures=Object.keys(t).map((function(e){return t[e]})),this.failuresByPos=t,this.message=Z(e,this.failures)}b(X).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+V(this._e,2))}},toString:function(){return this.name+": "+this.message}}),b(ee).from(X),b(te).from(X);var ne=J.reduce((function(e,t){return e[t]=t+"Error",e}),{}),re=X,oe=J.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=H(),this.name=n,e?"string"===typeof e?(this.message="".concat(e).concat(r?"\n "+r:""),this.inner=r||null):"object"===typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=Q[t]||n,this.inner=null)}return b(r).from(re),e[t]=r,e}),{});oe.Syntax=SyntaxError,oe.Type=TypeError,oe.Range=RangeError;var ie=G.reduce((function(e,t){return e[t+"Error"]=oe[t],e}),{});var ue=J.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=oe[t]),e}),{});function ae(){}function ce(e){return e}function se(e,t){return null==e||e===ce?t:function(n){return t(e(n))}}function fe(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function le(e,t){return e===ae?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?fe(r,this.onsuccess):r),o&&(this.onerror=this.onerror?fe(o,this.onerror):o),void 0!==i?i:n}}function de(e,t){return e===ae?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?fe(n,this.onsuccess):n),r&&(this.onerror=this.onerror?fe(r,this.onerror):r)}}function he(e,t){return e===ae?t:function(n){var r=e.apply(this,arguments);s(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var u=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?fe(o,this.onsuccess):o),i&&(this.onerror=this.onerror?fe(i,this.onerror):i),void 0===r?void 0===u?void 0:u:s(r,u)}}function pe(e,t){return e===ae?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ve(e,t){return e===ae?t:function(){var n=e.apply(this,arguments);if(n&&"function"===typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}ue.ModifyError=ee,ue.DexieError=X,ue.BulkError=te;var be={},ye=100,me="undefined"===typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"===typeof crypto||!crypto.subtle)return[e,f(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,f(t),e]}(),ge=me[0],we=me[1],_e=me[2],xe=we&&we.then,Oe=ge&&ge.constructor,ke=!!_e,je=!1,Se=_e?function(){_e.then(Ge)}:u.setImmediate?setImmediate.bind(null,Ge):u.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){Ge(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Ge,0)},Ee=function(e,t){Ne.push([e,t]),Ie&&(Se(),Ie=!1)},Ae=!0,Ie=!0,Pe=[],Te=[],Ce=null,Re=ce,De={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:wt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{wt(e[0],e[1])}catch(t){}}))}},Ue=De,Ne=[],Le=0,Me=[];function Be(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ae,this._lib=!1;var t=this._PSD=Ue;if(W&&(this._stackHolder=H(),this._prev=null,this._numPrev=0),"function"!==typeof e){if(e!==be)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&We(this,this._value))}this._state=null,this._value=null,++t.ref,qe(this,e)}var Ke={get:function(){var e=Ue,t=it;function n(n,r){var o=this,i=!e.global&&(e!==Ue||t!==it),u=i&&!st(),a=new Be((function(t,a){$e(o,new Fe(yt(n,e,i,u),yt(r,e,i,u),t,a,e))}));return W&&Ve(a,this),a}return n.prototype=be,n},set:function(e){v(this,"then",e&&e.prototype===be?Ke:{get:function(){return e},set:Ke.set})}};function Fe(e,t,n,r,o){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=n,this.reject=r,this.psd=o}function qe(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Je();t&&"function"===typeof t.then?qe(e,(function(e,n){t instanceof Be?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Ye(e)),n&&Qe()}}),We.bind(null,e))}catch(n){We(e,n)}}function We(e,t){if(Te.push(t),null===e._state){var n=e._lib&&Je();t=Re(t),e._state=!1,e._value=t,W&&null!==t&&"object"===typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}((function(){var n=m(t,"stack");t._promise=e,v(t,"stack",{get:function(){return je?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){Pe.some((function(t){return t._value===e._value}))||Pe.push(e)}(e),Ye(e),n&&Qe()}}function Ye(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)$e(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),0===Le&&(++Le,Ee((function(){0===--Le&&Xe()}),[]))}function $e(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Le,Ee(ze,[n,e,t])}else e._listeners.push(t)}function ze(e,t,n){try{Ce=t;var r,o=t._value;t._state?r=e(o):(Te.length&&(Te=[]),r=e(o),-1===Te.indexOf(o)&&function(e){var t=Pe.length;for(;t;)if(Pe[--t]._value===e._value)return void Pe.splice(t,1)}(t)),n.resolve(r)}catch(i){n.reject(i)}finally{Ce=null,0===--Le&&Xe(),--n.psd.ref||n.psd.finalize()}}function He(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var o,i,u=e._value;null!=u?(o=u.name||"Error",i=u.message||u,r=V(u,0)):(o=u,i=""),t.push(o+(i?": "+i:"")+r)}return W&&((r=V(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&He(e._prev,t,n)),t}function Ve(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Ge(){Je()&&Qe()}function Je(){var e=Ae;return Ae=!1,Ie=!1,e}function Qe(){var e,t,n;do{for(;Ne.length>0;)for(e=Ne,Ne=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Ne.length>0);Ae=!0,Ie=!0}function Xe(){var e=Pe;Pe=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Me.slice(0),n=t.length;n;)t[--n]()}function Ze(e){return new Be(be,!1,e)}function et(e,t){var n=Ue;return function(){var r=Je(),o=Ue;try{return ht(n,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{ht(o,!1),r&&Qe()}}}h(Be.prototype,{then:Ke,_then:function(e,t){$e(this,new Fe(null,null,e,t,Ue))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"===typeof t?this.then(null,(function(e){return e instanceof t?n(e):Ze(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):Ze(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),Ze(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{je=!0;var e=He(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{je=!1}}},timeout:function(e,t){var n=this;return e<1/0?new Be((function(r,o){var i=setTimeout((function(){return o(new oe.Timeout(t))}),e);n.then(r,o).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!==typeof Symbol&&Symbol.toStringTag&&v(Be.prototype,Symbol.toStringTag,"Dexie.Promise"),De.env=pt(),h(Be,{all:function(){var e=F.apply(null,arguments).map(ft);return new Be((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(o,i){return Be.resolve(o).then((function(n){e[i]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof Be)return e;if(e&&"function"===typeof e.then)return new Be((function(t,n){e.then(t,n)}));var t=new Be(be,!0,e);return Ve(t,Ce),t},reject:Ze,race:function(){var e=F.apply(null,arguments).map(ft);return new Be((function(t,n){e.map((function(e){return Be.resolve(e).then(t,n)}))}))},PSD:{get:function(){return Ue},set:function(e){return Ue=e}},totalEchoes:{get:function(){return it}},newPSD:at,usePSD:vt,scheduler:{get:function(){return Ee},set:function(e){Ee=e}},rejectionMapper:{get:function(){return Re},set:function(e){Re=e}},follow:function(e,t){return new Be((function(n,r){return at((function(t,n){var r=Ue;r.unhandleds=[],r.onunhandled=n,r.finalize=fe((function(){var e=this;!function(e){function t(){e(),Me.splice(Me.indexOf(t),1)}Me.push(t),++Le,Ee((function(){0===--Le&&Xe()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}}),Oe&&(Oe.allSettled&&v(Be,"allSettled",(function(){var e=F.apply(null,arguments).map(ft);return new Be((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,o){return Be.resolve(e).then((function(e){return r[o]={status:"fulfilled",value:e}}),(function(e){return r[o]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),Oe.any&&"undefined"!==typeof AggregateError&&v(Be,"any",(function(){var e=F.apply(null,arguments).map(ft);return new Be((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,o=new Array(r);e.forEach((function(e,i){return Be.resolve(e).then((function(e){return t(e)}),(function(e){o[i]=e,--r||n(new AggregateError(o))}))}))}))})));var tt={awaits:0,echoes:0,id:0},nt=0,rt=[],ot=0,it=0,ut=0;function at(e,t,n,r){var o=Ue,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++ut;var u=De.env;i.env=ke?{Promise:Be,PromiseProp:{value:Be,configurable:!0,writable:!0},all:Be.all,race:Be.race,allSettled:Be.allSettled,any:Be.any,resolve:Be.resolve,reject:Be.reject,nthen:mt(u.nthen,i),gthen:mt(u.gthen,i)}:{},t&&s(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=vt(i,e,n,r);return 0===i.ref&&i.finalize(),a}function ct(){return tt.id||(tt.id=++nt),++tt.awaits,tt.echoes+=ye,tt.id}function st(){return!!tt.awaits&&(0===--tt.awaits&&(tt.id=0),tt.echoes=tt.awaits*ye,!0)}function ft(e){return tt.echoes&&e&&e.constructor===Oe?(ct(),e.then((function(e){return st(),e}),(function(e){return st(),_t(e)}))):e}function lt(e){++it,tt.echoes&&0!==--tt.echoes||(tt.echoes=tt.id=0),rt.push(Ue),ht(e,!0)}function dt(){var e=rt[rt.length-1];rt.pop(),ht(e,!1)}function ht(e,t){var n=Ue;if((t?!tt.echoes||ot++&&e===Ue:!ot||--ot&&e===Ue)||bt(t?lt.bind(null,e):dt),e!==Ue&&(Ue=e,n===De&&(De.env=pt()),ke)){var r=De.env.Promise,o=e.env;we.then=o.nthen,r.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(u,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function pt(){var e=u.Promise;return ke?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:we.then,gthen:e.prototype.then}:{}}function vt(e,t,n,r,o){var i=Ue;try{return ht(e,!0),t(n,r,o)}finally{ht(i,!1)}}function bt(e){xe.call(ge,e)}function yt(e,t,n,r){return"function"!==typeof e?e:function(){var o=Ue;n&&ct(),ht(t,!0);try{return e.apply(this,arguments)}finally{ht(o,!1),r&&bt(st)}}}function mt(e,t){return function(n,r){return e.call(this,yt(n,t),yt(r,t))}}-1===(""+xe).indexOf("[native code]")&&(ct=st=ae);var gt="unhandledrejection";function wt(e,t){var n;try{n=t.onuncatched(e)}catch(i){}if(!1!==n)try{var r,o={promise:t,reason:e};if(u.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(gt,!0,!0),s(r,o)):u.CustomEvent&&s(r=new CustomEvent(gt,{detail:o}),o),r&&u.dispatchEvent&&(dispatchEvent(r),!u.PromiseRejectionEvent&&u.onunhandledrejection))try{u.onunhandledrejection(r)}catch(_){}W&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: ".concat(e.stack||e))}catch(i){}}var _t=Be.reject;function xt(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Ue.letThrough||e._vip)){var o=e._createTransaction(t,n,e._dbSchema);try{o.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===ne.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((function(){return xt(e,t,n,r)}))):_t(i)}return o._promise(t,(function(e,t){return at((function(){return Ue.trans=o,r(e,t,o)}))})).then((function(e){return o._completion.then((function(){return e}))}))}if(e._state.openComplete)return _t(new oe.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return _t(new oe.DatabaseClosed);e.open().catch(ae)}return e._state.dbReadyPromise.then((function(){return xt(e,t,n,r)}))}var Ot="4.0.1-alpha.10",kt=String.fromCharCode(65535),jt=-1/0,St="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Et="String expected.",At=[],It="undefined"!==typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Pt=It,Tt=It,Ct=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},Rt="__dbnames",Dt="readonly",Ut="readwrite";function Nt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Lt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Mt(e){return"string"!==typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=D(t))[e],t}}function Bt(){throw oe.Type()}function Kt(e,t){try{var n=Ft(e),r=Ft(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,r=t.length,o=n<r?n:r,i=0;i<o;++i)if(e[i]!==t[i])return e[i]<t[i]?-1:1;return n===r?0:n<r?-1:1}(qt(e),qt(t));case"Array":return function(e,t){for(var n=e.length,r=t.length,o=n<r?n:r,i=0;i<o;++i){var u=Kt(e[i],t[i]);if(0!==u)return u}return n===r?0:n<r?-1:1}(e,t)}}catch(Qn){}return NaN}function Ft(e){var t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";var n=L(e);return"ArrayBuffer"===n?"binary":n}function qt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Wt=function(){function e(){}return e.prototype._trans=function(e,t,n){var r=this._tx||Ue.trans,o=this.name;function i(e,n,r){if(!r.schema[o])throw new oe.NotFound("Table "+o+" not part of transaction");return t(r.idbtrans,r)}var u=Je();try{return r&&r.db===this.db?r===Ue.trans?r._promise(e,i,n):at((function(){return r._promise(e,i,n)}),{trans:r,transless:Ue.transless||Ue}):xt(this.db,e,[this.name],i)}finally{u&&Qe()}},e.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)},e.prototype.where=function(e){if("string"===typeof e)return new this.db.WhereClause(this,e);if(c(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=a(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&this.db._maxKey!==kt)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));!n&&W&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit of a ")+"compound index [".concat(t.join("+"),"]"));var r=this.schema.idxByName,o=this.db._deps.indexedDB;function i(e,t){return 0===o.cmp(e,t)}var u=t.reduce((function(t,n){var o=t[0],u=t[1],a=r[n],s=e[n];return[o||a,o||!a?Nt(u,a&&a.multi?function(e){var t=S(e,n);return c(t)&&t.some((function(e){return i(s,e)}))}:function(e){return i(s,S(e,n))}):u]}),[null,null]),s=u[0],f=u[1];return s?this.where(s.name).equals(e[s.keyPath]).filter(f):n?this.filter(f):this.where(t).equals("")},e.prototype.filter=function(e){return this.toCollection().and(e)},e.prototype.count=function(e){return this.toCollection().count(e)},e.prototype.offset=function(e){return this.toCollection().offset(e)},e.prototype.limit=function(e){return this.toCollection().limit(e)},e.prototype.each=function(e){return this.toCollection().each(e)},e.prototype.toArray=function(e){return this.toCollection().toArray(e)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,c(e)?"[".concat(e.join("+"),"]"):e))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(e){var t=this.db,n=this.name;this.schema.mappedClass=e,e.prototype instanceof Bt&&(e=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(o,e),Object.defineProperty(o.prototype,"db",{get:function(){return t},enumerable:!1,configurable:!0}),o.prototype.table=function(){return n},o}(e));for(var o=new Set,i=e.prototype;i;i=f(i))Object.getOwnPropertyNames(i).forEach((function(e){return o.add(e)}));var u=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(!o.has(r))try{n[r]=t[r]}catch(_){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=u,this.hook("reading",u),e},e.prototype.defineClass=function(){return this.mapToClass((function(e){s(this,e)}))},e.prototype.add=function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,u=e;return i&&o&&(u=Mt(i)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[u]})})).then((function(e){return e.numFailures?Be.reject(e.failures[0]):e.lastResult})).then((function(t){if(i)try{E(e,i,t)}catch(_){}return t}))},e.prototype.update=function(e,t){if("object"!==typeof e||c(e))return this.where(":id").equals(e).modify(t);var n=S(e,this.schema.primKey.keyPath);if(void 0===n)return _t(new oe.InvalidArgument("Given object does not contain its primary key"));try{"function"!==typeof t?a(t).forEach((function(n){E(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(Qn){}return this.where(":id").equals(n).modify(t)},e.prototype.put=function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,u=e;return i&&o&&(u=Mt(i)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[u],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?Be.reject(e.failures[0]):e.lastResult})).then((function(t){if(i)try{E(e,i,t)}catch(_){}return t}))},e.prototype.delete=function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?Be.reject(e.failures[0]):void 0}))},e.prototype.clear=function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:Lt})})).then((function(e){return e.numFailures?Be.reject(e.failures[0]):void 0}))},e.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))},e.prototype.bulkAdd=function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,u=n.auto,a=n.keyPath;if(a&&o)throw new oe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new oe.InvalidArgument("Arguments objects and keys must have the same length");var c=e.length,s=a&&u?e.map(Mt(a)):e;return r.core.mutate({trans:t,type:"add",keys:o,values:s,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,o=e.lastResult,u=e.failures;if(0===t)return i?n:o;throw new te("".concat(r.name,".bulkAdd(): ").concat(t," of ").concat(c," operations failed"),u)}))}))},e.prototype.bulkPut=function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,u=n.auto,a=n.keyPath;if(a&&o)throw new oe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new oe.InvalidArgument("Arguments objects and keys must have the same length");var c=e.length,s=a&&u?e.map(Mt(a)):e;return r.core.mutate({trans:t,type:"put",keys:o,values:s,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,o=e.lastResult,u=e.failures;if(0===t)return i?n:o;throw new te("".concat(r.name,".bulkPut(): ").concat(t," of ").concat(c," operations failed"),u)}))}))},e.prototype.bulkUpdate=function(e){var t=this,n=this.core,r=e.map((function(e){return e.key})),o=e.map((function(e){return e.changes})),i=[];return this._trans("readwrite",(function(u){return n.getMany({trans:u,keys:r,cache:"clone"}).then((function(a){var c=[],s=[];e.forEach((function(e,n){var r=e.key,o=e.changes,u=a[n];if(u){for(var f=0,l=Object.keys(o);f<l.length;f++){var d=l[f],h=o[d];if(d===t.schema.primKey.keyPath){if(0!==Kt(h,r))throw new oe.Constraint("Cannot update primary key in bulkUpdate()")}else E(u,d,h)}i.push(n),c.push(r),s.push(u)}}));var f=c.length;return n.mutate({trans:u,type:"put",keys:c,values:s,updates:{keys:r,changeSpecs:o}}).then((function(e){var n=e.numFailures,r=e.failures;if(0===n)return f;for(var o=0,u=Object.keys(r);o<u.length;o++){var a=u[o],c=i[Number(a)];if(null!=c){var s=r[a];delete r[a],r[c]=s}}throw new te("".concat(t.name,".bulkUpdate(): ").concat(n," of ").concat(f," operations failed"),r)}))}))}))},e.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,o=e.lastResult,i=e.failures;if(0===r)return o;throw new te("".concat(t.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),i)}))},e}();function Yt(e){var t={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return t[n].subscribe.apply(null,i),e}if("string"===typeof n)return t[n]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(e,r,o){if("object"!==typeof e){var u;r||(r=pe),o||(o=ae);var s={subscribers:[],fire:o,subscribe:function(e){-1===s.subscribers.indexOf(e)&&(s.subscribers.push(e),s.fire=r(s.fire,e))},unsubscribe:function(e){s.subscribers=s.subscribers.filter((function(t){return t!==e})),s.fire=s.subscribers.reduce(r,o)}};return t[e]=n[e]=s,s}a(u=e).forEach((function(e){var t=u[e];if(c(t))i(e,u[e][0],u[e][1]);else{if("asap"!==t)throw new oe.InvalidArgument("Invalid event config");var n=i(e,ce,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){k((function(){e.apply(null,t)}))}))}))}}))}}function $t(e,t){return b(t).from({prototype:e}),t}function zt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Ht(e,t){e.filter=Nt(e.filter,t)}function Vt(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Nt(r(),t())}:t,e.justLimit=n&&!r}function Gt(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new oe.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Jt(e,t,n){var r=Gt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Qt(e,t,n,r){var o=e.replayFilter?Nt(e.filter,e.replayFilter()):e.filter;if(e.or){var i={},u=function(e,n,r){if(!o||o(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))){var u=n.primaryKey,a=""+u;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(u)),d(i,a)||(i[a]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(u,n),Xt(Jt(e,r,n),e.algorithm,u,!e.keysOnly&&e.valueMapper)])}return Xt(Jt(e,r,n),Nt(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function Xt(e,t,n,r){var o=et(r?function(e,t,o){return n(r(e),t,o)}:n);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=ae}),(function(t){e.fail(t),n=ae}))||o(e.value,e,(function(e){return n=e})),n()}))}))}var Zt=function(){function e(){}return e.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,_t.bind(null,n.error)):n.table._trans("readonly",e).then(t)},e.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,_t.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},e.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=Nt(t.algorithm,e)},e.prototype._iterate=function(e,t){return Qt(this._ctx,e,t,this._ctx.table.core)},e.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&s(n,e),t._ctx=n,t},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(e){var t=this._ctx;return this._read((function(n){return Qt(t,e,n,t.table.core)}))},e.prototype.count=function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if(zt(n,!0))return r.count({trans:e,query:{index:Gt(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var o=0;return Qt(n,(function(){return++o,!1}),e,r).then((function(){return o}))})).then(e)},e.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],o=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var u="next"===this._ctx.dir?1:-1;function a(e,t){var n=i(e,o),r=i(t,o);return n<r?-u:n>r?u:0}return this.toArray((function(e){return e.sort(a)})).then(t)},e.prototype.toArray=function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&zt(n,!0)&&n.limit>0){var r=n.valueMapper,o=Gt(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then((function(e){var t=e.result;return r?t.map(r):t}))}var i=[];return Qt(n,(function(e){return i.push(e)}),e,n.table.core).then((function(){return i}))}),e)},e.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,zt(t)?Vt(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):Vt(t,(function(){var t=e;return function(){return--t<0}}))),this},e.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Vt(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},e.prototype.until=function(e,t){return Ht(this._ctx,(function(n,r,o){return!e(n.value)||(r(o),t)})),this},e.prototype.first=function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},e.prototype.last=function(e){return this.reverse().first(e)},e.prototype.filter=function(e){var t,n;return Ht(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=Nt(t.isMatch,n),this},e.prototype.and=function(e){return this.filter(e)},e.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},e.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},e.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},e.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},e.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},e.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&zt(t,!0)&&t.limit>0)return this._read((function(e){var n=Gt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)},e.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},e.prototype.firstKey=function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},e.prototype.lastKey=function(e){return this.reverse().firstKey(e)},e.prototype.distinct=function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Ht(this._ctx,(function(e){var t=e.primaryKey.toString(),r=d(n,t);return n[t]=!0,!r})),this},e.prototype.modify=function(e){var t=this,n=this._ctx;return this._write((function(r){var o;if("function"===typeof e)o=e;else{var i=a(e),u=i.length;o=function(t){for(var n=!1,r=0;r<u;++r){var o=i[r],a=e[o];S(t,o)!==a&&(E(t,o,a),n=!0)}return n}}var c=n.table.core,s=c.schema.primaryKey,f=s.outbound,l=s.extractKey,d=t.db._options.modifyChunkSize||200,h=[],p=0,v=[],b=function(e,t){var n=t.failures,r=t.numFailures;p+=e-r;for(var o=0,i=a(n);o<i.length;o++){var u=i[o];h.push(n[u])}};return t.clone().primaryKeys().then((function(t){return function i(u){var a=Math.min(d,t.length-u);return c.getMany({trans:r,keys:t.slice(u,u+a),cache:"immutable"}).then((function(s){for(var h=[],p=[],v=f?[]:null,y=[],m=0;m<a;++m){var g=s[m],w={value:D(g),primKey:t[u+m]};!1!==o.call(w,w.value,w)&&(null==w.value?y.push(t[u+m]):f||0===Kt(l(g),l(w.value))?(p.push(w.value),f&&v.push(t[u+m])):(y.push(t[u+m]),h.push(w.value)))}var _=zt(n)&&n.limit===1/0&&("function"!==typeof e||e===en)&&{index:n.index,range:n.range};return Promise.resolve(h.length>0&&c.mutate({trans:r,type:"add",values:h}).then((function(e){for(var t in e.failures)y.splice(parseInt(t),1);b(h.length,e)}))).then((function(){return(p.length>0||_&&"object"===typeof e)&&c.mutate({trans:r,type:"put",keys:v,values:p,criteria:_,changeSpec:"function"!==typeof e&&e}).then((function(e){return b(p.length,e)}))})).then((function(){return(y.length>0||_&&e===en)&&c.mutate({trans:r,type:"delete",keys:y,criteria:_}).then((function(e){return b(y.length,e)}))})).then((function(){return t.length>u+a&&i(u+d)}))}))}(0).then((function(){if(h.length>0)throw new ee("Error modifying one or more objects",h,p,v);return t.length}))}))}))},e.prototype.delete=function(){var e=this._ctx,t=e.range;return zt(e)&&(e.isPrimKey&&!Tt||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,o=t;return e.table.core.count({trans:n,query:{index:r,range:o}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((function(e){var n=e.failures;e.lastResult,e.results;var r=e.numFailures;if(r)throw new ee("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-r);return t-r}))}))})):this.modify(en)},e}(),en=function(e,t){return t.value=null};function tn(e,t){return e<t?-1:e===t?0:1}function nn(e,t){return e>t?-1:e===t?0:1}function rn(e,t,n){var r=e instanceof fn?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function on(e){return new e.Collection(e,(function(){return sn("")})).limit(0)}function un(e,t,n,r,o,i){for(var u=Math.min(e.length,r.length),a=-1,c=0;c<u;++c){var s=t[c];if(s!==r[c])return o(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):o(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;o(e[c],s)<0&&(a=c)}return u<r.length&&"next"===i?e+n.substr(e.length):u<e.length&&"prev"===i?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function an(e,t,n,r){var o,i,u,a,c,s,f,l=n.length;if(!n.every((function(e){return"string"===typeof e})))return rn(e,Et);function d(e){o=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),i=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),u="next"===e?tn:nn;var t=n.map((function(e){return{lower:i(e),upper:o(e)}})).sort((function(e,t){return u(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),c=t.map((function(e){return e.lower})),s=e,f="next"===e?"":r}d("next");var h=new e.Collection(e,(function(){return cn(a[0],c[l-1]+r)}));h._ondirectionchange=function(e){d(e)};var p=0;return h._addAlgorithm((function(e,n,r){var o=e.key;if("string"!==typeof o)return!1;var d=i(o);if(t(d,c,p))return!0;for(var h=null,v=p;v<l;++v){var b=un(o,d,a[v],c[v],u,s);null===b&&null===h?p=v+1:(null===h||u(h,b)>0)&&(h=b)}return n(null!==h?function(){e.continue(h+f)}:r),!1})),h}function cn(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function sn(e){return{type:1,lower:e,upper:e}}var fn=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?on(this):new this.Collection(this,(function(){return cn(e,t,!n,!r)}))}catch(o){return rn(this,St)}},e.prototype.equals=function(e){return null==e?rn(this,St):new this.Collection(this,(function(){return sn(e)}))},e.prototype.above=function(e){return null==e?rn(this,St):new this.Collection(this,(function(){return cn(e,void 0,!0)}))},e.prototype.aboveOrEqual=function(e){return null==e?rn(this,St):new this.Collection(this,(function(){return cn(e,void 0,!1)}))},e.prototype.below=function(e){return null==e?rn(this,St):new this.Collection(this,(function(){return cn(void 0,e,!1,!0)}))},e.prototype.belowOrEqual=function(e){return null==e?rn(this,St):new this.Collection(this,(function(){return cn(void 0,e)}))},e.prototype.startsWith=function(e){return"string"!==typeof e?rn(this,Et):this.between(e,e+kt,!0,!0)},e.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):an(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],kt)},e.prototype.equalsIgnoreCase=function(e){return an(this,(function(e,t){return e===t[0]}),[e],"")},e.prototype.anyOfIgnoreCase=function(){var e=F.apply(K,arguments);return 0===e.length?on(this):an(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var e=F.apply(K,arguments);return 0===e.length?on(this):an(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,kt)},e.prototype.anyOf=function(){var e=this,t=F.apply(K,arguments),n=this._cmp;try{t.sort(n)}catch(i){return rn(this,St)}if(0===t.length)return on(this);var r=new this.Collection(this,(function(){return cn(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var o=0;return r._addAlgorithm((function(e,r,i){for(var u=e.key;n(u,t[o])>0;)if(++o===t.length)return r(i),!1;return 0===n(u,t[o])||(r((function(){e.continue(t[o])})),!1)})),r},e.prototype.notEqual=function(e){return this.inAnyRange([[jt,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var e=F.apply(K,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(n){return rn(this,St)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[jt,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(e,t){var n=this,r=this._cmp,o=this._ascending,i=this._descending,u=this._min,a=this._max;if(0===e.length)return on(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&o(e[0],e[1])<=0})))return rn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",oe.InvalidArgument);var c=!t||!1!==t.includeLowers,s=t&&!0===t.includeUppers;var f,l=o;function d(e,t){return l(e[0],t[0])}try{f=e.reduce((function(e,t){for(var n=0,o=e.length;n<o;++n){var i=e[n];if(r(t[0],i[1])<0&&r(t[1],i[0])>0){i[0]=u(i[0],t[0]),i[1]=a(i[1],t[1]);break}}return n===o&&e.push(t),e}),[]),f.sort(d)}catch(m){return rn(this,St)}var h=0,p=s?function(e){return o(e,f[h][1])>0}:function(e){return o(e,f[h][1])>=0},v=c?function(e){return i(e,f[h][0])>0}:function(e){return i(e,f[h][0])>=0};var b=p,y=new this.Collection(this,(function(){return cn(f[0][0],f[f.length-1][1],!c,!s)}));return y._ondirectionchange=function(e){"next"===e?(b=p,l=o):(b=v,l=i),f.sort(d)},y._addAlgorithm((function(e,t,r){for(var i=e.key;b(i);)if(++h===f.length)return t(r),!1;return!!function(e){return!p(e)&&!v(e)}(i)||(0===n._cmp(i,f[h][1])||0===n._cmp(i,f[h][0])||t((function(){l===o?e.continue(f[h][0]):e.continue(f[h][1])})),!1)})),y},e.prototype.startsWithAnyOf=function(){var e=F.apply(K,arguments);return e.every((function(e){return"string"===typeof e}))?0===e.length?on(this):this.inAnyRange(e.map((function(e){return[e,e+kt]}))):rn(this,"startsWithAnyOf() only works with strings")},e}();function ln(e){return et((function(t){return dn(t),e(t.target.error),!1}))}function dn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var hn="storagemutated",pn="x-storagemutated-1",vn=Yt(null,hn),bn=function(){function e(){}return e.prototype._lock=function(){return O(!Ue.global),++this._reculock,1!==this._reculock||Ue.global||(Ue.lockOwnerFor=this),this},e.prototype._unlock=function(){if(O(!Ue.global),0===--this._reculock)for(Ue.global||(Ue.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{vt(e[1],e[0])}catch(t){}}return this},e.prototype._locked=function(){return this._reculock&&Ue.lockOwnerFor!==this},e.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(O(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new oe.DatabaseClosed(r);case"MissingAPIError":throw new oe.MissingAPI(r.message,r);default:throw new oe.OpenFailed(r)}if(!this.active)throw new oe.TransactionInactive;return O(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=et((function(n){dn(n),t._reject(e.error)})),e.onabort=et((function(n){dn(n),t.active&&t._reject(new oe.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=et((function(){t.active=!1,t._resolve(),"mutatedParts"in e&&vn.storagemutated.fire(e.mutatedParts)})),this},e.prototype._promise=function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return _t(new oe.ReadOnly("Transaction is readonly"));if(!this.active)return _t(new oe.TransactionInactive);if(this._locked())return new Be((function(o,i){r._blockedFuncs.push([function(){r._promise(e,t,n).then(o,i)},Ue])}));if(n)return at((function(){var e=new Be((function(e,n){r._lock();var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var o=new Be((function(e,n){var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return o._lib=!0,o},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(e){var t=this._root(),n=Be.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return n}));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var o=t._waitingFor;return new Be((function(e,r){n.then((function(n){return t._waitingQueue.push(et(e.bind(null,n)))}),(function(e){return t._waitingQueue.push(et(r.bind(null,e)))})).finally((function(){t._waitingFor===o&&(t._waitingFor=null)}))}))},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new oe.Abort))},e.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(d(t,e))return t[e];var n=this.schema[e];if(!n)throw new oe.NotFound("Table "+e+" not part of transaction");var r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r},e}();function yn(e,t,n,r,o,i,u){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:i,src:(n&&!u?"&":"")+(r?"*":"")+(o?"++":"")+mn(t)}}function mn(e){return"string"===typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function gn(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:j(n,(function(e){return[e.name,e]}))}}var wn=function(e){try{return e.only([[]]),wn=function(){return[[]]},[[]]}catch(t){return wn=function(){return kt},kt}};function _n(e){return null==e?function(){}:"string"===typeof e?function(e){var t=e.split(".");return 1===t.length?function(t){return t[e]}:function(t){return S(t,e)}}(e):function(t){return S(t,e)}}function xn(e){return[].slice.call(e)}var On=0;function kn(e){return null==e?":id":"string"===typeof e?e:"[".concat(e.join("+"),"]")}function jn(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,r=e.upper,o=e.lowerOpen,i=e.upperOpen;return void 0===n?void 0===r?null:t.upperBound(r,!!i):void 0===r?t.lowerBound(n,!!o):t.bound(n,r,!!o,!!i)}var o=function(e,t){var n=xn(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=c(t),o=null==t,i={},u={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:_n(t)},indexes:xn(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry,o=e.keyPath,u={name:t,compound:c(o),keyPath:o,unique:n,multiEntry:r,extractKey:_n(o)};return i[kn(o)]=u,u})),getIndexByKeyPath:function(e){return i[kn(e)]}};return i[":id"]=u.primaryKey,null!=t&&(i[kn(t)]=u.primaryKey),u}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!==typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),i=o.schema,u=o.hasGetAll,a=i.tables.map((function(e){return function(e){var t=e.name;return{name:t,schema:e,mutate:function(e){var n=e.trans,o=e.type,i=e.keys,u=e.values,a=e.range;return new Promise((function(e,c){e=et(e);var s=n.objectStore(t),f=null==s.keyPath,l="put"===o||"add"===o;if(!l&&"delete"!==o&&"deleteRange"!==o)throw new Error("Invalid operation type: "+o);var d,h=(i||u||{length:1}).length;if(i&&u&&i.length!==u.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return e({numFailures:0,failures:{},results:[],lastResult:void 0});var p=[],v=[],b=0,y=function(e){++b,dn(e)};if("deleteRange"===o){if(4===a.type)return e({numFailures:b,failures:v,results:[],lastResult:void 0});3===a.type?p.push(d=s.clear()):p.push(d=s.delete(r(a)))}else{var m=l?f?[u,i]:[u,null]:[i,null],g=m[0],w=m[1];if(l)for(var _=0;_<h;++_)p.push(d=w&&void 0!==w[_]?s[o](g[_],w[_]):s[o](g[_])),d.onerror=y;else for(_=0;_<h;++_)p.push(d=s[o](g[_])),d.onerror=y}var x=function(t){var n=t.target.result;p.forEach((function(e,t){return null!=e.error&&(v[t]=e.error)})),e({numFailures:b,failures:v,results:"delete"===o?i:p.map((function(e){return e.result})),lastResult:n})};d.onerror=function(e){y(e),x(e)},d.onsuccess=x}))},getMany:function(e){var n=e.trans,r=e.keys;return new Promise((function(e,o){e=et(e);for(var i,u=n.objectStore(t),a=r.length,c=new Array(a),s=0,f=0,l=function(t){var n=t.target;c[n._pos]=n.result,++f===s&&e(c)},d=ln(o),h=0;h<a;++h)null!=r[h]&&((i=u.get(r[h]))._pos=h,i.onsuccess=l,i.onerror=d,++s);0===s&&e(c)}))},get:function(e){var n=e.trans,r=e.key;return new Promise((function(e,o){e=et(e);var i=n.objectStore(t).get(r);i.onsuccess=function(t){return e(t.target.result)},i.onerror=ln(o)}))},query:function(e){return function(n){return new Promise((function(o,i){o=et(o);var u=n.trans,a=n.values,c=n.limit,s=n.query,f=c===1/0?void 0:c,l=s.index,d=s.range,h=u.objectStore(t),p=l.isPrimaryKey?h:h.index(l.name),v=r(d);if(0===c)return o({result:[]});if(e){var b=a?p.getAll(v,f):p.getAllKeys(v,f);b.onsuccess=function(e){return o({result:e.target.result})},b.onerror=ln(i)}else{var y=0,m=a||!("openKeyCursor"in p)?p.openCursor(v):p.openKeyCursor(v),g=[];m.onsuccess=function(e){var t=m.result;return t?(g.push(a?t.value:t.primaryKey),++y===c?o({result:g}):void t.continue()):o({result:g})},m.onerror=ln(i)}}))}}(u),openCursor:function(e){var n=e.trans,o=e.values,i=e.query,u=e.reverse,a=e.unique;return new Promise((function(e,c){e=et(e);var s=i.index,f=i.range,l=n.objectStore(t),d=s.isPrimaryKey?l:l.index(s.name),h=u?a?"prevunique":"prev":a?"nextunique":"next",p=o||!("openKeyCursor"in d)?d.openCursor(r(f),h):d.openKeyCursor(r(f),h);p.onerror=ln(c),p.onsuccess=et((function(t){var r=p.result;if(r){r.___id=++On,r.done=!1;var o=r.continue.bind(r),i=r.continuePrimaryKey;i&&(i=i.bind(r));var u=r.advance.bind(r),a=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=et(c),r.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},r.start=function(e){var t=new Promise((function(e,t){e=et(e),p.onerror=ln(t),r.fail=t,r.stop=function(t){r.stop=r.continue=r.continuePrimaryKey=r.advance=a,e(t)}})),n=function(){if(p.result)try{e()}catch(t){r.fail(t)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return p.onsuccess=et((function(e){p.onsuccess=n,n()})),r.continue=o,r.continuePrimaryKey=i,r.advance=u,n(),t},e(r)}else e(null)}),c)}))},count:function(e){var n=e.query,o=e.trans,i=n.index,u=n.range;return new Promise((function(e,n){var a=o.objectStore(t),c=i.isPrimaryKey?a:a.index(i.name),s=r(u),f=s?c.count(s):c.count();f.onsuccess=et((function(t){return e(t.target.result)})),f.onerror=ln(n)}))}}}(e)})),s={};return a.forEach((function(e){return s[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!s[e])throw new Error("Table '".concat(e,"' not found"));return s[e]},MIN_KEY:-1/0,MAX_KEY:wn(t),schema:i}}function Sn(e,t,n,r){var i=n.IDBKeyRange;n.indexedDB;var u=function(e,t){return t.reduce((function(e,t){var n=t.create;return o(o({},e),n(e))}),e)}(jn(t,i,r),e.dbcore);return{dbcore:u}}function En(e,t){var n=e._novip,r=t.db,o=Sn(n._middlewares,r,n._deps,t);n.core=o.dbcore,n.tables.forEach((function(e){var t=e.name;n.core.schema.tables.some((function(e){return e.name===t}))&&(e.core=n.core.table(t),n[t]instanceof n.Table&&(n[t].core=e.core))}))}function An(e,t,n,r){var o=e._novip;n.forEach((function(e){var n=r[e];t.forEach((function(t){var r=m(t,e);(!r||"value"in r&&void 0===r.value)&&(t===o.Transaction.prototype||t instanceof o.Transaction?v(t,e,{get:function(){return this.table(e)},set:function(t){p(this,e,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):t[e]=new o.Table(e,n))}))}))}function In(e,t){var n=e._novip;t.forEach((function(e){for(var t in e)e[t]instanceof n.Table&&delete e[t]}))}function Pn(e,t){return e._cfg.version-t._cfg.version}function Tn(e,t,n,r){var o=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,o);i.create(n),i._completion.catch(r);var u=i._reject.bind(i),c=Ue.transless||Ue;at((function(){Ue.trans=i,Ue.transless=c,0===t?(a(o).forEach((function(e){Rn(n,e,o[e].primKey,o[e].indexes)})),En(e,n),Be.follow((function(){return e.on.populate.fire(i)})).catch(u)):function(e,t,n,r){var o=e._novip,i=[],u=o._versions,c=o._dbSchema=Un(o,o.idbdb,r),s=!1,f=u.filter((function(e){return e._cfg.version>=t}));function l(){return i.length?Be.resolve(i.shift()(n.idbtrans)).then(l):Be.resolve()}return f.forEach((function(e){i.push((function(){var i=c,u=e._cfg.dbschema;Nn(o,i,r),Nn(o,u,r),c=o._dbSchema=u;var f=Cn(i,u);f.add.forEach((function(e){Rn(r,e[0],e[1].primKey,e[1].indexes)})),f.change.forEach((function(e){if(e.recreate)throw new oe.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach((function(e){return Dn(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),Dn(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var l=e._cfg.contentUpgrade;if(l&&e._cfg.version>t){En(o,r),n._memoizedTables={},s=!0;var d=A(u);f.del.forEach((function(e){d[e]=i[e]})),In(o,[o.Transaction.prototype]),An(o,[o.Transaction.prototype],a(d),d),n.schema=d;var h,p=q(l);p&&ct();var v=Be.follow((function(){if((h=l(n))&&p){var e=st.bind(null,null);h.then(e,e)}}));return h&&"function"===typeof h.then?Be.resolve(h):v.then((function(){return h}))}})),i.push((function(t){s&&Pt||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((function(n){return null==e[n]&&t.db.deleteObjectStore(n)}))}(e._cfg.dbschema,t);In(o,[o.Transaction.prototype]),An(o,[o.Transaction.prototype],o._storeNames,o._dbSchema),n.schema=o._dbSchema}))})),l().then((function(){var e,t;t=r,a(e=c).forEach((function(n){t.db.objectStoreNames.contains(n)||Rn(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,i,n).catch(u)}))}function Cn(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var o=e[n],i=t[n];if(o){var u={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!==""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!It)u.recreate=!0,r.change.push(u);else{var a=o.idxByName,c=i.idxByName,s=void 0;for(s in a)c[s]||u.del.push(s);for(s in c){var f=a[s],l=c[s];f?f.src!==l.src&&u.change.push(l):u.add.push(l)}(u.del.length>0||u.add.length>0||u.change.length>0)&&r.change.push(u)}}else r.add.push([n,i])}return r}function Rn(e,t,n,r){var o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return Dn(o,e)})),o}function Dn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Un(e,t,n){var r={};return w(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),o=t.keyPath,i=yn(mn(o),o||"",!1,!1,!!t.autoIncrement,o&&"string"!==typeof o,!0),u=[],a=0;a<t.indexNames.length;++a){var c=t.index(t.indexNames[a]);o=c.keyPath;var s=yn(c.name,o,!!c.unique,!!c.multiEntry,!1,o&&"string"!==typeof o,!1);u.push(s)}r[e]=gn(e,i,u)})),r}function Nn(e,t,n){for(var r=e._novip,o=n.db.objectStoreNames,i=0;i<o.length;++i){var a=o[i],c=n.objectStore(a);r._hasGetAll="getAll"in c;for(var s=0;s<c.indexNames.length;++s){var f=c.indexNames[s],l=c.index(f).keyPath,d="string"===typeof l?l:"["+w(l).join("+")+"]";if(t[a]){var h=t[a].idxByName[d];h&&(h.name=f,delete t[a].idxByName[d],t[a].idxByName[f]=h)}}}"undefined"!==typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}var Ln=function(){function e(){}return e.prototype._parseStoresSpec=function(e,t){a(e).forEach((function(n){if(null!==e[n]){var r=e[n].split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return yn(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),c(r),0===t)})),o=r.shift();if(o.multi)throw new oe.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new oe.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new oe.Schema("Index must have a name and cannot be an empty string")})),t[n]=gn(n,o,r)}}))},e.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,e):e;var n=t._versions,r={},o={};return n.forEach((function(e){s(r,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(r,o)})),t._dbSchema=o,In(t,[t._allTables,t,t.Transaction.prototype]),An(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],a(o),o),t._storeNames=a(o),this},e.prototype.upgrade=function(e){return this._cfg.contentUpgrade=ve(this._cfg.contentUpgrade||ae,e),this},e}();function Mn(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new sr(Rt,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function Bn(e){return e&&"function"===typeof e.databases}function Kn(e){return at((function(){return Ue.letThrough=!0,e()}))}function Fn(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function qn(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?_t(t.dbOpenError):e}));W&&(t.openCanceller._stackHolder=H()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller;function o(){if(t.openCanceller!==r)throw new oe.DatabaseClosed("db.open() was cancelled")}var i=t.dbReadyResolve,u=null,c=!1;return Be.race([r,("undefined"===typeof navigator?Be.resolve():Fn()).then((function(){return new Be((function(r,i){if(o(),!n)throw new oe.MissingAPI;var s=e.name,f=t.autoSchema?n.open(s):n.open(s,Math.round(10*e.verno));if(!f)throw new oe.MissingAPI;f.onerror=ln(i),f.onblocked=et(e._fireOnBlocked),f.onupgradeneeded=et((function(r){if(u=f.transaction,t.autoSchema&&!e._options.allowEmptyDB){f.onerror=dn,u.abort(),f.result.close();var o=n.deleteDatabase(s);o.onsuccess=o.onerror=et((function(){i(new oe.NoSuchDatabase("Database ".concat(s," doesnt exist")))}))}else{u.onerror=ln(i);var a=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;c=a<1,e._novip.idbdb=f.result,Tn(e,a/10,u,i)}}),i),f.onsuccess=et((function(){u=null;var n,o=e._novip.idbdb=f.result,i=w(o.objectStoreNames);if(i.length>0)try{var l=o.transaction(1===(n=i).length?n[0]:n,"readonly");t.autoSchema?function(e,t,n){var r=e._novip;r.verno=t.version/10;var o=r._dbSchema=Un(0,t,n);r._storeNames=w(t.objectStoreNames,0),An(r,[r._allTables],a(o),o)}(e,o,l):(Nn(e,e._dbSchema,l),function(e,t){var n=Cn(Un(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((function(e){return e.add.length||e.change.length})))}(e,l)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),En(e,l)}catch(d){}At.push(e),o.onversionchange=et((function(n){t.vcFired=!0,e.on("versionchange").fire(n)})),o.onclose=et((function(t){e.on("close").fire(t)})),c&&function(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!Bn(n)&&t!==Rt&&Mn(n,r).put({name:t}).catch(ae)}(e._deps,s),r()}),i)}))}))]).then((function(){return o(),t.onReadyBeingFired=[],Be.resolve(Kn((function(){return e.on.ready.fire(e.vip)}))).then((function n(){if(t.onReadyBeingFired.length>0){var r=t.onReadyBeingFired.reduce(ve,ae);return t.onReadyBeingFired=[],Be.resolve(Kn((function(){return r(e.vip)}))).then(n)}}))})).finally((function(){t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((function(){return e})).catch((function(n){t.dbOpenError=n;try{u&&u.abort()}catch(Qn){}return r===t.openCanceller&&e._close(),_t(n)})).finally((function(){t.openComplete=!0,i()}))}function Wn(e){var t=function(t){return e.next(t)},n=o(t),r=o((function(t){return e.throw(t)}));function o(e){return function(t){var o=e(t),i=o.value;return o.done?i:i&&"function"===typeof i.then?i.then(n,r):c(i)?Promise.all(i).then(n,r):n(i)}}return o(t)()}function Yn(e,t,n){var r=arguments.length;if(r<2)throw new oe.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[e,P(o),n]}function $n(e,t,n,r,o){return Be.resolve().then((function(){var i=Ue.transless||Ue,u=e._createTransaction(t,n,e._dbSchema,r),a={trans:u,transless:i};if(r)u.idbtrans=r.idbtrans;else try{u.create(),e._state.PR1398_maxLoop=3}catch(l){return l.name===ne.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((function(){return $n(e,t,n,null,o)}))):_t(l)}var c,s=q(o);s&&ct();var f=Be.follow((function(){if(c=o.call(u,u))if(s){var e=st.bind(null,null);c.then(e,e)}else"function"===typeof c.next&&"function"===typeof c.throw&&(c=Wn(c))}),a);return(c&&"function"===typeof c.then?Be.resolve(c).then((function(e){return u.active?e:_t(new oe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):f.then((function(){return c}))).then((function(e){return r&&u._resolve(),u._completion.then((function(){return e}))})).catch((function(e){return u._reject(e),_t(e)}))}))}function zn(e,t,n){for(var r=c(e)?e.slice():[e],o=0;o<n;++o)r.push(t);return r}var Hn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return o(o({},e),{table:function(t){var n=e.table(t),r=n.schema,i={},u=[];function a(e,t,n){var r=kn(e),c=i[r]=i[r]||[],s=null==e?0:"string"===typeof e?1:e.length,f=t>0,l=o(o({},n),{isVirtual:f,keyTail:t,keyLength:s,extractKey:_n(e),unique:!f&&n.unique});(c.push(l),l.isPrimaryKey||u.push(l),s>1)&&a(2===s?e[0]:e.slice(0,s-1),t+1,n);return c.sort((function(e,t){return e.keyTail-t.keyTail})),l}var c=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[c];for(var s=0,f=r.indexes;s<f.length;s++){var l=f[s];a(l.keyPath,0,l)}function d(t){var n,r,i=t.query.index;return i.isVirtual?o(o({},t),{query:{index:i,range:(n=t.query.range,r=i.keyTail,{type:1===n.type?2:n.type,lower:zn(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,r),lowerOpen:!0,upper:zn(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,r),upperOpen:!0})}}):t}var h=o(o({},n),{schema:o(o({},r),{primaryKey:c,indexes:u,getIndexByKeyPath:function(e){var t=i[kn(e)];return t&&t[0]}}),count:function(e){return n.count(d(e))},query:function(e){return n.query(d(e))},openCursor:function(t){var r=t.query.index,o=r.keyTail,i=r.isVirtual,u=r.keyLength;if(!i)return n.openCursor(t);return n.openCursor(d(t)).then((function(n){return n&&function(n){var r=Object.create(n,{continue:{value:function(r){null!=r?n.continue(zn(r,t.reverse?e.MAX_KEY:e.MIN_KEY,o)):t.unique?n.continue(n.key.slice(0,u).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,o)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(zn(t,e.MAX_KEY,o),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===u?e[0]:e.slice(0,u)}},value:{get:function(){return n.value}}});return r}(n)}))}});return h}})}};function Vn(e,t,n,r){return n=n||{},r=r||"",a(e).forEach((function(o){if(d(t,o)){var i=e[o],u=t[o];if("object"===typeof i&&"object"===typeof u&&i&&u){var a=L(i);a!==L(u)?n[r+o]=t[o]:"Object"===a?Vn(i,u,n,r+o+"."):i!==u&&(n[r+o]=t[o])}else i!==u&&(n[r+o]=t[o])}else n[r+o]=void 0})),a(t).forEach((function(o){d(e,o)||(n[r+o]=t[o])})),n}var Gn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return o(o({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey,u=o(o({},n),{mutate:function(e){var u=Ue.trans,a=u.table(t).hook,c=a.deleting,s=a.creating,f=a.updating;switch(e.type){case"add":if(s.fire===ae)break;return u._promise("readwrite",(function(){return l(e)}),!0);case"put":if(s.fire===ae&&f.fire===ae)break;return u._promise("readwrite",(function(){return l(e)}),!0);case"delete":if(c.fire===ae)break;return u._promise("readwrite",(function(){return l(e)}),!0);case"deleteRange":if(c.fire===ae)break;return u._promise("readwrite",(function(){return function(e){return h(e.trans,e.range,1e4)}(e)}),!0)}return n.mutate(e);function l(e){var t=Ue.trans,u=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!u)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?o(o({},e),{keys:u}):o({},e)).type&&(e.values=i([],e.values,!0)),e.keys&&(e.keys=i([],e.keys,!0)),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,u).then((function(o){var i=u.map((function(n,i){var u=o[i],a={onerror:null,onsuccess:null};if("delete"===e.type)c.fire.call(a,n,u,t);else if("add"===e.type||void 0===u){var l=s.fire.call(a,n,e.values[i],t);null==n&&null!=l&&(n=l,e.keys[i]=n,r.outbound||E(e.values[i],r.keyPath,n))}else{var h=Vn(u,e.values[i]),p=f.fire.call(a,h,n,u,t);if(p){var v=e.values[i];Object.keys(p).forEach((function(e){d(v,e)?v[e]=p[e]:E(v,e,p[e])}))}}return a}));return n.mutate(e).then((function(t){for(var n=t.failures,r=t.results,a=t.numFailures,c=t.lastResult,s=0;s<u.length;++s){var f=r?r[s]:u[s],l=i[s];null==f?l.onerror&&l.onerror(n[s]):l.onsuccess&&l.onsuccess("put"===e.type&&o[s]?e.values[s]:f)}return{failures:n,results:r,numFailures:a,lastResult:c}})).catch((function(e){return i.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}function h(e,t,i){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:i}).then((function(n){var r=n.result;return l({type:"delete",keys:r,trans:e}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:h(e,o(o({},t),{lower:r[r.length-1],lowerOpen:!0}),i)}))}))}}});return u}})}};function Jn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],o=0,i=0;o<t.keys.length&&i<e.length;++o)0===Kt(t.keys[o],e[i])&&(r.push(n?D(t.values[o]):t.values[o]),++i);return r.length===e.length?r:null}catch(Qn){return null}}var Qn,Xn={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return o(o({},n),{getMany:function(e){if(!e.cache)return n.getMany(e);var t=Jn(e.keys,e.trans._cache,"clone"===e.cache);return t?Be.resolve(t):n.getMany(e).then((function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?D(t):t},t}))},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),n.mutate(e)}})}}}};function Zn(e){return!("from"in e)}var er=function e(t,n){if(!this){var r=new e;return t&&"d"in t&&s(r,t),r}s(this,arguments.length?{d:1,from:t,to:arguments.length>1?n:t}:{d:0})};function tr(e,t,n){var r=Kt(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(Zn(e))return s(e,{from:t,to:n,d:1});var o=e.l,i=e.r;if(Kt(n,e.from)<0)return o?tr(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},ir(e);if(Kt(t,e.to)>0)return i?tr(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},ir(e);Kt(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),Kt(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var u=!e.r;o&&!e.l&&nr(e,o),i&&u&&nr(e,i)}}function nr(e,t){Zn(t)||function e(t,n){var r=n.from,o=n.to,i=n.l,u=n.r;tr(t,r,o),i&&e(t,i),u&&e(t,u)}(e,t)}function rr(e,t){var n=or(t),r=n.next();if(r.done)return!1;for(var o=r.value,i=or(e),u=i.next(o.from),a=u.value;!r.done&&!u.done;){if(Kt(a.from,o.to)<=0&&Kt(a.to,o.from)>=0)return!0;Kt(o.from,a.from)<0?o=(r=n.next(a.from)).value:a=(u=i.next(o.from)).value}return!1}function or(e){var t=Zn(e)?null:{s:0,n:e};return{next:function(e){for(var n=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Kt(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Kt(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function ir(e){var t,n,r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var u="r"===i?"l":"r",a=o({},e),c=e[i];e.from=c.from,e.to=c.to,e[i]=c[i],a[i]=c[u],e[u]=a,a.d=ur(a)}e.d=ur(e)}function ur(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}h(er.prototype,(Qn={add:function(e){return nr(this,e),this},addKey:function(e){return tr(this,e,e),this},addKeys:function(e){var t=this;return e.forEach((function(e){return tr(t,e,e)})),this}},Qn[M]=function(){return or(this)},Qn));var ar={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,n=new er(e.MIN_KEY,e.MAX_KEY);return o(o({},e),{table:function(r){var i=e.table(r),u=i.schema,s=u.primaryKey,f=s.extractKey,l=s.outbound,d=o(o({},i),{mutate:function(e){var o=e.trans,a=o.mutatedParts||(o.mutatedParts={}),s=function(e){var n="idb://".concat(t,"/").concat(r,"/").concat(e);return a[n]||(a[n]=new er)},f=s(""),l=s(":dels"),d=e.type,h="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[],p=h[0],v=h[1],b=e.trans._cache;return i.mutate(e).then((function(e){if(c(p)){"delete"!==d&&(p=e.results),f.addKeys(p);var t=Jn(p,b);t||"add"===d||l.addKeys(p),(t||v)&&function(e,t,n,r){function o(t){var o=e(t.name||"");function i(e){return null!=e?t.extractKey(e):null}var u=function(e){return t.multiEntry&&c(e)?e.forEach((function(e){return o.addKey(e)})):o.addKey(e)};(n||r).forEach((function(e,t){var o=n&&i(n[t]),a=r&&i(r[t]);0!==Kt(o,a)&&(null!=o&&u(o),null!=a&&u(a))}))}t.indexes.forEach(o)}(s,u,t,v)}else if(p){var r={from:p.lower,to:p.upper};l.add(r),f.add(r)}else f.add(n),l.add(n),u.indexes.forEach((function(e){return s(e.name).add(n)}));return e}))}}),h=function(t){var n,r,o=t.query,i=o.index,u=o.range;return[i,new er(null!==(n=u.lower)&&void 0!==n?n:e.MIN_KEY,null!==(r=u.upper)&&void 0!==r?r:e.MAX_KEY)]},p={get:function(e){return[s,new er(e.key)]},getMany:function(e){return[s,(new er).addKeys(e.keys)]},count:h,query:h,openCursor:h};return a(p).forEach((function(e){d[e]=function(u){var a=Ue.subscr;if(a){var c=function(e){var n="idb://".concat(t,"/").concat(r,"/").concat(e);return a[n]||(a[n]=new er)},s=c(""),d=c(":dels"),h=p[e](u),v=h[0],b=h[1];if(c(v.name||"").add(b),!v.isPrimaryKey){if("count"!==e){var y="query"===e&&l&&u.values&&i.query(o(o({},u),{values:!1}));return i[e].apply(this,arguments).then((function(t){if("query"===e){if(l&&u.values)return y.then((function(e){var n=e.result;return s.addKeys(n),t}));var n=u.values?t.result.map(f):t.result;u.values?s.addKeys(n):d.addKeys(n)}else if("openCursor"===e){var r=t,o=u.values;return r&&Object.create(r,{key:{get:function(){return d.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return d.addKey(e),e}},value:{get:function(){return o&&s.addKey(r.primaryKey),r.value}}})}return t}))}d.add(n)}}return i[e].apply(this,arguments)}})),d}})}};var cr,sr=function(){function e(t,n){var r=this;this._middlewares={},this.verno=0;var i=e.dependencies;this._options=n=o({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var u=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var a,c={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ae,dbReadyPromise:null,cancelOpen:ae,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};c.dbReadyPromise=new Be((function(e){c.dbReadyResolve=e})),c.openCanceller=new Be((function(e,t){c.cancelOpen=t})),this._state=c,this.name=t,this.on=Yt(this,"populate","blocked","versionchange","close",{ready:[ve,ae]}),this.on.ready.subscribe=x(this.on.ready.subscribe,(function(t){return function(n,o){e.vip((function(){var e=r._state;if(e.openComplete)e.dbOpenError||Be.resolve().then(n),o&&t(n);else if(e.onReadyBeingFired)e.onReadyBeingFired.push(n),o&&t(n);else{t(n);var i=r;o||t((function e(){i.on.ready.unsubscribe(n),i.on.ready.unsubscribe(e)}))}}))}})),this.Collection=(a=this,$t(Zt.prototype,(function(e,t){this.db=a;var n=Lt,r=null;if(t)try{n=t()}catch(c){r=c}var o=e._ctx,i=o.table,u=i.hook.reading.fire;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:u!==ce?u:null}}))),this.Table=function(e){return $t(Wt.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Yt(null,{creating:[le,ae],reading:[se,ce],updating:[he,ae],deleting:[de,ae]})}))}(this),this.Transaction=function(e){return $t(bn.prototype,(function(t,n,r,o,i){var u=this;this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=Yt(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Be((function(e,t){u._resolve=e,u._reject=t})),this._completion.then((function(){u.active=!1,u.on.complete.fire()}),(function(e){var t=u.active;return u.active=!1,u.on.error.fire(e),u.parent?u.parent._reject(e):t&&u.idbtrans&&u.idbtrans.abort(),_t(e)}))}))}(this),this.Version=function(e){return $t(Ln.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return $t(fn.prototype,(function(t,n,r){if(this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r},this._cmp=this._ascending=Kt,this._descending=function(e,t){return Kt(t,e)},this._max=function(e,t){return Kt(e,t)>0?e:t},this._min=function(e,t){return Kt(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange,!this._IDBKeyRange)throw new oe.MissingAPI}))}(this),this.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close()})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))})),this._maxKey=wn(n.IDBKeyRange),this._createTransaction=function(e,t,n,o){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,o)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),At.filter((function(e){return e.name===r.name&&e!==r&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(Hn),this.use(Gn),this.use(ar),this.use(Xn),this.vip=Object.create(this,{_vip:{value:!0}}),u.forEach((function(e){return e(r)}))}return e.prototype.version=function(e){if(isNaN(e)||e<.1)throw new oe.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new oe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(Pn),n.stores({}),this._state.autoSchema=!1,n)},e.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||Ue.letThrough||this._vip)?e():new Be((function(e,n){if(t._state.openComplete)return n(new oe.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return void n(new oe.DatabaseClosed);t.open().catch(ae)}t._state.dbReadyPromise.then(e,n)})).then(e)},e.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,o=e.name;o&&this.unuse({stack:t,name:o});var i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:n,level:null==r?10:r,name:o}),i.sort((function(e,t){return e.level-t.level})),this},e.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this},e.prototype.open=function(){return qn(this)},e.prototype._close=function(){var e=this._state,t=At.indexOf(this);if(t>=0&&At.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(n){}this._novip.idbdb=null}e.dbReadyPromise=new Be((function(t){e.dbReadyResolve=t})),e.openCanceller=new Be((function(t,n){e.cancelOpen=n}))},e.prototype.close=function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new oe.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)},e.prototype.delete=function(){var e=this,t=arguments.length>0,n=this._state;return new Be((function(r,o){var i=function(){e.close();var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=et((function(){!function(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!Bn(n)&&t!==Rt&&Mn(n,r).delete(t).catch(ae)}(e._deps,e.name),r()})),t.onerror=ln(o),t.onblocked=e._fireOnBlocked};if(t)throw new oe.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()}))},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return null!==this.idbdb},e.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},e.prototype.hasFailed=function(){return null!==this._state.dbOpenError},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var e=this;return a(this._allTables).map((function(t){return e._allTables[t]}))},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var e=Yn.apply(this,arguments);return this._transaction.apply(this,e)},e.prototype._transaction=function(e,t,n){var r=this,o=Ue.trans;o&&o.db===this&&-1===e.indexOf("!")||(o=null);var i,u,a=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(u=t.map((function(e){var t=e instanceof r.Table?e.name:e;if("string"!==typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===Dt)i=Dt;else{if("rw"!=e&&e!=Ut)throw new oe.InvalidArgument("Invalid transaction mode: "+e);i=Ut}if(o){if(o.mode===Dt&&i===Ut){if(!a)throw new oe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&u.forEach((function(e){if(o&&-1===o.storeNames.indexOf(e)){if(!a)throw new oe.SubTransaction("Table "+e+" not included in parent transaction.");o=null}})),a&&o&&!o.active&&(o=null)}}catch(s){return o?o._promise(null,(function(e,t){t(s)})):_t(s)}var c=$n.bind(null,this,i,u,o,n);return o?o._promise(i,c,"lock"):Ue.trans?vt(Ue.transless,(function(){return r._whenReady(c)})):this._whenReady(c)},e.prototype.table=function(e){if(!d(this._allTables,e))throw new oe.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},e}(),fr="undefined"!==typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",lr=function(){function e(e){this._subscribe=e}return e.prototype.subscribe=function(e,t,n){return this._subscribe(e&&"function"!==typeof e?e:{next:e,error:t,complete:n})},e.prototype[fr]=function(){return this},e}();function dr(e,t){return a(t).forEach((function(n){nr(e[n]||(e[n]=new er),t[n])})),e}try{cr={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch(gr){cr={indexedDB:null,IDBKeyRange:null}}function hr(e){return new lr((function(t){var n=q(e);var r=!1,o={},i={},u={get closed(){return r},unsubscribe:function(){r=!0,vn.storagemutated.unsubscribe(l)}};t.start&&t.start(u);var c=!1,s=!1;function f(){return a(i).some((function(e){return o[e]&&rr(o[e],i[e])}))}var l=function(e){dr(o,e),f()&&d()},d=function a(){if(!c&&!r&&cr.indexedDB){o={};var d={},h=function(t){n&&ct();var r=function(){return at(e,{subscr:t,trans:null})},o=Ue.trans?vt(Ue.transless,r):r();return n&&o.then(st,st),o}(d);s||(vn(hn,l),s=!0),c=!0,Promise.resolve(h).then((function(e){c=!1,r||(f()?a():(o={},i=d,t.next&&t.next(e)))}),(function(e){["DatabaseClosedError","AbortError"].includes(null===e||void 0===e?void 0:e.name)||(c=!1,t.error&&t.error(e),u.unsubscribe())}))}};return d(),u}))}var pr=sr;function vr(e){var t=br;try{br=!0,vn.storagemutated.fire(e)}finally{br=t}}h(pr,o(o({},ue),{delete:function(e){return new pr(e,{addons:[]}).delete()},exists:function(e){return new pr(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){try{return function(e){var t=e.indexedDB,n=e.IDBKeyRange;return Bn(t)?Promise.resolve(t.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return e!==Rt}))})):Mn(t,n).toCollection().primaryKeys()}(pr.dependencies).then(e)}catch(Qn){return _t(new oe.MissingAPI)}},defineClass:function(){return function(e){s(this,e)}},ignoreTransaction:function(e){return Ue.trans?vt(Ue.transless,e):e()},vip:Kn,async:function(e){return function(){try{var t=Wn(e.apply(this,arguments));return t&&"function"===typeof t.then?t:Be.resolve(t)}catch(gr){return _t(gr)}}},spawn:function(e,t,n){try{var r=Wn(e.apply(n,t||[]));return r&&"function"===typeof r.then?r:Be.resolve(r)}catch(gr){return _t(gr)}},currentTransaction:{get:function(){return Ue.trans||null}},waitFor:function(e,t){var n=Be.resolve("function"===typeof e?pr.ignoreTransaction(e):e).timeout(t||6e4);return Ue.trans?Ue.trans.waitFor(n):n},Promise:Be,debug:{get:function(){return W},set:function(e){Y(e,"dexie"===e?function(){return!0}:Ct)}},derive:b,extend:s,props:h,override:x,Events:Yt,on:vn,liveQuery:hr,extendObservabilitySet:dr,getByKeyPath:S,setByKeyPath:E,delByKeyPath:function(e,t){"string"===typeof t?E(e,t,void 0):"length"in t&&[].map.call(t,(function(t){E(e,t,void 0)}))},shallowClone:A,deepClone:D,getObjectDiff:Vn,cmp:Kt,asap:k,minKey:jt,addons:[],connections:At,errnames:ne,dependencies:cr,semVer:Ot,version:Ot.split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)}))})),pr.maxKey=wn(pr.dependencies.IDBKeyRange),"undefined"!==typeof dispatchEvent&&"undefined"!==typeof addEventListener&&(vn(hn,(function(e){var t;br||(It?(t=document.createEvent("CustomEvent")).initCustomEvent(pn,!0,!0,e):t=new CustomEvent(pn,{detail:e}),br=!0,dispatchEvent(t),br=!1)})),addEventListener(pn,(function(e){var t=e.detail;br||vr(t)})));var br=!1;if("undefined"!==typeof BroadcastChannel){var yr=new BroadcastChannel(pn);"function"===typeof yr.unref&&yr.unref(),vn(hn,(function(e){br||yr.postMessage(e)})),yr.onmessage=function(e){e.data&&vr(e.data)}}else if("undefined"!==typeof self&&"undefined"!==typeof navigator){vn(hn,(function(e){try{br||("undefined"!==typeof localStorage&&localStorage.setItem(pn,JSON.stringify({trig:Math.random(),changedParts:e})),"object"===typeof self.clients&&i([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach((function(t){return t.postMessage({type:pn,changedParts:e})})))}catch(Qn){}})),"undefined"!==typeof addEventListener&&addEventListener("storage",(function(e){if(e.key===pn){var t=JSON.parse(e.newValue);t&&vr(t.changedParts)}}));var mr=self.document&&navigator.serviceWorker;mr&&mr.addEventListener("message",(function(e){var t=e.data;t&&t.type===pn&&vr(t.changedParts)}))}Be.rejectionMapper=function(e,t){if(!e||e instanceof X||e instanceof TypeError||e instanceof SyntaxError||!e.name||!ie[e.name])return e;var n=new ie[e.name](t||e.message,e);return"stack"in e&&v(n,"stack",{get:function(){return this.inner.stack}}),n},Y(W,Ct)},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",s=u.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(P){f=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,u=Object.create(o.prototype),a=new E(r||[]);return i(u,"_invoke",{value:O(e,n,a)}),u}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var h={};function p(){}function v(){}function b(){}var y={};f(y,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(A([])));g&&g!==t&&n.call(g,a)&&(y=g);var w=b.prototype=p.prototype=Object.create(y);function _(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function o(i,u,a,c){var s=d(e[i],e,u);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==r(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(l).then((function(e){f.value=e,a(f)}),(function(e){return o("throw",e,a,c)}))}c(s.arg)}var u;i(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return u=u?u.then(r,r):r()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var a=k(u,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=b,i(w,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:v,configurable:!0}),v.displayName=f(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,f(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(x.prototype),f(x.prototype,c,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var u=new x(l(t,n,r,o),i);return e.isGeneratorFunction(n)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},_(w),f(w,s,"Generator"),f(w,a,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return u.type="throw",u.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=e,u.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function i(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(s){return void n(s)}a.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var u=e.apply(t,n);function a(e){i(u,r,o,a,c,"next",e)}function c(e){i(u,r,o,a,c,"throw",e)}a(void 0)}))}}n.r(t);n(194);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n(9);function f(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function l(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){var t=m();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function _(e,t,n){return _=m()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&v(o,n.prototype),o},_.apply(null,arguments)}function x(e){var t="function"===typeof Map?new Map:void 0;return x=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return _(e,arguments,y(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,e)},x(e)}var O=function(e){for(var t=e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.length>0&&(t+=" :: ".concat(JSON.stringify(r))),t},k=function(e){b(n,e);var t=w(n);function n(e,r){var o;p(this,n);var i=O(e,r);return(o=t.call(this,i)).name=e,o.details=r,o}return h(n)}(x(Error)),j=new Set;var S={googleAnalytics:"googleAnalytics",precache:"precache-v2",prefix:"workbox",runtime:"runtime",suffix:"undefined"!==typeof registration?registration.scope:""},E=function(e){return[S.prefix,e,S.suffix].filter((function(e){return e&&e.length>0})).join("-")},A=function(e){return e||E(S.precache)},I=function(e){return e||E(S.runtime)};function P(){return T.apply(this,arguments)}function T(){return(T=u(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0,t=f(j),e.prev=2,t.s();case 4:if((n=t.n()).done){e.next=11;break}return r=n.value,e.next=8,r();case 8:0;case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:0;case 20:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})))).apply(this,arguments)}var C,R=function(e){return new URL(String(e),location.href).href.replace(new RegExp("^".concat(location.origin)),"")},D=function(e,t){return e.filter((function(e){return t in e}))},U=function(){var e=u(o().mark((function e(t){var n,r,i,u,a,c,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.request,r=t.mode,i=t.plugins,u=D(void 0===i?[]:i,"cacheKeyWillBeUsed"),a=n,c=f(u),e.prev=4,c.s();case 6:if((s=c.n()).done){e.next=15;break}return l=s.value,e.next=10,l.cacheKeyWillBeUsed.call(l,{mode:r,request:a});case 10:"string"===typeof(a=e.sent)&&(a=new Request(a));case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),c.e(e.t0);case 20:return e.prev=20,c.f(),e.finish(20);case 23:return e.abrupt("return",a);case 24:case"end":return e.stop()}}),e,null,[[4,17,20,23]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=u(o().mark((function e(t){var n,r,i,u,a,c,s,l,d,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.request,r=t.response,i=t.event,u=t.plugins,a=r,c=!1,s=f(void 0===u?[]:u),e.prev=4,s.s();case 6:if((l=s.n()).done){e.next=19;break}if(!("cacheWillUpdate"in(d=l.value))){e.next=17;break}return c=!0,h=d.cacheWillUpdate,e.next=13,h.call(d,{request:n,response:a,event:i});case 13:if(a=e.sent){e.next=17;break}return e.abrupt("break",19);case 17:e.next=6;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(4),s.e(e.t0);case 24:return e.prev=24,s.f(),e.finish(24);case 27:return c||(a=a&&200===a.status?a:void 0),e.abrupt("return",a||null);case 29:case"end":return e.stop()}}),e,null,[[4,21,24,27]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=u(o().mark((function e(t){var n,r,i,u,a,c,s,l,d,h,p,v,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cacheName,r=t.request,i=t.event,u=t.matchOptions,a=t.plugins,c=void 0===a?[]:a,e.next=3,self.caches.open(n);case 3:return s=e.sent,e.next=6,U({plugins:c,request:r,mode:"read"});case 6:return l=e.sent,e.next=9,s.match(l,u);case 9:d=e.sent,h=f(c),e.prev=12,h.s();case 14:if((p=h.n()).done){e.next=24;break}if(!("cachedResponseWillBeUsed"in(v=p.value))){e.next=22;break}return b=v.cachedResponseWillBeUsed,e.next=20,b.call(v,{cacheName:n,event:i,matchOptions:u,cachedResponse:d,request:l});case 20:d=e.sent;case 22:e.next=14;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(12),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:return e.abrupt("return",d);case 33:case"end":return e.stop()}}),e,null,[[12,26,29,32]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=u(o().mark((function e(t){var n,r,i,u,a,c,s,l,d,h,p,v,b,y,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.cacheName,r=t.request,i=t.response,u=t.event,a=t.plugins,c=void 0===a?[]:a,s=t.matchOptions,e.next=4;break;case 4:return e.next=6,U({plugins:c,request:r,mode:"write"});case 6:if(l=e.sent,i){e.next=10;break}throw new k("cache-put-with-no-response",{url:R(l.url)});case 10:return e.next=12,N({event:u,plugins:c,response:i,request:l});case 12:if(d=e.sent){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,self.caches.open(n);case 18:if(h=e.sent,!((p=D(c,"cacheDidUpdate")).length>0)){e.next=26;break}return e.next=23,L({cacheName:n,matchOptions:s,request:l});case 23:e.t0=e.sent,e.next=27;break;case 26:e.t0=null;case 27:return v=e.t0,e.prev=29,e.next=32,h.put(l,d);case 32:e.next=40;break;case 34:if(e.prev=34,e.t1=e.catch(29),"QuotaExceededError"!==e.t1.name){e.next=39;break}return e.next=39,P();case 39:throw e.t1;case 40:b=f(p),e.prev=41,b.s();case 43:if((y=b.n()).done){e.next=49;break}return m=y.value,e.next=47,m.cacheDidUpdate.call(m,{cacheName:n,event:u,oldResponse:v,newResponse:d,request:l});case 47:e.next=43;break;case 49:e.next=54;break;case 51:e.prev=51,e.t2=e.catch(41),b.e(e.t2);case 54:return e.prev=54,b.f(),e.finish(54);case 57:case"end":return e.stop()}}),e,null,[[29,34],[41,51,54,57]])})));return function(t){return e.apply(this,arguments)}}(),B={put:M,match:L};function K(){if(void 0===C){var e=new Response("");if("body"in e)try{new Response(e.body),C=!0}catch(t){C=!1}C=!1}return C}function F(e){e.then((function(){}))}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(f){s=!0,o=f}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(s)throw o}}return a}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.onupgradeneeded,u=o.onversionchange;p(this,e),this._db=null,this._name=t,this._version=n,this._onupgradeneeded=i,this._onversionchange=u||function(){return r.close()}}return h(e,[{key:"db",get:function(){return this._db}},{key:"open",value:function(){var e=u(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._db){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,new Promise((function(e,n){var r=!1;setTimeout((function(){r=!0,n(new Error("The open request was blocked and timed out"))}),t.OPEN_TIMEOUT);var o=indexedDB.open(t._name,t._version);o.onerror=function(){return n(o.error)},o.onupgradeneeded=function(e){r?(o.transaction.abort(),o.result.close()):"function"===typeof t._onupgradeneeded&&t._onupgradeneeded(e)},o.onsuccess=function(){var n=o.result;r?n.close():(n.onversionchange=t._onversionchange.bind(t),e(n))}}));case 4:return this._db=e.sent,e.abrupt("return",this);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getKey",value:function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllKeys(t,n,1);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=u(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllMatching(t,{query:n,count:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getAllKeys",value:function(){var e=u(o().mark((function e(t,n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllMatching(t,{query:n,count:r,includeKeys:!0});case 2:return i=e.sent,e.abrupt("return",i.map((function(e){return e.key})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getAllMatching",value:function(){var e=u(o().mark((function e(t){var n,r,i,u,a,c,s,f,l,d=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=d.length>1&&void 0!==d[1]?d[1]:{}).index,i=n.query,u=void 0===i?null:i,a=n.direction,c=void 0===a?"next":a,s=n.count,f=n.includeKeys,l=void 0!==f&&f,e.next=3,this.transaction([t],"readonly",(function(e,n){var o=e.objectStore(t),i=r?o.index(r):o,a=[],f=i.openCursor(u,c);f.onsuccess=function(){var e=f.result;e?(a.push(l?e:e.value),s&&a.length>=s?n(a):e.continue()):n(a)}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"transaction",value:function(){var e=u(o().mark((function e(t,n,r){var i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.open();case 2:return e.next=4,new Promise((function(e,o){var u=i._db.transaction(t,n);u.onabort=function(){return o(u.error)},u.oncomplete=function(){return e()},r(u,(function(t){return e(t)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_call",value:function(){var e=u(o().mark((function e(t,n,r){var i,u,a,c,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=s.length,u=new Array(i>3?i-3:0),a=3;a<i;a++)u[a-3]=s[a];return c=function(e,r){var o=e.objectStore(n),i=o[t].apply(o,u);i.onsuccess=function(){return r(i.result)}},e.next=4,this.transaction([n],r,c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"close",value:function(){this._db&&(this._db.close(),this._db=null)}}]),e}();W.prototype.OPEN_TIMEOUT=2e3;for(var Y=function(){var e,t=q(z[$],2),n=t[0],r=f(t[1]);try{var i=function(){var t=e.value;t in IDBObjectStore.prototype&&(W.prototype[t]=function(){var e=u(o().mark((function e(r){var i,u,a,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=c.length,u=new Array(i>1?i-1:0),a=1;a<i;a++)u[a-1]=c[a];return e.next=3,this._call.apply(this,[t,r,n].concat(u));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}())};for(r.s();!(e=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}},$=0,z=Object.entries({readonly:["get","count","getKey","getAll","getAllKeys"],readwrite:["add","put","clear","delete"]});$<z.length;$++)Y();var H=function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var r=indexedDB.deleteDatabase(t);r.onerror=function(){n(r.error)},r.onblocked=function(){n(new Error("Delete blocked"))},r.onsuccess=function(){e()}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=u(o().mark((function e(t){var n,r,i,u,a,c,s,l,d,h,p,v,b,y,m,g,w,_,x,O,j;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.request,r=t.fetchOptions,i=t.event,u=t.plugins,a=void 0===u?[]:u,"string"===typeof n&&(n=new Request(n)),!(i instanceof FetchEvent&&i.preloadResponse)){e.next=9;break}return e.next=5,i.preloadResponse;case 5:if(!(c=e.sent)){e.next=9;break}return e.abrupt("return",c);case 9:0,s=D(a,"fetchDidFail"),l=s.length>0?n.clone():null,e.prev=12,d=f(a),e.prev=14,d.s();case 16:if((h=d.n()).done){e.next=27;break}if(!("requestWillFetch"in(p=h.value))){e.next=25;break}return v=p.requestWillFetch,b=n.clone(),e.next=23,v.call(p,{request:b,event:i});case 23:n=e.sent;case 25:e.next=16;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(14),d.e(e.t0);case 32:return e.prev=32,d.f(),e.finish(32);case 35:e.next=40;break;case 37:throw e.prev=37,e.t1=e.catch(12),new k("plugin-error-request-will-fetch",{thrownError:e.t1});case 40:if(y=n.clone(),e.prev=41,"navigate"!==n.mode){e.next=48;break}return e.next=45,fetch(n);case 45:m=e.sent,e.next=51;break;case 48:return e.next=50,fetch(n,r);case 50:m=e.sent;case 51:0,g=f(a),e.prev=53,g.s();case 55:if((w=g.n()).done){e.next=64;break}if(!("fetchDidSucceed"in(_=w.value))){e.next=62;break}return e.next=60,_.fetchDidSucceed.call(_,{event:i,request:y,response:m});case 60:m=e.sent;case 62:e.next=55;break;case 64:e.next=69;break;case 66:e.prev=66,e.t2=e.catch(53),g.e(e.t2);case 69:return e.prev=69,g.f(),e.finish(69);case 72:return e.abrupt("return",m);case 75:e.prev=75,e.t3=e.catch(41),x=f(s),e.prev=79,x.s();case 81:if((O=x.n()).done){e.next=87;break}return j=O.value,e.next=85,j.fetchDidFail.call(j,{error:e.t3,event:i,originalRequest:l.clone(),request:y.clone()});case 85:e.next=81;break;case 87:e.next=92;break;case 89:e.prev=89,e.t4=e.catch(79),x.e(e.t4);case 92:return e.prev=92,x.f(),e.finish(92);case 95:throw e.t3;case 96:case"end":return e.stop()}}),e,null,[[12,37],[14,29,32,35],[41,75],[53,66,69,72],[79,89,92,95]])})));return function(t){return e.apply(this,arguments)}}(),G={fetch:V};function J(e,t){return Q.apply(this,arguments)}function Q(){return(Q=u(o().mark((function e(t,n){var r,i,u,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.clone(),i={headers:new Headers(r.headers),status:r.status,statusText:r.statusText},u=n?n(i):i,!K()){e.next=7;break}e.t0=r.body,e.next=10;break;case 7:return e.next=9,r.blob();case 9:e.t0=e.sent;case 10:return a=e.t0,e.abrupt("return",new Response(a,u));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(157);var X="cache-entries",Z=function(e){var t=new URL(e,location.href);return t.hash="",t.href},ee=function(){function e(t){var n=this;p(this,e),this._cacheName=t,this._db=new W("workbox-expiration",1,{onupgradeneeded:function(e){return n._handleUpgrade(e)}})}return h(e,[{key:"_handleUpgrade",value:function(e){var t=e.target.result.createObjectStore(X,{keyPath:"id"});t.createIndex("cacheName","cacheName",{unique:!1}),t.createIndex("timestamp","timestamp",{unique:!1}),H(this._cacheName)}},{key:"setTimestamp",value:function(){var e=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Z(t),r={url:t,timestamp:n,cacheName:this._cacheName,id:this._getId(t)},e.next=4,this._db.put(X,r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTimestamp",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._db.get(X,this._getId(t));case 2:return n=e.sent,e.abrupt("return",n.timestamp);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"expireEntries",value:function(){var e=u(o().mark((function e(t,n){var r,i,u,a,c,s=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._db.transaction(X,"readwrite",(function(e,r){var o=e.objectStore(X).index("timestamp").openCursor(null,"prev"),i=[],u=0;o.onsuccess=function(){var e=o.result;if(e){var a=e.value;a.cacheName===s._cacheName&&(t&&a.timestamp<t||n&&u>=n?i.push(e.value):u++),e.continue()}else r(i)}}));case 2:r=e.sent,i=[],u=f(r),e.prev=5,u.s();case 7:if((a=u.n()).done){e.next=14;break}return c=a.value,e.next=11,this._db.delete(X,c.id);case 11:i.push(c.url);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),u.e(e.t0);case 19:return e.prev=19,u.f(),e.finish(19);case 22:return e.abrupt("return",i);case 23:case"end":return e.stop()}}),e,this,[[5,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getId",value:function(e){return this._cacheName+"|"+Z(e)}}]),e}(),te=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(this,e),this._isRunning=!1,this._rerunRequested=!1,this._maxEntries=n.maxEntries,this._maxAgeSeconds=n.maxAgeSeconds,this._cacheName=t,this._timestampModel=new ee(t)}return h(e,[{key:"expireEntries",value:function(){var e=u(o().mark((function e(){var t,n,r,i,u,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isRunning){e.next=3;break}return this._rerunRequested=!0,e.abrupt("return");case 3:return this._isRunning=!0,t=this._maxAgeSeconds?Date.now()-1e3*this._maxAgeSeconds:0,e.next=7,this._timestampModel.expireEntries(t,this._maxEntries);case 7:return n=e.sent,e.next=10,self.caches.open(this._cacheName);case 10:r=e.sent,i=f(n),e.prev=12,i.s();case 14:if((u=i.n()).done){e.next=20;break}return a=u.value,e.next=18,r.delete(a);case 18:e.next=14;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(12),i.e(e.t0);case 25:return e.prev=25,i.f(),e.finish(25);case 28:0,this._isRunning=!1,this._rerunRequested&&(this._rerunRequested=!1,F(this.expireEntries()));case 31:case"end":return e.stop()}}),e,this,[[12,22,25,28]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateTimestamp",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this._timestampModel.setTimestamp(t,Date.now());case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isURLExpired",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._maxAgeSeconds){e.next=6;break}e.next=3;break;case 3:return e.abrupt("return",!1);case 6:return e.next=8,this._timestampModel.getTimestamp(t);case 8:return n=e.sent,r=Date.now()-1e3*this._maxAgeSeconds,e.abrupt("return",n<r);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._rerunRequested=!1,e.next=3,this._timestampModel.expireEntries(1/0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ne=function(){function e(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,e),this.cachedResponseWillBeUsed=function(){var e=u(o().mark((function e(t){var r,i,u,a,c,s,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.event,i=t.request,u=t.cacheName,a=t.cachedResponse){e.next=3;break}return e.abrupt("return",null);case 3:if(c=n._isResponseDateFresh(a),F((s=n._getCacheExpiration(u)).expireEntries()),f=s.updateTimestamp(i.url),r)try{r.waitUntil(f)}catch(o){0}return e.abrupt("return",c?a:null);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.cacheDidUpdate=function(){var e=u(o().mark((function e(t){var r,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.cacheName,i=t.request,u=n._getCacheExpiration(r),e.next=5,u.updateTimestamp(i.url);case 5:return e.next=7,u.expireEntries();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._config=r,this._maxAgeSeconds=r.maxAgeSeconds,this._cacheExpirations=new Map,r.purgeOnQuotaError&&(t=function(){return n.deleteCacheAndMetadata()},j.add(t))}return h(e,[{key:"_getCacheExpiration",value:function(e){if(e===I())throw new k("expire-custom-caches-only");var t=this._cacheExpirations.get(e);return t||(t=new te(e,this._config),this._cacheExpirations.set(e,t)),t}},{key:"_isResponseDateFresh",value:function(e){if(!this._maxAgeSeconds)return!0;var t=this._getDateHeaderTimestamp(e);return null===t||t>=Date.now()-1e3*this._maxAgeSeconds}},{key:"_getDateHeaderTimestamp",value:function(e){if(!e.headers.has("date"))return null;var t=e.headers.get("date"),n=new Date(t).getTime();return isNaN(n)?null:n}},{key:"deleteCacheAndMetadata",value:function(){var e=u(o().mark((function e(){var t,n,r,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=f(this._cacheExpirations),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=11;break}return r=q(n.value,2),i=r[0],u=r[1],e.next=7,self.caches.delete(i);case 7:return e.next=9,u.delete();case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:this._cacheExpirations=new Map;case 20:case"end":return e.stop()}}),e,this,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),re=(n(14),[]),oe=function(){return re};function ie(e){if(!e)throw new k("add-to-cache-list-unexpected-type",{entry:e});if("string"===typeof e){var t=new URL(e,location.href);return{cacheKey:t.href,url:t.href}}var n=e.revision,r=e.url;if(!r)throw new k("add-to-cache-list-unexpected-type",{entry:e});if(!n){var o=new URL(r,location.href);return{cacheKey:o.href,url:o.href}}var i=new URL(r,location.href),u=new URL(r,location.href);return i.searchParams.set("__WB_REVISION__",n),{cacheKey:i.href,url:u.href}}var ue,ae=function(){function e(t){p(this,e),this._cacheName=A(t),this._urlsToCacheKeys=new Map,this._urlsToCacheModes=new Map,this._cacheKeysToIntegrities=new Map}return h(e,[{key:"addToCacheList",value:function(e){var t,n=[],r=f(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;"string"===typeof o?n.push(o):o&&void 0===o.revision&&n.push(o.url);var i=ie(o),u=i.cacheKey,a=i.url,c="string"!==typeof o&&o.revision?"reload":"default";if(this._urlsToCacheKeys.has(a)&&this._urlsToCacheKeys.get(a)!==u)throw new k("add-to-cache-list-conflicting-entries",{firstEntry:this._urlsToCacheKeys.get(a),secondEntry:u});if("string"!==typeof o&&o.integrity){if(this._cacheKeysToIntegrities.has(u)&&this._cacheKeysToIntegrities.get(u)!==o.integrity)throw new k("add-to-cache-list-conflicting-integrities",{url:a});this._cacheKeysToIntegrities.set(u,o.integrity)}if(this._urlsToCacheKeys.set(a,u),this._urlsToCacheModes.set(a,c),n.length>0){var s="Workbox is precaching URLs without revision "+"info: ".concat(n.join(", "),"\nThis is generally NOT safe. ")+"Learn more at https://bit.ly/wb-precache";console.warn(s)}}}catch(l){r.e(l)}finally{r.f()}}},{key:"install",value:function(){var e=u(o().mark((function e(){var t,n,r,i,u,a,c,s,l,d,h,p,v,b,y,m=this,g=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=g.length>0&&void 0!==g[0]?g[0]:{}).event,r=t.plugins,i=[],u=[],e.next=6,self.caches.open(this._cacheName);case 6:return a=e.sent,e.next=9,a.keys();case 9:c=e.sent,s=new Set(c.map((function(e){return e.url}))),l=f(this._urlsToCacheKeys);try{for(l.s();!(d=l.n()).done;)h=q(d.value,2),p=h[0],v=h[1],s.has(v)?u.push(p):i.push({cacheKey:v,url:p})}catch(o){l.e(o)}finally{l.f()}return b=i.map((function(e){var t=e.cacheKey,o=e.url,i=m._cacheKeysToIntegrities.get(t),u=m._urlsToCacheModes.get(o);return m._addURLToCache({cacheKey:t,cacheMode:u,event:n,integrity:i,plugins:r,url:o})})),e.next=16,Promise.all(b);case 16:return y=i.map((function(e){return e.url})),e.abrupt("return",{updatedURLs:y,notUpdatedURLs:u});case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"activate",value:function(){var e=u(o().mark((function e(){var t,n,r,i,u,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,self.caches.open(this._cacheName);case 2:return t=e.sent,e.next=5,t.keys();case 5:n=e.sent,r=new Set(this._urlsToCacheKeys.values()),i=[],u=f(n),e.prev=9,u.s();case 11:if((a=u.n()).done){e.next=19;break}if(c=a.value,r.has(c.url)){e.next=17;break}return e.next=16,t.delete(c);case 16:i.push(c.url);case 17:e.next=11;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),u.e(e.t0);case 24:return e.prev=24,u.f(),e.finish(24);case 27:return e.abrupt("return",{deletedURLs:i});case 29:case"end":return e.stop()}}),e,this,[[9,21,24,27]])})));return function(){return e.apply(this,arguments)}}()},{key:"_addURLToCache",value:function(){var e=u(o().mark((function e(t){var n,r,i,u,a,c,s,l,d,h,p,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cacheKey,r=t.url,i=t.cacheMode,u=t.event,a=t.plugins,c=t.integrity,s=new Request(r,{integrity:c,cache:i,credentials:"same-origin"}),e.next=4,G.fetch({event:u,plugins:a,request:s});case 4:l=e.sent,h=f(a||[]);try{for(h.s();!(p=h.n()).done;)"cacheWillUpdate"in(v=p.value)&&(d=v)}catch(o){h.e(o)}finally{h.f()}if(!d){e.next=13;break}return e.next=10,d.cacheWillUpdate({event:u,request:s,response:l});case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0=l.status<400;case 14:if(e.t0){e.next=17;break}throw new k("bad-precaching-response",{url:r,status:l.status});case 17:if(!l.redirected){e.next=21;break}return e.next=20,J(l);case 20:l=e.sent;case 21:return e.next=23,B.put({event:u,plugins:a,response:l,request:n===r?s:new Request(n),cacheName:this._cacheName,matchOptions:{ignoreSearch:!0}});case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getURLsToCacheKeys",value:function(){return this._urlsToCacheKeys}},{key:"getCachedURLs",value:function(){return s(this._urlsToCacheKeys.keys())}},{key:"getCacheKeyForURL",value:function(e){var t=new URL(e,location.href);return this._urlsToCacheKeys.get(t.href)}},{key:"matchPrecache",value:function(){var e=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t instanceof Request?t.url:t,!(r=this.getCacheKeyForURL(n))){e.next=7;break}return e.next=5,self.caches.open(this._cacheName);case 5:return i=e.sent,e.abrupt("return",i.match(r));case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createHandler",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(){var n=u(o().mark((function n(r){var i,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.request,n.prev=1,n.next=4,e.matchPrecache(i);case 4:if(!(u=n.sent)){n.next=7;break}return n.abrupt("return",u);case 7:throw new k("missing-precache-entry",{cacheName:e._cacheName,url:i instanceof Request?i.url:i});case 10:if(n.prev=10,n.t0=n.catch(1),!t){n.next=15;break}return n.abrupt("return",fetch(i));case 15:throw n.t0;case 16:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()}},{key:"createHandlerBoundToURL",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.getCacheKeyForURL(e))throw new k("non-precached-url",{url:e});var n=this.createHandler(t),r=new Request(e);return function(){return n({request:r})}}}]),e}(),ce=function(){return ue||(ue=new ae),ue};function se(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=function(){var n=o[r];t.some((function(e){return e.test(n)}))&&e.searchParams.delete(n)},r=0,o=s(e.searchParams.keys());r<o.length;r++)n();return e}var fe=function(e,t){var n,r=ce().getURLsToCacheKeys(),i=f(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ignoreURLParametersMatching,r=t.directoryIndex,i=t.cleanURLs,u=t.urlManipulation;return o().mark((function t(){var a,c,s,l,d,h,p,v;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new URL(e,location.href)).hash="",t.next=4,a.href;case 4:return c=se(a,n),t.next=7,c.href;case 7:if(!r||!c.pathname.endsWith("/")){t.next=12;break}return(s=new URL(c.href)).pathname+=r,t.next=12,s.href;case 12:if(!i){t.next=17;break}return(l=new URL(c.href)).pathname+=".html",t.next=17,l.href;case 17:if(!u){t.next=36;break}d=u({url:a}),h=f(d),t.prev=20,h.s();case 22:if((p=h.n()).done){t.next=28;break}return v=p.value,t.next=26,v.href;case 26:t.next=22;break;case 28:t.next=33;break;case 30:t.prev=30,t.t0=t.catch(20),h.e(t.t0);case 33:return t.prev=33,h.f(),t.finish(33);case 36:case"end":return t.stop()}}),t,null,[[20,30,33,36]])}))()}(e,t));try{for(i.s();!(n=i.n()).done;){var u=n.value,a=r.get(u);if(a)return a}}catch(c){i.e(c)}finally{i.f()}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ignoreURLParametersMatching,n=void 0===t?[/^utm_/]:t,r=e.directoryIndex,o=void 0===r?"index.html":r,i=e.cleanURLs,u=void 0===i||i,a=e.urlManipulation,c=A();self.addEventListener("fetch",(function(e){var t=fe(e.request.url,{cleanURLs:u,directoryIndex:o,ignoreURLParametersMatching:n,urlManipulation:a});if(t){var r=self.caches.open(c).then((function(e){return e.match(t)})).then((function(e){return e||fetch(t)}));0,e.respondWith(r)}}))},de=!1;var he=function(e){var t=ce(),n=oe();e.waitUntil(t.install({event:e,plugins:n}).catch((function(e){throw e})))},pe=function(e){var t=ce();e.waitUntil(t.activate())};n(29);var ve,be=function(e){return e&&"object"===typeof e?e:{handle:e}},ye=h((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";p(this,e),this.handler=be(n),this.match=t,this.method=r})),me=function(e){b(n,e);var t=w(n);function n(e,r,o){p(this,n);return t.call(this,(function(t){var n=t.url,r=e.exec(n.href);if(r&&(n.origin===location.origin||0===r.index))return r.slice(1)}),r,o)}return h(n)}(ye),ge=function(){function e(){p(this,e),this._routes=new Map}return h(e,[{key:"routes",get:function(){return this._routes}},{key:"addFetchListener",value:function(){var e=this;self.addEventListener("fetch",(function(t){var n=t.request,r=e.handleRequest({request:n,event:t});r&&t.respondWith(r)}))}},{key:"addCacheListener",value:function(){var e=this;self.addEventListener("message",(function(t){if(t.data&&"CACHE_URLS"===t.data.type){var n=t.data.payload;0;var r=Promise.all(n.urlsToCache.map((function(t){"string"===typeof t&&(t=[t]);var n=_(Request,s(t));return e.handleRequest({request:n})})));t.waitUntil(r),t.ports&&t.ports[0]&&r.then((function(){return t.ports[0].postMessage(!0)}))}}))}},{key:"handleRequest",value:function(e){var t=this,n=e.request,r=e.event;var o=new URL(n.url,location.href);if(o.protocol.startsWith("http")){var i=this.findMatchingRoute({url:o,request:n,event:r}),u=i.params,a=i.route,c=a&&a.handler;if(!c&&this._defaultHandler&&(c=this._defaultHandler),c){var s;0;try{s=c.handle({url:o,request:n,event:r,params:u})}catch(f){s=Promise.reject(f)}return s instanceof Promise&&this._catchHandler&&(s=s.catch((function(e){return t._catchHandler.handle({url:o,request:n,event:r})}))),s}}}},{key:"findMatchingRoute",value:function(e){var t=e.url,n=e.request,r=e.event;var o,i=f(this._routes.get(n.method)||[]);try{for(i.s();!(o=i.n()).done;){var u=o.value,a=void 0,c=u.match({url:t,request:n,event:r});if(c)return a=c,(Array.isArray(c)&&0===c.length||c.constructor===Object&&0===Object.keys(c).length||"boolean"===typeof c)&&(a=void 0),{route:u,params:a}}}catch(s){i.e(s)}finally{i.f()}return{}}},{key:"setDefaultHandler",value:function(e){this._defaultHandler=be(e)}},{key:"setCatchHandler",value:function(e){this._catchHandler=be(e)}},{key:"registerRoute",value:function(e){this._routes.has(e.method)||this._routes.set(e.method,[]),this._routes.get(e.method).push(e)}},{key:"unregisterRoute",value:function(e){if(!this._routes.has(e.method))throw new k("unregister-route-but-not-found-with-method",{method:e.method});var t=this._routes.get(e.method).indexOf(e);if(!(t>-1))throw new k("unregister-route-route-not-registered");this._routes.get(e.method).splice(t,1)}}]),e}(),we=function(){return ve||((ve=new ge).addFetchListener(),ve.addCacheListener()),ve};function _e(e,t,n){var r;if("string"===typeof e){var o=new URL(e,location.href);r=new ye((function(e){return e.url.href===o.href}),t,n)}else if(e instanceof RegExp)r=new me(e,t,n);else if("function"===typeof e)r=new ye(e,t,n);else{if(!(e instanceof ye))throw new k("unsupported-route-type",{moduleName:"workbox-routing",funcName:"registerRoute",paramName:"capture"});r=e}return we().registerRoute(r),r}n(41);var xe,Oe={cacheWillUpdate:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==(n=t.response).status&&0!==n.status){e.next=3;break}return e.abrupt("return",n);case 3:return e.abrupt("return",null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ke=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(p(this,e),this._cacheName=I(t.cacheName),this._plugins=t.plugins||[],t.plugins){var n=t.plugins.some((function(e){return!!e.cacheWillUpdate}));this._plugins=n?t.plugins:[Oe].concat(s(t.plugins))}else this._plugins=[Oe];this._fetchOptions=t.fetchOptions,this._matchOptions=t.matchOptions}return h(e,[{key:"handle",value:function(){var e=u(o().mark((function e(t){var n,r,i,u,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.event,r=t.request,[],"string"===typeof r&&(r=new Request(r)),i=this._getFromNetwork({request:r,event:n}),e.next=7,B.match({cacheName:this._cacheName,request:r,event:n,matchOptions:this._matchOptions,plugins:this._plugins});case 7:if(!(u=e.sent)){e.next=13;break}if(n)try{n.waitUntil(i)}catch(a){0}e.next=23;break;case 13:return e.prev=14,e.next=17,i;case 17:u=e.sent,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(14),a=e.t0;case 23:if(u){e.next=26;break}throw new k("no-response",{url:r.url,error:a});case 26:return e.abrupt("return",u);case 27:case"end":return e.stop()}}),e,this,[[14,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_getFromNetwork",value:function(){var e=u(o().mark((function e(t){var n,r,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.request,r=t.event,e.next=3,G.fetch({request:n,event:r,fetchOptions:this._fetchOptions,plugins:this._plugins});case 3:if(i=e.sent,u=B.put({cacheName:this._cacheName,request:n,response:i.clone(),event:r,plugins:this._plugins}),r)try{r.waitUntil(u)}catch(o){0}return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();console.debug("Service worker build on",new Date(parseInt("1683555510000"))),self.addEventListener("activate",(function(){return self.clients.claim()})),function(e){ce().addToCacheList(e),e.length>0&&(self.addEventListener("install",he),self.addEventListener("activate",pe))}([{'revision':'56f9fded049d3e9f23acff4fbd222d49','url':'./index.html'},{'revision':null,'url':'./static/css/2.4c34b247.chunk.css'},{'revision':null,'url':'./static/css/main.48fa97a1.chunk.css'},{'revision':null,'url':'./static/js/2.8aa824d7.chunk.js'},{'revision':null,'url':'./static/js/3.5438eb70.chunk.js'},{'revision':null,'url':'./static/js/main.10b7ebc6.chunk.js'},{'revision':null,'url':'./static/js/runtime-main.83583c57.js'}]),function(e){de||(le(e),de=!0)}(xe);var je,Se=new RegExp("/[^/?]+\\.[^/]+$");_e((function(e){var t=e.request,n=e.url;return"navigate"===t.mode&&(!n.pathname.startsWith("/_")&&!n.pathname.match(Se))}),(je="./index.html",ce().createHandlerBoundToURL(je))),_e((function(e){var t=e.url;return t.origin===self.location.origin&&t.pathname.endsWith(".png")}),new ke({cacheName:"images",plugins:[new ne({maxEntries:50})]})),self.addEventListener("message",(function(e){e.data&&"SKIP_WAITING"===e.data.type&&self.skipWaiting()})),self.addEventListener("install",(function(){self.skipWaiting()})),self.addEventListener("activate",u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,self.clients.matchAll({type:"window"});case 2:e.sent.forEach((function(e){e.navigate(e.url)}));case 4:case"end":return e.stop()}}),e)}))))},function(e,t,n){"use strict";n.r(t),n.d(t,"Observable",(function(){return r.a})),n.d(t,"ConnectableObservable",(function(){return o.a})),n.d(t,"observable",(function(){return i.a})),n.d(t,"animationFrames",(function(){return f})),n.d(t,"Subject",(function(){return p.a})),n.d(t,"BehaviorSubject",(function(){return v.a})),n.d(t,"ReplaySubject",(function(){return b.a})),n.d(t,"AsyncSubject",(function(){return y.a})),n.d(t,"asap",(function(){return I})),n.d(t,"asapScheduler",(function(){return A})),n.d(t,"async",(function(){return P.a})),n.d(t,"asyncScheduler",(function(){return P.b})),n.d(t,"queue",(function(){return D})),n.d(t,"queueScheduler",(function(){return R})),n.d(t,"animationFrame",(function(){return M})),n.d(t,"animationFrameScheduler",(function(){return L})),n.d(t,"VirtualTimeScheduler",(function(){return B})),n.d(t,"VirtualAction",(function(){return K})),n.d(t,"Scheduler",(function(){return F.a})),n.d(t,"Subscription",(function(){return c.b})),n.d(t,"Subscriber",(function(){return q.b})),n.d(t,"Notification",(function(){return W.a})),n.d(t,"NotificationKind",(function(){return W.b})),n.d(t,"pipe",(function(){return Y.a})),n.d(t,"noop",(function(){return $.a})),n.d(t,"identity",(function(){return z.a})),n.d(t,"isObservable",(function(){return V})),n.d(t,"lastValueFrom",(function(){return J})),n.d(t,"firstValueFrom",(function(){return Q})),n.d(t,"ArgumentOutOfRangeError",(function(){return X.a})),n.d(t,"EmptyError",(function(){return G.a})),n.d(t,"NotFoundError",(function(){return Z.a})),n.d(t,"ObjectUnsubscribedError",(function(){return ee.a})),n.d(t,"SequenceError",(function(){return te.a})),n.d(t,"TimeoutError",(function(){return ne.a})),n.d(t,"UnsubscriptionError",(function(){return re.a})),n.d(t,"bindCallback",(function(){return se})),n.d(t,"bindNodeCallback",(function(){return fe})),n.d(t,"combineLatest",(function(){return le.a})),n.d(t,"concat",(function(){return de.a})),n.d(t,"connectable",(function(){return be})),n.d(t,"defer",(function(){return pe})),n.d(t,"empty",(function(){return ye.b})),n.d(t,"forkJoin",(function(){return xe})),n.d(t,"from",(function(){return Oe.a})),n.d(t,"fromEvent",(function(){return Ie})),n.d(t,"fromEventPattern",(function(){return Te})),n.d(t,"generate",(function(){return Re})),n.d(t,"iif",(function(){return De})),n.d(t,"interval",(function(){return Ue.a})),n.d(t,"merge",(function(){return Le})),n.d(t,"never",(function(){return Be})),n.d(t,"of",(function(){return Ke.a})),n.d(t,"onErrorResumeNext",(function(){return Fe.a})),n.d(t,"pairs",(function(){return qe})),n.d(t,"partition",(function(){return $e})),n.d(t,"race",(function(){return ze.a})),n.d(t,"range",(function(){return He})),n.d(t,"throwError",(function(){return Ve.a})),n.d(t,"timer",(function(){return Ge.a})),n.d(t,"using",(function(){return Je})),n.d(t,"zip",(function(){return Qe.a})),n.d(t,"scheduled",(function(){return Xe.a})),n.d(t,"EMPTY",(function(){return ye.a})),n.d(t,"NEVER",(function(){return Me})),n.d(t,"config",(function(){return Ze.a})),n.d(t,"audit",(function(){return et.a})),n.d(t,"auditTime",(function(){return tt.a})),n.d(t,"buffer",(function(){return nt.a})),n.d(t,"bufferCount",(function(){return rt.a})),n.d(t,"bufferTime",(function(){return ot.a})),n.d(t,"bufferToggle",(function(){return it.a})),n.d(t,"bufferWhen",(function(){return ut.a})),n.d(t,"catchError",(function(){return at.a})),n.d(t,"combineAll",(function(){return ct.a})),n.d(t,"combineLatestAll",(function(){return st.a})),n.d(t,"combineLatestWith",(function(){return ft.a})),n.d(t,"concatAll",(function(){return lt.a})),n.d(t,"concatMap",(function(){return dt.a})),n.d(t,"concatMapTo",(function(){return ht.a})),n.d(t,"concatWith",(function(){return pt.a})),n.d(t,"connect",(function(){return vt.a})),n.d(t,"count",(function(){return bt.a})),n.d(t,"debounce",(function(){return yt.a})),n.d(t,"debounceTime",(function(){return mt.a})),n.d(t,"defaultIfEmpty",(function(){return gt.a})),n.d(t,"delay",(function(){return wt.a})),n.d(t,"delayWhen",(function(){return _t.a})),n.d(t,"dematerialize",(function(){return xt.a})),n.d(t,"distinct",(function(){return Ot.a})),n.d(t,"distinctUntilChanged",(function(){return kt.a})),n.d(t,"distinctUntilKeyChanged",(function(){return jt.a})),n.d(t,"elementAt",(function(){return St.a})),n.d(t,"endWith",(function(){return Et.a})),n.d(t,"every",(function(){return At.a})),n.d(t,"exhaust",(function(){return It.a})),n.d(t,"exhaustAll",(function(){return Pt.a})),n.d(t,"exhaustMap",(function(){return Tt.a})),n.d(t,"expand",(function(){return Ct.a})),n.d(t,"filter",(function(){return Ye.a})),n.d(t,"finalize",(function(){return Rt.a})),n.d(t,"find",(function(){return Dt.b})),n.d(t,"findIndex",(function(){return Ut.a})),n.d(t,"first",(function(){return Nt.a})),n.d(t,"groupBy",(function(){return Lt.a})),n.d(t,"ignoreElements",(function(){return Mt.a})),n.d(t,"isEmpty",(function(){return Bt.a})),n.d(t,"last",(function(){return Kt.a})),n.d(t,"map",(function(){return Ft.a})),n.d(t,"mapTo",(function(){return qt.a})),n.d(t,"materialize",(function(){return Wt.a})),n.d(t,"max",(function(){return Yt.a})),n.d(t,"mergeAll",(function(){return Ne.a})),n.d(t,"flatMap",(function(){return $t.a})),n.d(t,"mergeMap",(function(){return ke.a})),n.d(t,"mergeMapTo",(function(){return zt.a})),n.d(t,"mergeScan",(function(){return Ht.a})),n.d(t,"mergeWith",(function(){return Vt.a})),n.d(t,"min",(function(){return Gt.a})),n.d(t,"multicast",(function(){return Jt.a})),n.d(t,"observeOn",(function(){return ae.a})),n.d(t,"onErrorResumeNextWith",(function(){return Qt.b})),n.d(t,"pairwise",(function(){return Xt.a})),n.d(t,"pluck",(function(){return Zt.a})),n.d(t,"publish",(function(){return en.a})),n.d(t,"publishBehavior",(function(){return tn.a})),n.d(t,"publishLast",(function(){return nn.a})),n.d(t,"publishReplay",(function(){return rn.a})),n.d(t,"raceWith",(function(){return on.a})),n.d(t,"reduce",(function(){return un.a})),n.d(t,"repeat",(function(){return an.a})),n.d(t,"repeatWhen",(function(){return cn.a})),n.d(t,"retry",(function(){return sn.a})),n.d(t,"retryWhen",(function(){return fn.a})),n.d(t,"refCount",(function(){return ln.a})),n.d(t,"sample",(function(){return dn.a})),n.d(t,"sampleTime",(function(){return hn.a})),n.d(t,"scan",(function(){return pn.a})),n.d(t,"sequenceEqual",(function(){return vn.a})),n.d(t,"share",(function(){return bn.a})),n.d(t,"shareReplay",(function(){return yn.a})),n.d(t,"single",(function(){return mn.a})),n.d(t,"skip",(function(){return gn.a})),n.d(t,"skipLast",(function(){return wn.a})),n.d(t,"skipUntil",(function(){return _n.a})),n.d(t,"skipWhile",(function(){return xn.a})),n.d(t,"startWith",(function(){return On.a})),n.d(t,"subscribeOn",(function(){return ie.a})),n.d(t,"switchAll",(function(){return kn.a})),n.d(t,"switchMap",(function(){return jn.a})),n.d(t,"switchMapTo",(function(){return Sn.a})),n.d(t,"switchScan",(function(){return En.a})),n.d(t,"take",(function(){return An.a})),n.d(t,"takeLast",(function(){return In.a})),n.d(t,"takeUntil",(function(){return Pn.a})),n.d(t,"takeWhile",(function(){return Tn.a})),n.d(t,"tap",(function(){return Cn.a})),n.d(t,"throttle",(function(){return Rn.b})),n.d(t,"throttleTime",(function(){return Dn.a})),n.d(t,"throwIfEmpty",(function(){return Un.a})),n.d(t,"timeInterval",(function(){return Nn.a})),n.d(t,"timeout",(function(){return ne.b})),n.d(t,"timeoutWith",(function(){return Ln.a})),n.d(t,"timestamp",(function(){return Mn.a})),n.d(t,"toArray",(function(){return Bn.a})),n.d(t,"window",(function(){return Kn.a})),n.d(t,"windowCount",(function(){return Fn.a})),n.d(t,"windowTime",(function(){return qn.a})),n.d(t,"windowToggle",(function(){return Wn.a})),n.d(t,"windowWhen",(function(){return Yn.a})),n.d(t,"withLatestFrom",(function(){return $n.a})),n.d(t,"zipAll",(function(){return zn.a})),n.d(t,"zipWith",(function(){return Hn.a}));var r=n(5),o=n(48),i=n(46),u={now:function(){return(u.delegate||performance).now()},delegate:void 0},a=n(0),c=n(11),s={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,r=s.delegate;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);var o=t((function(t){n=void 0,e(t)}));return new c.b((function(){return null===n||void 0===n?void 0:n(o)}))},requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=s.delegate;return((null===n||void 0===n?void 0:n.requestAnimationFrame)||requestAnimationFrame).apply(void 0,Object(a.h)([],Object(a.g)(e)))})),cancelAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=s.delegate;return((null===n||void 0===n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Object(a.h)([],Object(a.g)(e)))})),delegate:void 0};function f(e){return e?l(e):h}function l(e){return new r.a((function(t){var n=e||u,r=n.now(),o=0;return function i(){t.closed||(o=s.requestAnimationFrame((function(u){o=0;var a=n.now();t.next({timestamp:e?a:u,elapsed:a-r}),i()})))}(),function(){o&&s.cancelAnimationFrame(o)}}))}var d,h=l(),p=n(8),v=n(159),b=n(69),y=n(70),m=n(38),g=1,w={};function _(e){return e in w&&(delete w[e],!0)}var x=function(e){var t=g++;return w[t]=!0,d||(d=Promise.resolve()),d.then((function(){return _(t)&&e()})),t},O=function(e){_(e)},k={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=k.delegate;return((null===n||void 0===n?void 0:n.setImmediate)||x).apply(void 0,Object(a.h)([],Object(a.g)(e)))},clearImmediate:function(e){var t=k.delegate;return((null===t||void 0===t?void 0:t.clearImmediate)||O)(e)},delegate:void 0},j=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Object(a.e)(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=k.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,n,r){var o;if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);var i=t.actions;null!=n&&(null===(o=i[i.length-1])||void 0===o?void 0:o.id)!==n&&(k.clearImmediate(n),t._scheduled=void 0)},t}(m.a),S=n(37),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.e)(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}},t}(S.a),A=new E(j),I=A,P=n(12),T=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Object(a.e)(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.flush(this),0)},t}(m.a),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.e)(t,e),t}(S.a),R=new C(T),D=R,U=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Object(a.e)(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=s.requestAnimationFrame((function(){return t.flush(void 0)}))))},t.prototype.recycleAsyncId=function(t,n,r){var o;if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);var i=t.actions;null!=n&&(null===(o=i[i.length-1])||void 0===o?void 0:o.id)!==n&&(s.cancelAnimationFrame(n),t._scheduled=void 0)},t}(m.a),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.e)(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}},t}(S.a),L=new N(U),M=L,B=function(e){function t(t,n){void 0===t&&(t=K),void 0===n&&(n=1/0);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return Object(a.e)(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(S.a),K=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=r,o.active=!0,o.index=t.index=r,o}return Object(a.e)(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),Number.isFinite(r)){if(!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)}return c.b.EMPTY},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var o=e.actions;return o.push(this),o.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(m.a),F=n(79),q=n(27),W=n(39),Y=n(47),$=n(6),z=n(7),H=n(4);function V(e){return!!e&&(e instanceof r.a||Object(H.a)(e.lift)&&Object(H.a)(e.subscribe))}var G=n(21);function J(e,t){var n="object"===typeof t;return new Promise((function(r,o){var i,u=!1;e.subscribe({next:function(e){i=e,u=!0},error:o,complete:function(){u?r(i):n?r(t.defaultValue):o(new G.a)}})}))}function Q(e,t){var n="object"===typeof t;return new Promise((function(r,o){var i=new q.a({next:function(e){r(e),i.unsubscribe()},error:o,complete:function(){n?r(t.defaultValue):o(new G.a)}});e.subscribe(i)}))}var X=n(80),Z=n(161),ee=n(158),te=n(162),ne=n(42),re=n(74),oe=n(49),ie=n(32),ue=n(24),ae=n(33);function ce(e,t,n,o){if(n){if(!Object(oe.a)(n))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return ce(e,t,o).apply(this,r).pipe(Object(ue.a)(n))};o=n}return o?function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return ce(e,t).apply(this,n).pipe(Object(ie.a)(o),Object(ae.a)(o))}:function(){for(var n=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var u=new y.a,c=!0;return new r.a((function(r){var i=u.subscribe(r);if(c){c=!1;var s=!1,f=!1;t.apply(n,Object(a.h)(Object(a.h)([],Object(a.g)(o)),[function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e){var r=t.shift();if(null!=r)return void u.error(r)}u.next(1<t.length?t:t[0]),f=!0,s&&u.complete()}])),f&&u.complete(),s=!0}return i}))}}function se(e,t,n){return ce(!1,e,t,n)}function fe(e,t,n){return ce(!0,e,t,n)}var le=n(72),de=n(40),he=n(3);function pe(e){return new r.a((function(t){Object(he.a)(e()).subscribe(t)}))}var ve={connector:function(){return new p.a},resetOnDisconnect:!0};function be(e,t){void 0===t&&(t=ve);var n=null,o=t.connector,i=t.resetOnDisconnect,u=void 0===i||i,a=o(),c=new r.a((function(e){return a.subscribe(e)}));return c.connect=function(){return n&&!n.closed||(n=pe((function(){return e})).subscribe(a),u&&n.add((function(){return a=o()}))),n},c}var ye=n(15),me=n(180),ge=n(10),we=n(1),_e=n(181);function xe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(ge.b)(e),o=Object(me.a)(e),i=o.args,u=o.keys,a=new r.a((function(e){var t=i.length;if(t)for(var n=new Array(t),r=t,o=t,a=function(t){var a=!1;Object(he.a)(i[t]).subscribe(Object(we.b)(e,(function(e){a||(a=!0,o--),n[t]=e}),(function(){return r--}),void 0,(function(){r&&a||(o||e.next(u?Object(_e.a)(u,n):n),e.complete())})))},c=0;c<t;c++)a(c);else e.complete()}));return n?a.pipe(Object(ue.a)(n)):a}var Oe=n(18),ke=n(16),je=n(76),Se=["addListener","removeListener"],Ee=["addEventListener","removeEventListener"],Ae=["on","off"];function Ie(e,t,n,o){if(Object(H.a)(n)&&(o=n,n=void 0),o)return Ie(e,t,n).pipe(Object(ue.a)(o));var i=Object(a.g)(function(e){return Object(H.a)(e.addEventListener)&&Object(H.a)(e.removeEventListener)}(e)?Ee.map((function(r){return function(o){return e[r](t,o,n)}})):function(e){return Object(H.a)(e.addListener)&&Object(H.a)(e.removeListener)}(e)?Se.map(Pe(e,t)):function(e){return Object(H.a)(e.on)&&Object(H.a)(e.off)}(e)?Ae.map(Pe(e,t)):[],2),u=i[0],c=i[1];if(!u&&Object(je.a)(e))return Object(ke.a)((function(e){return Ie(e,t,n)}))(Object(he.a)(e));if(!u)throw new TypeError("Invalid event target");return new r.a((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return u(t),function(){return c(t)}}))}function Pe(e,t){return function(n){return function(r){return e[n](t,r)}}}function Te(e,t,n){return n?Te(e,t).pipe(Object(ue.a)(n)):new r.a((function(n){var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)},o=e(r);return Object(H.a)(t)?function(){return t(r,o)}:void 0}))}var Ce=n(179);function Re(e,t,n,r,o){var i,u,c,s;function f(){var e;return Object(a.f)(this,(function(r){switch(r.label){case 0:e=s,r.label=1;case 1:return t&&!t(e)?[3,4]:[4,c(e)];case 2:r.sent(),r.label=3;case 3:return e=n(e),[3,1];case 4:return[2]}}))}return 1===arguments.length?(s=(i=e).initialState,t=i.condition,n=i.iterate,u=i.resultSelector,c=void 0===u?z.a:u,o=i.scheduler):(s=e,!r||Object(oe.a)(r)?(c=z.a,o=r):c=r),pe(o?function(){return Object(Ce.a)(f(),o)}:f)}function De(e,t,n){return pe((function(){return e()?t:n}))}var Ue=n(163),Ne=n(34);function Le(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(ge.c)(e),r=Object(ge.a)(e,1/0),o=e;return o.length?1===o.length?Object(he.a)(o[0]):Object(Ne.a)(r)(Object(Oe.a)(o,n)):ye.a}var Me=new r.a($.a);function Be(){return Me}var Ke=n(71),Fe=n(164);function qe(e,t){return Object(Oe.a)(Object.entries(e),t)}var We=n(182),Ye=n(17);function $e(e,t,n){return[Object(Ye.a)(t,n)(Object(he.a)(e)),Object(Ye.a)(Object(We.a)(t,n))(Object(he.a)(e))]}var ze=n(165);function He(e,t,n){if(null==t&&(t=e,e=0),t<=0)return ye.a;var o=t+e;return new r.a(n?function(t){var r=e;return n.schedule((function(){r<o?(t.next(r++),this.schedule()):t.complete()}))}:function(t){for(var n=e;n<o&&!t.closed;)t.next(n++);t.complete()})}var Ve=n(160),Ge=n(22);function Je(e,t){return new r.a((function(n){var r=e(),o=t(r);return(o?Object(he.a)(o):ye.a).subscribe(n),function(){r&&r.unsubscribe()}}))}var Qe=n(73),Xe=n(170),Ze=n(26),et=n(55),tt=n(82),nt=n(83),rt=n(84),ot=n(85),it=n(86),ut=n(87),at=n(88),ct=n(89),st=n(56),ft=n(90),lt=n(43),dt=n(51),ht=n(91),pt=n(92),vt=n(45),bt=n(93),yt=n(94),mt=n(95),gt=n(35),wt=n(96),_t=n(58),xt=n(97),Ot=n(98),kt=n(61),jt=n(99),St=n(100),Et=n(101),At=n(102),It=n(103),Pt=n(62),Tt=n(63),Ct=n(104),Rt=n(105),Dt=n(64),Ut=n(106),Nt=n(107),Lt=n(108),Mt=n(59),Bt=n(109),Kt=n(110),Ft=n(20),qt=n(60),Wt=n(111),Yt=n(112),$t=n(113),zt=n(114),Ht=n(115),Vt=n(116),Gt=n(117),Jt=n(44),Qt=n(118),Xt=n(119),Zt=n(120),en=n(121),tn=n(122),nn=n(123),rn=n(124),on=n(66),un=n(28),an=n(125),cn=n(126),sn=n(127),fn=n(128),ln=n(54),dn=n(67),hn=n(129),pn=n(130),vn=n(131),bn=n(68),yn=n(132),mn=n(133),gn=n(134),wn=n(135),_n=n(136),xn=n(137),On=n(138),kn=n(139),jn=n(31),Sn=n(140),En=n(141),An=n(30),In=n(65),Pn=n(142),Tn=n(143),Cn=n(144),Rn=n(52),Dn=n(145),Un=n(36),Nn=n(146),Ln=n(147),Mn=n(148),Bn=n(57),Kn=n(149),Fn=n(150),qn=n(151),Wn=n(152),Yn=n(153),$n=n(154),zn=n(155),Hn=n(156)},function(e,t,n){"use strict";n.r(t),n.d(t,"audit",(function(){return r.a})),n.d(t,"auditTime",(function(){return o.a})),n.d(t,"buffer",(function(){return i.a})),n.d(t,"bufferCount",(function(){return u.a})),n.d(t,"bufferTime",(function(){return a.a})),n.d(t,"bufferToggle",(function(){return c.a})),n.d(t,"bufferWhen",(function(){return s.a})),n.d(t,"catchError",(function(){return f.a})),n.d(t,"combineAll",(function(){return l.a})),n.d(t,"combineLatestAll",(function(){return d.a})),n.d(t,"combineLatest",(function(){return h.a})),n.d(t,"combineLatestWith",(function(){return p.a})),n.d(t,"concat",(function(){return v.a})),n.d(t,"concatAll",(function(){return b.a})),n.d(t,"concatMap",(function(){return y.a})),n.d(t,"concatMapTo",(function(){return m.a})),n.d(t,"concatWith",(function(){return g.a})),n.d(t,"connect",(function(){return w.a})),n.d(t,"count",(function(){return _.a})),n.d(t,"debounce",(function(){return x.a})),n.d(t,"debounceTime",(function(){return O.a})),n.d(t,"defaultIfEmpty",(function(){return k.a})),n.d(t,"delay",(function(){return j.a})),n.d(t,"delayWhen",(function(){return S.a})),n.d(t,"dematerialize",(function(){return E.a})),n.d(t,"distinct",(function(){return A.a})),n.d(t,"distinctUntilChanged",(function(){return I.a})),n.d(t,"distinctUntilKeyChanged",(function(){return P.a})),n.d(t,"elementAt",(function(){return T.a})),n.d(t,"endWith",(function(){return C.a})),n.d(t,"every",(function(){return R.a})),n.d(t,"exhaust",(function(){return D.a})),n.d(t,"exhaustAll",(function(){return U.a})),n.d(t,"exhaustMap",(function(){return N.a})),n.d(t,"expand",(function(){return L.a})),n.d(t,"filter",(function(){return M.a})),n.d(t,"finalize",(function(){return B.a})),n.d(t,"find",(function(){return K.b})),n.d(t,"findIndex",(function(){return F.a})),n.d(t,"first",(function(){return q.a})),n.d(t,"groupBy",(function(){return W.a})),n.d(t,"ignoreElements",(function(){return Y.a})),n.d(t,"isEmpty",(function(){return $.a})),n.d(t,"last",(function(){return z.a})),n.d(t,"map",(function(){return H.a})),n.d(t,"mapTo",(function(){return V.a})),n.d(t,"materialize",(function(){return G.a})),n.d(t,"max",(function(){return J.a})),n.d(t,"merge",(function(){return Q.a})),n.d(t,"mergeAll",(function(){return X.a})),n.d(t,"flatMap",(function(){return Z.a})),n.d(t,"mergeMap",(function(){return ee.a})),n.d(t,"mergeMapTo",(function(){return te.a})),n.d(t,"mergeScan",(function(){return ne.a})),n.d(t,"mergeWith",(function(){return re.a})),n.d(t,"min",(function(){return oe.a})),n.d(t,"multicast",(function(){return ie.a})),n.d(t,"observeOn",(function(){return ue.a})),n.d(t,"onErrorResumeNext",(function(){return ae.a})),n.d(t,"pairwise",(function(){return ce.a})),n.d(t,"partition",(function(){return fe})),n.d(t,"pluck",(function(){return le.a})),n.d(t,"publish",(function(){return de.a})),n.d(t,"publishBehavior",(function(){return he.a})),n.d(t,"publishLast",(function(){return pe.a})),n.d(t,"publishReplay",(function(){return ve.a})),n.d(t,"race",(function(){return ge})),n.d(t,"raceWith",(function(){return me.a})),n.d(t,"reduce",(function(){return we.a})),n.d(t,"repeat",(function(){return _e.a})),n.d(t,"repeatWhen",(function(){return xe.a})),n.d(t,"retry",(function(){return Oe.a})),n.d(t,"retryWhen",(function(){return ke.a})),n.d(t,"refCount",(function(){return je.a})),n.d(t,"sample",(function(){return Se.a})),n.d(t,"sampleTime",(function(){return Ee.a})),n.d(t,"scan",(function(){return Ae.a})),n.d(t,"sequenceEqual",(function(){return Ie.a})),n.d(t,"share",(function(){return Pe.a})),n.d(t,"shareReplay",(function(){return Te.a})),n.d(t,"single",(function(){return Ce.a})),n.d(t,"skip",(function(){return Re.a})),n.d(t,"skipLast",(function(){return De.a})),n.d(t,"skipUntil",(function(){return Ue.a})),n.d(t,"skipWhile",(function(){return Ne.a})),n.d(t,"startWith",(function(){return Le.a})),n.d(t,"subscribeOn",(function(){return Me.a})),n.d(t,"switchAll",(function(){return Be.a})),n.d(t,"switchMap",(function(){return Ke.a})),n.d(t,"switchMapTo",(function(){return Fe.a})),n.d(t,"switchScan",(function(){return qe.a})),n.d(t,"take",(function(){return We.a})),n.d(t,"takeLast",(function(){return Ye.a})),n.d(t,"takeUntil",(function(){return $e.a})),n.d(t,"takeWhile",(function(){return ze.a})),n.d(t,"tap",(function(){return He.a})),n.d(t,"throttle",(function(){return Ve.b})),n.d(t,"throttleTime",(function(){return Ge.a})),n.d(t,"throwIfEmpty",(function(){return Je.a})),n.d(t,"timeInterval",(function(){return Qe.a})),n.d(t,"timeout",(function(){return Xe.b})),n.d(t,"timeoutWith",(function(){return Ze.a})),n.d(t,"timestamp",(function(){return et.a})),n.d(t,"toArray",(function(){return tt.a})),n.d(t,"window",(function(){return nt.a})),n.d(t,"windowCount",(function(){return rt.a})),n.d(t,"windowTime",(function(){return ot.a})),n.d(t,"windowToggle",(function(){return it.a})),n.d(t,"windowWhen",(function(){return ut.a})),n.d(t,"withLatestFrom",(function(){return at.a})),n.d(t,"zip",(function(){return ct.a})),n.d(t,"zipAll",(function(){return st.a})),n.d(t,"zipWith",(function(){return ft.a}));var r=n(55),o=n(82),i=n(83),u=n(84),a=n(85),c=n(86),s=n(87),f=n(88),l=n(89),d=n(56),h=n(166),p=n(90),v=n(167),b=n(43),y=n(51),m=n(91),g=n(92),w=n(45),_=n(93),x=n(94),O=n(95),k=n(35),j=n(96),S=n(58),E=n(97),A=n(98),I=n(61),P=n(99),T=n(100),C=n(101),R=n(102),D=n(103),U=n(62),N=n(63),L=n(104),M=n(17),B=n(105),K=n(64),F=n(106),q=n(107),W=n(108),Y=n(59),$=n(109),z=n(110),H=n(20),V=n(60),G=n(111),J=n(112),Q=n(168),X=n(34),Z=n(113),ee=n(16),te=n(114),ne=n(115),re=n(116),oe=n(117),ie=n(44),ue=n(33),ae=n(118),ce=n(119),se=n(182);function fe(e,t){return function(n){return[Object(M.a)(e,t)(n),Object(M.a)(Object(se.a)(e,t))(n)]}}var le=n(120),de=n(121),he=n(122),pe=n(123),ve=n(124),be=n(0),ye=n(25),me=n(66);function ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return me.a.apply(void 0,Object(be.h)([],Object(be.g)(Object(ye.a)(e))))}var we=n(28),_e=n(125),xe=n(126),Oe=n(127),ke=n(128),je=n(54),Se=n(67),Ee=n(129),Ae=n(130),Ie=n(131),Pe=n(68),Te=n(132),Ce=n(133),Re=n(134),De=n(135),Ue=n(136),Ne=n(137),Le=n(138),Me=n(32),Be=n(139),Ke=n(31),Fe=n(140),qe=n(141),We=n(30),Ye=n(65),$e=n(142),ze=n(143),He=n(144),Ve=n(52),Ge=n(145),Je=n(36),Qe=n(146),Xe=n(42),Ze=n(147),et=n(148),tt=n(57),nt=n(149),rt=n(150),ot=n(151),it=n(152),ut=n(153),at=n(154),ct=n(169),st=n(155),ft=n(156)}]);
//# sourceMappingURL=service-worker.js.map