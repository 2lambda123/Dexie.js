{"version":3,"sources":["models/populate.ts","db/db.ts","components/TodoItemView.tsx","components/AddTodoItem.tsx","components/TodoListView.tsx","components/TodoLists.tsx","components/AddTodoList.tsx","components/ResetDatabaseButton.tsx","components/icons/IconConnecting.tsx","components/icons/IconError.tsx","components/icons/IconOffline.tsx","components/icons/IconOnline.tsx","components/icons/IconSleepyCloud.tsx","components/navbar/SvgIcon.tsx","components/navbar/SyncStatusIcon.tsx","helpers/handleError.ts","components/navbar/NavBar.tsx","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","helpers/simplify-debugging.ts","index.tsx"],"names":["a","db","addons","dexieCloud","todoLists","todoItems","version","stores","cloud","configure","databaseUrl","process","tryUseServiceWorker","requireAuth","todoListId","this","transaction","where","delete","Dexie","resetDatabase","window","location","reload","on","TodoItemView","item","className","done","type","checked","onChange","ev","update","target","title","onClick","id","icon","faTrash","AddTodoItem","todoList","useState","setItem","disabled","placeholder","value","onKeyUp","key","add","TodoListView","items","useLiveQuery","toArray","deleteList","faTrashAlt","map","TodoLists","lists","list","AddTodoList","isActive","setIsActive","setTitle","hasAnyList","count","listCount","autoFocus","faList","ResetDatabaseButton","faDatabase","IconConnecting","xmlns","xmlnsXlink","x","y","viewBox","xmlSpace","d","transform","opacity","xlinkHref","attributeName","dur","begin","calcMode","from","to","repeatDur","IconError","style","shapeRendering","textRendering","imageRendering","fillRule","clipRule","IconOffline","data-name","width","height","IconOnline","IconSleepyCloud","points","SvgIcon","children","SyncStatusIcon","syncStatus","useObservable","syncState","status","error","phase","handleError","fn","catch","name","console","debug","NavBar","currentUser","Navbar","fixed","sticky","collapseOnSelect","expand","bg","variant","Brand","Toggle","aria-controls","Text","Collapse","isLoggedIn","NavDropdown","Item","Header","Object","keys","importData","demoUsers","email","NavLink","login","grant_type","Divider","Button","App","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","log","onUpdate","onSuccess","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","URL","href","origin","addEventListener","fetch","headers","response","contentType","get","indexOf","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.24dd3980.chunk.js","sourcesContent":["//import { db } from \"./db\";\n\nexport async function populate() {\n  /*const todoListId = await db.todoLists.add({\n    title: \"To Do Today\"\n  });\n  await db.todoItems.bulkAdd([\n    {\n      todoListId,\n      title: \"Feed the birds\"\n    },\n    {\n      todoListId,\n      title: \"Watch a movie\"\n    },\n    {\n      todoListId,\n      title: \"Have some sleep\"\n    }\n  ]);*/\n}\n","import Dexie from 'dexie';\nimport dexieCloud, { DexieCloudTable } from 'dexie-cloud-addon';\nimport { populate } from '../models/populate';\nimport { TodoItem } from '../models/TodoItem';\nimport { TodoList } from '../models/TodoList';\n\nexport class TodoDB extends Dexie {\n  todoLists!: DexieCloudTable<TodoList>;\n  todoItems!: DexieCloudTable<TodoItem>;\n\n  constructor() {\n    super('TodoDBCloud', { addons: [dexieCloud] });\n    this.version(1).stores({\n      todoLists: '@id',\n      todoItems: '@id, todoListId',\n    });\n    // Connect to cloud\n    this.cloud.configure({\n      databaseUrl: process.env.REACT_APP_DBURL!,\n      tryUseServiceWorker: true, // true!\n      requireAuth: false,\n    });\n  }\n\n  deleteList(todoListId: string) {\n    return this.transaction('rw', this.todoItems, this.todoLists, () => {\n      this.todoItems.where({ todoListId }).delete();\n      this.todoLists.delete(todoListId);\n    });\n  }\n}\n\nexport const db = new TodoDB();\n\ndb.on('populate', populate);\n\nexport async function resetDatabase() {\n  await db.delete();\n  window.location.reload();\n  /*return db.transaction('rw', db.todoLists, db.todoItems, async () => {\n    await db.todoItems\n      .filter((tdi) => !tdi.realmId || tdi.realmId === db.cloud.currentUserId)\n      .delete();\n    await db.todoLists\n      .filter((tdl) => !tdl.realmId || tdl.realmId === db.cloud.currentUserId)\n      .delete();\n    await populate();\n  });*/\n}\n","import React from \"react\";\nimport { db } from \"../db\";\nimport { TodoItem } from \"../models/TodoItem\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTrash } from \"@fortawesome/free-solid-svg-icons\";\n\ninterface Props {\n  item: TodoItem;\n}\n\nexport function TodoItemView({ item }: Props) {\n  return (\n    <div className={\"row \" + (item.done ? \"done\" : \"\")}>\n      <div className=\"narrow\">\n        <input\n          type=\"checkbox\"\n          checked={!!item.done}\n          onChange={ev =>\n            db.todoItems.update(item, {\n              done: ev.target.checked\n            })\n          }\n        />\n      </div>\n      <div className=\"todo-item-text\">{item.title}</div>\n      <div className=\"todo-item-trash\">\n        <button onClick={() => db.todoItems.delete(item.id!)} title=\"Delete item\">\n          <FontAwesomeIcon icon={faTrash} />\n        </button>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { db } from \"../db\";\nimport { TodoItem } from \"../models/TodoItem\";\nimport { TodoList } from \"../models/TodoList\";\n\ninterface Props {\n  todoList: TodoList;\n}\n\nexport function AddTodoItem({ todoList }: Props) {\n  const [item, setItem] = useState({\n    todoListId: todoList.id,\n    title: \"\"\n  } as TodoItem);\n\n  return (\n    <div className=\"row add-item\">\n      <div className=\"narrow\">\n        <input type=\"checkbox\" disabled />\n      </div>\n      <div className=\"todo-item-input\">\n        <input\n          type=\"text\"\n          placeholder=\"Add todo item ...\"\n          value={item.title}\n          onChange={ev =>\n            setItem(item => ({\n              ...item,\n              title: ev.target.value\n            }))\n          }\n          onKeyUp={ev => {\n            if (ev.key === \"Enter\") {\n              db.todoItems.add(item);\n              setItem({\n                todoListId: todoList.id,\n                title: \"\"\n              } as TodoItem);\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { useLiveQuery } from 'dexie-react-hooks';\nimport { TodoList } from '../models/TodoList';\nimport { db } from '../db';\nimport { TodoItemView } from './TodoItemView';\nimport { AddTodoItem } from './AddTodoItem';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\n\ninterface Props {\n  todoList: TodoList;\n}\n\nexport function TodoListView({ todoList }: Props) {\n  const items = useLiveQuery(\n    () => db.todoItems.where({ todoListId: todoList.id }).toArray(),\n    [todoList.id]\n  );\n\n  if (!items) return null;\n\n  return (\n    <div className=\"box\">\n      <div className=\"grid-row\">\n        <h2>{todoList.title}</h2>\n        <div className=\"todo-list-trash\">\n          <button onClick={() => db.deleteList(todoList.id!)} title=\"Delete list\">\n            <FontAwesomeIcon icon={faTrashAlt} />\n          </button>\n        </div>\n      </div>\n      <div>\n        {items.map((item) => (\n          <TodoItemView key={item.id} item={item} />\n        ))}\n      </div>\n      <div>\n        <AddTodoItem todoList={todoList} />\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useLiveQuery } from \"dexie-react-hooks\";\nimport { db } from \"../db\";\nimport { TodoListView } from \"./TodoListView\";\n\nexport function TodoLists() {\n  const lists = useLiveQuery(() => db.todoLists.toArray());\n\n  if (!lists) return null;\n\n  return (\n    <div>\n      {lists.map(list => (\n        <TodoListView key={list.id} todoList={list} />\n      ))}\n    </div>\n  );\n}\n","import { faList } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { useLiveQuery } from \"dexie-react-hooks\";\nimport React, { useState } from \"react\";\nimport { db } from \"../db\";\n\nexport function AddTodoList() {\n  const [isActive, setIsActive] = useState(false);\n  const [title, setTitle] = useState(\"\");\n  const hasAnyList = useLiveQuery(async () => {\n  const listCount = await db.todoLists.count();\n    return listCount > 0;\n  });\n\n  return !isActive ? (\n    <button className=\"large-button\" onClick={() => setIsActive(!isActive)}>\n      <FontAwesomeIcon icon={faList} />{' '}\n      {hasAnyList ? `Add another list` : `Create ToDo List`}\n    </button>\n  ) : (\n    <div className=\"box\">\n      <h2>Give your list a name:</h2>\n      <div className=\"todo-item-input\">\n        <input\n          type=\"text\"\n          autoFocus\n          placeholder=\"Name of list...\"\n          value={title}\n          onChange={ev => setTitle(ev.target.value)}\n          onKeyUp={ev => {\n            if (ev.key === \"Enter\") {\n              db.todoLists.add({ title });\n              setTitle(\"\");\n              setIsActive(false);\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n","import { faDatabase } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { resetDatabase } from \"../db\";\n\nexport function ResetDatabaseButton() {\n  return (\n    <button\n      className=\"large-button\"\n      onClick={() => {\n        resetDatabase();\n      }}\n    >\n      <FontAwesomeIcon icon={faDatabase} /> Reset Database\n    </button>\n  );\n}\n","export const IconConnecting = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n    version=\"1.1\"\n    x=\"0px\"\n    y=\"0px\"\n    viewBox=\"0 0 100 125\"\n    xmlSpace=\"preserve\"\n  >\n    <g>\n      <path d=\"M81.2,38.9c-3.5-12.9-15.3-22-28.9-22c-11.4,0-21.9,6.7-26.9,16.8C12.6,34.6,2.5,45.3,2.5,58.4     c0,13.6,11.1,24.7,24.7,24.7h47.7c12.4,0,22.6-10.1,22.6-22.6C97.5,50.3,90.8,41.6,81.2,38.9z M74.9,75.4H27.2     c-9.4,0-17-7.6-17-17s7.6-17,17-17c0.2,0,0.4,0,0.6,0c1.6,0,3.2-0.9,3.7-2.5c3.3-8.5,11.6-14.3,20.8-14.3     c10.7,0,19.9,7.6,21.9,18.1c0.3,1.6,1.6,2.9,3.2,3.1c7.2,1.2,12.4,7.3,12.4,14.6C89.8,68.7,83.1,75.4,74.9,75.4z\" />\n    </g>\n    <g transform=\"translate(14,-958.36218)\">\n      <path\n        id=\"third\"\n        d=\"m 35,1000.3621 c -8.058,0 -15.4484,2.7386 -21.2188,7.1875 a 2.0002,2.0002 0 1 0 2.4376,3.1562 c 5.0947,-3.9281 11.635,-6.3437 18.7812,-6.3437 7.1462,0 13.6865,2.4156 18.7812,6.3437 a 2.0002,2.0002 0 1 0 2.4376,-3.1562 C 50.4484,1003.1007 43.058,1000.3621 35,1000.3621\"\n      />\n      <path\n        id=\"second\"\n        d=\"m 35,1009.3621 c -5.8189,0 -11.3007,1.7801 -15.5625,5.2812 a 2.0002,2.0002 0 1 0 2.5313,3.0938 c 3.4852,-2.8633 8.0339,-4.375 13.0312,-4.375 4.9973,0 9.546,1.5117 13.0312,4.375 a 2.0002,2.0002 0 1 0 2.5313,-3.0938 c -4.2618,-3.5011 -9.7436,-5.2812 -15.5625,-5.2812\"\n      />\n      <path\n        opacity=\"0.4\"\n        id=\"first\"\n        d=\"m 35,1018.9376 c -3.6493,0 -7.1142,1.1668 -9.8125,3.3437 a 2.0009763,2.0009763 0 0 0 2.5,3.125 c 1.9329,-1.5594 4.5256,-2.4687 7.3125,-2.4687 2.7869,0 5.3796,0.9093 7.3125,2.4687 a 2.0009763,2.0009763 0 1 0 2.5,-3.125 c -2.6983,-2.1769 -6.1632,-3.3437 -9.8125,-3.3437 z m 0,8.0625 z\"\n      />\n    </g>\n    <animate\n      xlinkHref=\"#first\"\n      attributeName=\"opacity\"\n      dur=\"3s\"\n      begin=\"0s\"\n      calcMode=\"discrete\"\n      from=\"0.2\"\n      to=\"1\"\n      repeatDur=\"indefinite\"\n    />\n    <animate\n      xlinkHref=\"#second\"\n      attributeName=\"opacity\"\n      dur=\"3s\"\n      begin=\"0.7s\"\n      calcMode=\"discrete\"\n      from=\"0.2\"\n      to=\"1\"\n      repeatDur=\"indefinite\"\n    />\n    <animate\n      xlinkHref=\"#third\"\n      attributeName=\"opacity\"\n      dur=\"3s\"\n      begin=\"1.4s\"\n      calcMode=\"discrete\"\n      from=\"0.2\"\n      to=\"1\"\n      repeatDur=\"indefinite\"\n    />\n  </svg>\n);\n","/*!\n\n    This icon is licensed under Creative Commons license.\n\n    Attribution Text: \"Error by Briyan Design from the Noun Project\"\n\n    Make sure to give the creator credits by showing the attribution text in your app!\n    Else, buy a commercial license from The Noun Project to use the icon (https://thenounproject.com).\n    \n*/\nexport const IconError = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n    xmlSpace=\"preserve\"\n    version=\"1.1\"\n    style={{shapeRendering: \"geometricPrecision\",\n      textRendering: \"geometricPrecision\",\n      // @ts-ignore\n      imageRendering: \"optimizeQuality\"\n    }}\n    viewBox=\"0 0 755 633.75\"\n    x=\"0px\"\n    y=\"0px\"\n    fillRule=\"evenodd\"\n    clipRule=\"evenodd\"\n  >\n    <g>\n      <path d=\"M205 111c69,-162 315,-141 357,29 47,9 88,40 108,84 139,63 99,283 -63,283l-459 0c-155,0 -201,-204 -76,-276 14,-64 68,-112 133,-120zm41 287c-15,16 -40,-8 -24,-24 38,-39 102,-54 155,-54 53,0 118,15 156,54 15,16 -9,40 -24,24 -32,-32 -88,-44 -132,-44 -43,0 -100,12 -131,44zm235 -190c-18,0 -33,15 -33,33 0,17 15,32 33,32 17,0 32,-15 32,-32 0,-18 -15,-33 -32,-33zm-207 0c18,0 33,15 33,33 0,17 -15,32 -33,32 -18,0 -32,-15 -32,-32 0,-18 14,-33 32,-33zm364 49c116,36 90,207 -31,207l-459 0c-117,0 -148,-163 -37,-204 3,-60 52,-108 113,-108 4,0 8,0 11,0 41,-161 280,-140 290,27 2,0 5,0 8,0 49,0 91,33 105,78z\" />\n    </g>\n  </svg>\n);\n","/*!\n\n    This icon is licensed under Creative Commons license.\n\n    Attribution Text: \"No cloud by Bernar  Novalyi from the Noun Project\"\n\n    Make sure to give the creator credits by showing the attribution text in your app!\n    Else, buy a commercial license from The Noun Project to use the icon (https://thenounproject.com).\n    \n*/\nexport const IconOffline = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    data-name=\"Layer 1\"\n    viewBox=\"0 0 100 125\"\n    x=\"0px\"\n    y=\"0px\"\n  >\n    <path d=\"M88.17,69.32A22,22,0,0,0,77.79,37.77a22,22,0,0,0-21.91-20.2,20.29,20.29,0,0,0-13.67,4.81l4.57,5.3a13.31,13.31,0,0,1,9.1-3.11,15,15,0,0,1,15,15c0,.06,0,.13,0,.19s0,.26,0,.39l-.1,2.75,2.65.75a15,15,0,0,1,8.79,22.1Z\" />\n    <path d=\"M28.76,80H60.44V73H28.76a15,15,0,0,1-15-15A17,17,0,0,1,23.6,42.7l-2.79-6.42A23.91,23.91,0,0,0,6.78,58,22,22,0,0,0,28.76,80Z\" />\n    <rect\n      x=\"45.53\"\n      y=\"-4.58\"\n      width=\"7\"\n      height=\"106.75\"\n      transform=\"translate(-20.14 48.96) rotate(-45)\"\n    />\n  </svg>\n);\n","/*!\n\n    This icon is licensed under Creative Commons license.\n\n    Attribution Text: \"Data by Alice Design from the Noun Project\"\n\n    Make sure to give the creator credits by showing the attribution text in your app!\n    Else, buy a commercial license from The Noun Project to use the icon (https://thenounproject.com).\n    \n*/\nexport const IconOnline = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n    version=\"1.1\"\n    x=\"0px\"\n    y=\"0px\"\n    viewBox=\"0 0 100 125\"\n    xmlSpace=\"preserve\"\n  >\n    <g>\n      <path d=\"M81.2,38.9c-3.5-12.9-15.3-22-28.9-22c-11.4,0-21.9,6.7-26.9,16.8C12.6,34.6,2.5,45.3,2.5,58.4     c0,13.6,11.1,24.7,24.7,24.7h47.7c12.4,0,22.6-10.1,22.6-22.6C97.5,50.3,90.8,41.6,81.2,38.9z M74.9,75.4H27.2     c-9.4,0-17-7.6-17-17s7.6-17,17-17c0.2,0,0.4,0,0.6,0c1.6,0,3.2-0.9,3.7-2.5c3.3-8.5,11.6-14.3,20.8-14.3     c10.7,0,19.9,7.6,21.9,18.1c0.3,1.6,1.6,2.9,3.2,3.1c7.2,1.2,12.4,7.3,12.4,14.6C89.8,68.7,83.1,75.4,74.9,75.4z\" />\n      <path d=\"M60.8,39.5c-0.8-0.6-1.9-0.5-2.6,0.2L43.4,56.5l-4.5-5.2c-0.7-0.8-1.8-0.9-2.6-0.2l-3.2,2.6c-0.8,0.6-0.9,1.8-0.3,2.6     l6.6,8.9c0.4,0.5,0.9,0.7,1.5,0.8l4.9,0c0.6,0,1.2-0.3,1.5-0.8l15.9-21.3c0.6-0.8,0.5-1.9-0.3-2.6L60.8,39.5z\" />\n    </g>\n  </svg>\n);\n","/*!\n\n    This icon is licensed under Creative Commons license.\n\n    Attribution Texts: \"Inspired by icons by Alice Design from the Noun Project\"\n\t\t\t\t\t\t\t\t\t\t \t \"and by Julien Deveaux from the Noun project\"\n\n    Make sure to give the author credits by showing the attribution text in your app!\n    Else, buy a commercial license from The Noun Project to use the icon (https://thenounproject.com).\n\t\tThis particular icon is a combination of cloud icons from thenounproject.\n    \n*/\nexport const IconSleepyCloud = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n    version=\"1.1\"\n    x=\"0px\"\n    y=\"0px\"\n    viewBox=\"0 0 100 125\"\n    xmlSpace=\"preserve\"\n  >\n    <g transform=\"scale(1 0.95) translate(0 10)\">\n      {/* Cloud */}\n      <path d=\"M81.2,38.9c-3.5-12.9-15.3-22-28.9-22c-11.4,0-21.9,6.7-26.9,16.8C12.6,34.6,2.5,45.3,2.5,58.4     c0,13.6,11.1,24.7,24.7,24.7h47.7c12.4,0,22.6-10.1,22.6-22.6C97.5,50.3,90.8,41.6,81.2,38.9z M74.9,75.4H27.2     c-9.4,0-17-7.6-17-17s7.6-17,17-17c0.2,0,0.4,0,0.6,0c1.6,0,3.2-0.9,3.7-2.5c3.3-8.5,11.6-14.3,20.8-14.3     c10.7,0,19.9,7.6,21.9,18.1c0.3,1.6,1.6,2.9,3.2,3.1c7.2,1.2,12.4,7.3,12.4,14.6C89.8,68.7,83.1,75.4,74.9,75.4z\" />\n    </g>\n    <g transform=\"translate(-40,-20) scale(1.5 1.5)\">\n      {/* Z z */}\n      <polygon points=\"84.453,20.676 87.936,20.687 84.442,23.66 84.433,25.766 91.565,25.793 91.572,23.755   88.007,23.741 91.58,20.701 91.591,18.665 84.458,18.636 \" />\n  \t\t<polygon points=\"82.076,21.047 72.533,21.011 72.525,23.739 77.184,23.755 72.507,27.732 72.5,30.552 82.042,30.589   82.051,27.861 77.281,27.842 82.065,23.774 \" />\n    </g>\n    <g transform=\"translate(-29 -10) scale(1.5 1.5)\">\n      {/* Left eye */}\n      <path\n        d=\"M42.5,49.062h-3.75c-0.518,0-0.938,0.419-0.938,0.938s0.419,0.938,0.938,0.938h3.75  c0.518,0,0.938-0.419,0.938-0.938S43.018,49.062,42.5,49.062z\"\n      />\n      {/* Right eye */}\n      <path\n        d=\"M61.25,49.062H57.5c-0.518,0-0.938,0.419-0.938,0.938s0.419,0.938,0.938,0.938h3.75  c0.518,0,0.938-0.419,0.938-0.938S61.768,49.062,61.25,49.062z\"\n      />\n    </g>\n  </svg>\n);\n","import \"./SvgIcon.css\";\nimport { ReactNode } from \"react\";\n\ninterface Props {\n  children?: ReactNode;\n  className?: string;\n  title?: string;\n}\n\nexport function SvgIcon({ children, className, title }: Props) {\n  return <div className={\"svg-icon\" + (className ? ' ' + className : '')} title={title}>\n    <div>{children}</div>\n  </div>;\n}\n","import { useObservable } from 'react-use';\nimport { db } from '../../db';\nimport { IconConnecting } from '../icons/IconConnecting';\nimport { IconError } from '../icons/IconError';\nimport { IconOffline } from '../icons/IconOffline';\nimport { IconOnline } from '../icons/IconOnline';\nimport { IconSleepyCloud } from '../icons/IconSleepyCloud';\nimport { SvgIcon } from './SvgIcon';\n\ninterface Props {\n  className?: string;\n}\nexport function SyncStatusIcon({ className }: Props) {\n  const syncStatus = useObservable(db.cloud.syncState);\n  switch (syncStatus?.status) {\n    case 'not-started':\n      return <SvgIcon className={className}></SvgIcon>;\n    case 'connecting':\n      return (\n        <SvgIcon className={className}>\n          <IconConnecting />\n        </SvgIcon>\n      );\n    case 'connected':\n      return (\n        <SvgIcon className={className}>\n          <IconOnline />\n        </SvgIcon>\n      );\n    case 'disconnected':\n      return (\n        <SvgIcon className={className}>\n          <IconSleepyCloud />\n        </SvgIcon>\n      );\n    case 'offline':\n      return (\n        <SvgIcon\n          className={className}\n          title={syncStatus.error && '' + syncStatus.error}\n        >\n          <IconOffline />\n        </SvgIcon>\n      );\n    case 'error':\n      return (\n        <SvgIcon\n          className={className}\n          title={syncStatus.error && '' + syncStatus.error}\n        >\n          <IconError />\n        </SvgIcon>\n      );\n\n    default:\n      /*return (\n        <SvgIcon className={className}>\n          <IconInSync />\n        </SvgIcon>\n      );*/\n      return <SvgIcon className={className}>{syncStatus?.phase}</SvgIcon>;\n  }\n}\n","export function handleError<TArgs extends any[], TResult>(\n  fn: (...args: TArgs) => Promise<TResult>\n) {\n  return (...args: TArgs) =>\n    fn(...args).catch((error) => {\n      if (error?.name === 'AbortError') {\n        // AbortErrors are normal. It means a user has willingly cancelled a dialog\n        // or aborted a transaction. Give a lower log level.\n        console.debug(error);\n      } else {\n        console.error(error);\n      }\n    });\n}\n","import React from 'react';\nimport {\n  Navbar,\n  NavDropdown,\n  Button,\n  NavLink,\n} from 'react-bootstrap';\nimport { useObservable } from 'react-use';\nimport { db, resetDatabase } from '../../db';\nimport { SyncStatusIcon } from './SyncStatusIcon';\nimport './NavBar.css';\nimport importData from '../../data/importfile.json';\nimport { handleError } from '../../helpers/handleError';\n\nexport function NavBar() {\n  const currentUser = useObservable(db.cloud.currentUser);\n  return (\n    <Navbar\n      fixed=\"top\"\n      sticky=\"top\"\n      collapseOnSelect\n      expand=\"lg\"\n      bg=\"dark\"\n      variant=\"dark\"\n    >\n      <Navbar.Brand>Dexie Cloud ToDo App</Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n      <Navbar.Text className=\"d-inline-flex d-lg-none status-icons-collapsed\">\n        <SyncStatusIcon />\n      </Navbar.Text>\n      <Navbar.Collapse\n        id=\"responsive-navbar-nav\"\n        className=\"justify-content-end\"\n      >\n        {currentUser?.isLoggedIn ? (\n          <>\n            <Navbar.Text className=\"d-none d-lg-inline-flex status-icons-not-collapsed\">\n              <SyncStatusIcon />\n            </Navbar.Text>\n            <NavDropdown title={currentUser.name} id=\"basic-nav-dropdown\">\n              <NavDropdown.Item onClick={() => resetDatabase()}>\n                Logout\n              </NavDropdown.Item>\n            </NavDropdown>\n          </>\n        ) : (\n          <NavDropdown id=\"basic-nav-dropdown\" title=\"Sign in or create your account\">\n            <NavDropdown.Header>Sign in a demo user</NavDropdown.Header>\n            <>\n              {Object.keys(importData.demoUsers).map((email) => (\n                <NavDropdown.Item key={email}>\n                  <NavLink\n                    onClick={handleError(() =>\n                      db.cloud.login({ grant_type: 'demo', email })\n                    )}\n                  >\n                    {email}\n                  </NavLink>\n                </NavDropdown.Item>\n              ))}\n            </>\n            <NavDropdown.Divider />\n            <NavDropdown.Header>Sign in real user</NavDropdown.Header>\n            <NavDropdown.Item>\n              <Button onClick={handleError(() => db.cloud.login())}>\n                Sign in / sign up yourself\n              </Button>\n            </NavDropdown.Item>\n          </NavDropdown>\n        )}\n      </Navbar.Collapse>\n      {/*<div style={{position: \"absolute\", top: 0, right: 10}}>\n            <SyncStatusIcon />\n          </div>*/}\n    </Navbar>\n  );\n}\n","import React from 'react';\nimport { TodoLists } from './components/TodoLists';\nimport { AddTodoList } from './components/AddTodoList';\nimport { ResetDatabaseButton } from './components/ResetDatabaseButton';\nimport { NavBar } from './components/navbar/NavBar';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div>\n      <NavBar />\n      <TodoLists />\n      <AddTodoList />\n      <ResetDatabaseButton />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import Dexie from \"dexie\";\n\n//\n// Put Dexie on window.\n// (makes it possible to use Dexie in devtools console)\n//\n// Enables an easy way of seeing which version is used and inspect the database:\n//\n//  > Dexie.semVer\n// \"3.2.0-beta-2\"\n//  > Dexie.Cloud.version\n//  \"1.0.0-beta.6\"\n//  > await Dexie.getDatabaseNames()\n//  (2) [\"TodoDBCloud\", \"TodoDBCloud-z0lesejpr\"]\n//  > db = await new Dexie(\"TodoDBCloud-z0lesejpr\").open()\n//  > db.tables\n//  (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]\n//  > await db.table('todoItems').toArray()\n//  (8) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]\n\n//@ts-ignore\nwindow.Dexie = Dexie; \n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\nimport './helpers/simplify-debugging';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}